
usound.exe:     file format elf32-tradlittlemips

Disassembly of section .text:

bfc16c00 <no_data_control>:
bfc16c00:	6491      	save	8,s1
 * \par
 * \note
 *******************************************************************************/
void no_data_control(void)
{
bfc16c02:	673d      	move	s1,sp
bfc16c04:	b405      	lw	a0,bfc16c18 <RCODE_TEXT_ADDR+0x18>
    act_writeb(0x02 | act_readb(Ep0cs_hcep0cs), Ep0cs_hcep0cs);
bfc16c06:	b205      	lw	v0,bfc16c18 <RCODE_TEXT_ADDR+0x18>
bfc16c08:	a240      	lbu	v0,0(v0)
bfc16c0a:	6762      	move	v1,v0
bfc16c0c:	6a02      	li	v0,2
bfc16c0e:	ea6d      	or	v0,v1
bfc16c10:	c440      	sb	v0,0(a0)
bfc16c12:	65b9      	move	sp,s1
}
bfc16c14:	6411      	restore	8,s1
bfc16c16:	e8a0      	jrc	ra
bfc16c18:	0002      	addiu	s0,sp,8
bfc16c1a:	c008      	sb	s0,8(s0)

bfc16c1c <control_write>:
bfc16c1c:	6492      	save	16,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   updata by endpoint0.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
void control_write(uint8 *data_address, uint8 data_length, uint8 request_length)
{
bfc16c1e:	673d      	move	s1,sp
bfc16c20:	d984      	sw	a0,16(s1)
bfc16c22:	6745      	move	v0,a1
bfc16c24:	6766      	move	v1,a2
bfc16c26:	c154      	sb	v0,20(s1)
bfc16c28:	c178      	sb	v1,24(s1)
bfc16c2a:	a174      	lbu	v1,20(s1)
    uint8 transfer_length, temp_count;
    uint8 *p_temp;

    /* if length of data to be received is more than PC sent, only send data length that pc sent.  */
    if(data_length <= request_length) {
bfc16c2c:	a158      	lbu	v0,24(s1)
bfc16c2e:	ea63      	sltu	v0,v1
bfc16c30:	6103      	btnez	bfc16c38 <control_write+0x1c>
bfc16c32:	a154      	lbu	v0,20(s1)
        transfer_length = data_length;
bfc16c34:	c140      	sb	v0,0(s1)
bfc16c36:	1002      	b	bfc16c3c <control_write+0x20>
bfc16c38:	a158      	lbu	v0,24(s1)
    } else {
        transfer_length = request_length;
bfc16c3a:	c140      	sb	v0,0(s1)
bfc16c3c:	9944      	lw	v0,16(s1)
    }
    p_temp = data_address;
bfc16c3e:	d941      	sw	v0,4(s1)
bfc16c40:	b31a      	lw	v1,bfc16ca8 <control_write+0x8c>

    /* clear OUT0BC to receive data from PC.  */
    act_writeb(0x00, Out0bc_hcin0bc);
bfc16c42:	6a00      	li	v0,0
bfc16c44:	c340      	sb	v0,0(v1)
bfc16c46:	b21a      	lw	v0,bfc16cac <control_write+0x90>

    /* wait transfer complete. */
    while(1) {
        /* check if busy.   */
        if((act_readb(Ep0cs_hcep0cs) & 0x08) == 0x00) {
bfc16c48:	a240      	lbu	v0,0(v0)
bfc16c4a:	6762      	move	v1,v0
bfc16c4c:	eb11      	zeb	v1
bfc16c4e:	6a08      	li	v0,8
bfc16c50:	ea6c      	and	v0,v1
bfc16c52:	2a01      	bnez	v0,bfc16c56 <control_write+0x3a>
bfc16c54:	100a      	b	bfc16c6a <control_write+0x4e>
            break;
bfc16c56:	b217      	lw	v0,bfc16cb0 <control_write+0x94>
        }

        if(USB_CONNECT_STATUS != 0x00) {
bfc16c58:	a240      	lbu	v0,0(v0)
bfc16c5a:	6762      	move	v1,v0
bfc16c5c:	eb11      	zeb	v1
bfc16c5e:	6a40      	li	v0,64
bfc16c60:	ea6c      	and	v0,v1
bfc16c62:	22f1      	beqz	v0,bfc16c46 <control_write+0x2a>
bfc16c64:	b314      	lw	v1,bfc16cb4 <control_write+0x98>
            g_usb_state = 0x01;
bfc16c66:	6a01      	li	v0,1
bfc16c68:	db40      	sw	v0,0(v1)
bfc16c6a:	6a00      	li	v0,0
            break;
        }
    }/* while(1) */

    for(temp_count = 0; temp_count < transfer_length; temp_count++) {
bfc16c6c:	c141      	sb	v0,1(s1)
bfc16c6e:	a141      	lbu	v0,1(s1)
bfc16c70:	a160      	lbu	v1,0(s1)
bfc16c72:	ea63      	sltu	v0,v1
bfc16c74:	600c      	bteqz	bfc16c8e <control_write+0x72>
bfc16c76:	a161      	lbu	v1,1(s1)
        *(p_temp + temp_count) = act_readb(Ep0outdata + temp_count);
bfc16c78:	9941      	lw	v0,4(s1)
bfc16c7a:	e351      	addu	a0,v1,v0
bfc16c7c:	a161      	lbu	v1,1(s1)
bfc16c7e:	b20f      	lw	v0,bfc16cb8 <control_write+0x9c>
bfc16c80:	e269      	addu	v0,v1
bfc16c82:	a240      	lbu	v0,0(v0)
bfc16c84:	c440      	sb	v0,0(a0)
bfc16c86:	a141      	lbu	v0,1(s1)
bfc16c88:	4241      	addiu	v0,v0,1
bfc16c8a:	c141      	sb	v0,1(s1)
bfc16c8c:	17f0      	b	bfc16c6e <control_write+0x52>
bfc16c8e:	b307      	lw	v1,bfc16ca8 <control_write+0x8c>
    }
    act_writeb(0x01, Out0bc_hcin0bc);
bfc16c90:	6a01      	li	v0,1
bfc16c92:	c340      	sb	v0,0(v1)
bfc16c94:	b406      	lw	a0,bfc16cac <control_write+0x90>
    act_writeb(act_readb(Ep0cs_hcep0cs) | 0x02, Ep0cs_hcep0cs);
bfc16c96:	b206      	lw	v0,bfc16cac <control_write+0x90>
bfc16c98:	a240      	lbu	v0,0(v0)
bfc16c9a:	6762      	move	v1,v0
bfc16c9c:	6a02      	li	v0,2
bfc16c9e:	ea6d      	or	v0,v1
bfc16ca0:	c440      	sb	v0,0(a0)
bfc16ca2:	65b9      	move	sp,s1

}
bfc16ca4:	6412      	restore	16,s1
bfc16ca6:	e8a0      	jrc	ra
bfc16ca8:	0000      	addiu	s0,sp,0
bfc16caa:	c008      	sb	s0,8(s0)
bfc16cac:	0002      	addiu	s0,sp,8
bfc16cae:	c008      	sb	s0,8(s0)
bfc16cb0:	018c      	addiu	s1,sp,560
bfc16cb2:	c008      	sb	s0,8(s0)
bfc16cb4:	9364      	lw	v1,400(sp)
bfc16cb6:	9fc1      	lw	a2,4(a3)
bfc16cb8:	0140      	addiu	s1,sp,256
bfc16cba:	c008      	sb	s0,8(s0)

bfc16cbc <control_read>:
bfc16cbc:	64d4      	save	32,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   download data by endpoint0.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
void control_read(uint8 *d_addr, uint8 actul_dlen, uint8 rqst_dlen)
{
bfc16cbe:	0104      	addiu	s1,sp,16
bfc16cc0:	d984      	sw	a0,16(s1)
bfc16cc2:	6745      	move	v0,a1
bfc16cc4:	6766      	move	v1,a2
bfc16cc6:	c154      	sb	v0,20(s1)
bfc16cc8:	c178      	sb	v1,24(s1)
bfc16cca:	6a00      	li	v0,0
    uint8 translen_sum;
    uint8 translen_once;
    uint8 i;
    uint32 time_out_cnt = 0;
bfc16ccc:	d941      	sw	v0,4(s1)
bfc16cce:	a158      	lbu	v0,24(s1)
    //calucate data length of this control read
    if(rqst_dlen == 0x00) {
bfc16cd0:	2a03      	bnez	v0,bfc16cd8 <control_read+0x1c>
bfc16cd2:	a154      	lbu	v0,20(s1)
        translen_sum = actul_dlen;
bfc16cd4:	c140      	sb	v0,0(s1)
bfc16cd6:	1009      	b	bfc16cea <control_read+0x2e>
bfc16cd8:	a158      	lbu	v0,24(s1)
    } else if(rqst_dlen > actul_dlen) {
bfc16cda:	a174      	lbu	v1,20(s1)
bfc16cdc:	eb43      	sltu	v1,v0
bfc16cde:	6003      	bteqz	bfc16ce6 <control_read+0x2a>
bfc16ce0:	a154      	lbu	v0,20(s1)
        translen_sum = actul_dlen;
bfc16ce2:	c140      	sb	v0,0(s1)
bfc16ce4:	1002      	b	bfc16cea <control_read+0x2e>
bfc16ce6:	a158      	lbu	v0,24(s1)
    } else {
        translen_sum = rqst_dlen;
bfc16ce8:	c140      	sb	v0,0(s1)
bfc16cea:	a140      	lbu	v0,0(s1)
    }

    //transferring
    while(translen_sum != 0) {
bfc16cec:	2242      	beqz	v0,bfc16d72 <control_read+0xb6>
bfc16cee:	a140      	lbu	v0,0(s1)
        if(translen_sum > 0x40) {
bfc16cf0:	5a41      	sltiu	v0,65
bfc16cf2:	6106      	btnez	bfc16d00 <control_read+0x44>
bfc16cf4:	6a40      	li	v0,64
            translen_once = 0x40;
bfc16cf6:	c141      	sb	v0,1(s1)
bfc16cf8:	a140      	lbu	v0,0(s1)
            translen_sum = translen_sum - 0x40;
bfc16cfa:	4ac0      	addiu	v0,-64
bfc16cfc:	c140      	sb	v0,0(s1)
bfc16cfe:	1004      	b	bfc16d08 <control_read+0x4c>
bfc16d00:	a140      	lbu	v0,0(s1)
        } else {
            translen_once = translen_sum;
bfc16d02:	c141      	sb	v0,1(s1)
bfc16d04:	6a00      	li	v0,0
            translen_sum = 0x00;
bfc16d06:	c140      	sb	v0,0(s1)
bfc16d08:	6a00      	li	v0,0
        }
        for(i = 0; i < translen_once; i++) {
bfc16d0a:	c142      	sb	v0,2(s1)
bfc16d0c:	a142      	lbu	v0,2(s1)
bfc16d0e:	a161      	lbu	v1,1(s1)
bfc16d10:	ea63      	sltu	v0,v1
bfc16d12:	600d      	bteqz	bfc16d2e <control_read+0x72>
bfc16d14:	a162      	lbu	v1,2(s1)
            //write data to ep0infofo
            act_writeb(*d_addr, (Ep0indata + i));
bfc16d16:	b21d      	lw	v0,bfc16d88 <control_read+0xcc>
bfc16d18:	e26d      	addu	v1,v0,v1
bfc16d1a:	9944      	lw	v0,16(s1)
bfc16d1c:	a240      	lbu	v0,0(v0)
bfc16d1e:	c340      	sb	v0,0(v1)
bfc16d20:	9944      	lw	v0,16(s1)
            d_addr++;
bfc16d22:	4241      	addiu	v0,v0,1
bfc16d24:	d944      	sw	v0,16(s1)
bfc16d26:	a142      	lbu	v0,2(s1)
bfc16d28:	4241      	addiu	v0,v0,1
bfc16d2a:	c142      	sb	v0,2(s1)
bfc16d2c:	17ef      	b	bfc16d0c <control_read+0x50>
bfc16d2e:	b318      	lw	v1,bfc16d8c <control_read+0xd0>
        }
        //wtite in0 conter,it will start packet transfer and set in0busy
        act_writeb((uint8) translen_once, In0bc_hcout0bc);
bfc16d30:	a141      	lbu	v0,1(s1)
bfc16d32:	c340      	sb	v0,0(v1)
bfc16d34:	b217      	lw	v0,bfc16d90 <control_read+0xd4>
        //wait transfer end,Inbsy_hcoutbsy = b'0'

        while((act_readb(Ep0cs_hcep0cs) & 0x04) != 0x00) {
bfc16d36:	a240      	lbu	v0,0(v0)
bfc16d38:	6762      	move	v1,v0
bfc16d3a:	eb11      	zeb	v1
bfc16d3c:	6a04      	li	v0,4
bfc16d3e:	ea6c      	and	v0,v1
bfc16d40:	220e      	beqz	v0,bfc16d5e <control_read+0xa2>
bfc16d42:	9941      	lw	v0,4(s1)
            //5s timeout delay
            if(time_out_cnt < 100000) {
bfc16d44:	b314      	lw	v1,bfc16d94 <control_read+0xd8>
bfc16d46:	eb43      	sltu	v1,v0
bfc16d48:	610a      	btnez	bfc16d5e <control_read+0xa2>
bfc16d4a:	9941      	lw	v0,4(s1)
                time_out_cnt++;
bfc16d4c:	4241      	addiu	v0,v0,1
bfc16d4e:	d941      	sw	v0,4(s1)
bfc16d50:	6c0a      	li	a0,10
                sys_udelay(10);
bfc16d52:	6d00      	li	a1,0
bfc16d54:	6e00      	li	a2,0
bfc16d56:	6f1e      	li	a3,30
bfc16d58:	b210      	lw	v0,bfc16d98 <control_read+0xdc>
bfc16d5a:	eac0      	jalrc	v0
bfc16d5c:	17eb      	b	bfc16d34 <control_read+0x78>
bfc16d5e:	b210      	lw	v0,bfc16d9c <control_read+0xe0>
            } else {
                break;
            }
        }

        if(USB_CONNECT_STATUS != 0x00) {
bfc16d60:	a240      	lbu	v0,0(v0)
bfc16d62:	6762      	move	v1,v0
bfc16d64:	eb11      	zeb	v1
bfc16d66:	6a40      	li	v0,64
bfc16d68:	ea6c      	and	v0,v1
bfc16d6a:	22bf      	beqz	v0,bfc16cea <control_read+0x2e>
bfc16d6c:	b30d      	lw	v1,bfc16da0 <control_read+0xe4>
            g_usb_state = 0x01;
bfc16d6e:	6a01      	li	v0,1
bfc16d70:	db40      	sw	v0,0(v1)
bfc16d72:	b408      	lw	a0,bfc16d90 <control_read+0xd4>
            break;
        }
    }
    act_writeb(0x02 | act_readb(Ep0cs_hcep0cs), Ep0cs_hcep0cs);
bfc16d74:	b207      	lw	v0,bfc16d90 <control_read+0xd4>
bfc16d76:	a240      	lbu	v0,0(v0)
bfc16d78:	6762      	move	v1,v0
bfc16d7a:	6a02      	li	v0,2
bfc16d7c:	ea6d      	or	v0,v1
bfc16d7e:	c440      	sb	v0,0(a0)
bfc16d80:	65b9      	move	sp,s1
}
bfc16d82:	6452      	restore	16,ra,s1
bfc16d84:	e8a0      	jrc	ra
bfc16d86:	0000      	addiu	s0,sp,0
bfc16d88:	0100      	addiu	s1,sp,0
bfc16d8a:	c008      	sb	s0,8(s0)
bfc16d8c:	0001      	addiu	s0,sp,4
bfc16d8e:	c008      	sb	s0,8(s0)
bfc16d90:	0002      	addiu	s0,sp,8
bfc16d92:	c008      	sb	s0,8(s0)
bfc16d94:	869f      	lb	a0,31(a2)
bfc16d96:	0001      	addiu	s0,sp,4
bfc16d98:	8ea1      	lh	a1,2(a2)
bfc16d9a:	bfc1      	lwu	a2,4(a3)
bfc16d9c:	018c      	addiu	s1,sp,560
bfc16d9e:	c008      	sb	s0,8(s0)
bfc16da0:	9364      	lw	v1,400(sp)
bfc16da2:	9fc1      	lw	a2,4(a3)

bfc16da4 <stall_endpoint>:
bfc16da4:	6492      	save	16,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   stall endpoint.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
void stall_endpoint(uint8 ep_num)
{
bfc16da6:	673d      	move	s1,sp
bfc16da8:	6744      	move	v0,a0
bfc16daa:	c150      	sb	v0,16(s1)
bfc16dac:	a150      	lbu	v0,16(s1)
    switch(ep_num) {
bfc16dae:	d940      	sw	v0,0(s1)
bfc16db0:	9940      	lw	v0,0(s1)
bfc16db2:	5a05      	sltiu	v0,5
bfc16db4:	6037      	bteqz	bfc16e24 <stall_endpoint+0x80>
bfc16db6:	9940      	lw	v0,0(s1)
bfc16db8:	3344      	sll	v1,v0,1
bfc16dba:	0a05      	la	v0,bfc16dcc <stall_endpoint+0x28>
bfc16dbc:	e349      	addu	v0,v1,v0
bfc16dbe:	aa40      	lhu	v0,0(v0)
bfc16dc0:	6762      	move	v1,v0
bfc16dc2:	ebb1      	seh	v1
bfc16dc4:	b21f      	lw	v0,bfc16e40 <stall_endpoint+0x9c>
bfc16dc6:	e349      	addu	v0,v1,v0
bfc16dc8:	ea80      	jrc	v0
bfc16dca:	0000      	addiu	s0,sp,0
bfc16dcc:	000b      	addiu	s0,sp,44
bfc16dce:	003b      	addiu	s0,sp,236
bfc16dd0:	001b      	addiu	s0,sp,108
bfc16dd2:	004b      	addiu	s0,sp,300
bfc16dd4:	002b      	addiu	s0,sp,172
bfc16dd6:	b416      	lw	a0,bfc16e2c <stall_endpoint+0x88>
        case EP0:
            //stall ep0
            act_writeb(0x01 | act_readb(Ep0cs_hcep0cs), Ep0cs_hcep0cs);
bfc16dd8:	b215      	lw	v0,bfc16e2c <stall_endpoint+0x88>
bfc16dda:	a240      	lbu	v0,0(v0)
bfc16ddc:	6762      	move	v1,v0
bfc16dde:	6a01      	li	v0,1
bfc16de0:	ea6d      	or	v0,v1
bfc16de2:	c440      	sb	v0,0(a0)
bfc16de4:	101f      	b	bfc16e24 <stall_endpoint+0x80>
            break;
bfc16de6:	b413      	lw	a0,bfc16e30 <stall_endpoint+0x8c>
        case EP1OUT:
            //stall ep1out
            act_writeb(0x40 | act_readb(Out1ctrl_hcin1ctrl), Out1ctrl_hcin1ctrl);
bfc16de8:	b212      	lw	v0,bfc16e30 <stall_endpoint+0x8c>
bfc16dea:	a240      	lbu	v0,0(v0)
bfc16dec:	6762      	move	v1,v0
bfc16dee:	6a40      	li	v0,64
bfc16df0:	ea6d      	or	v0,v1
bfc16df2:	c440      	sb	v0,0(a0)
bfc16df4:	1017      	b	bfc16e24 <stall_endpoint+0x80>
            break;
bfc16df6:	b410      	lw	a0,bfc16e34 <stall_endpoint+0x90>
        case EP2OUT:
            //stall ep2out
            act_writeb(0x40 | act_readb(Out2ctrl_hcin2ctrl), Out2ctrl_hcin2ctrl);
bfc16df8:	b20f      	lw	v0,bfc16e34 <stall_endpoint+0x90>
bfc16dfa:	a240      	lbu	v0,0(v0)
bfc16dfc:	6762      	move	v1,v0
bfc16dfe:	6a40      	li	v0,64
bfc16e00:	ea6d      	or	v0,v1
bfc16e02:	c440      	sb	v0,0(a0)
bfc16e04:	100f      	b	bfc16e24 <stall_endpoint+0x80>
            break;
bfc16e06:	b40d      	lw	a0,bfc16e38 <stall_endpoint+0x94>
        case EP1IN:
            //stall ep1in
            act_writeb(0x40 | act_readb(In1ctrl_hcout1ctrl), In1ctrl_hcout1ctrl);
bfc16e08:	b20c      	lw	v0,bfc16e38 <stall_endpoint+0x94>
bfc16e0a:	a240      	lbu	v0,0(v0)
bfc16e0c:	6762      	move	v1,v0
bfc16e0e:	6a40      	li	v0,64
bfc16e10:	ea6d      	or	v0,v1
bfc16e12:	c440      	sb	v0,0(a0)
bfc16e14:	1007      	b	bfc16e24 <stall_endpoint+0x80>
            break;
bfc16e16:	b40a      	lw	a0,bfc16e3c <stall_endpoint+0x98>
        case EP2IN:
            //stall ep2in
            act_writeb(0x40 | act_readb(In2ctrl_hcout2ctrl), In2ctrl_hcout2ctrl);
bfc16e18:	b209      	lw	v0,bfc16e3c <stall_endpoint+0x98>
bfc16e1a:	a240      	lbu	v0,0(v0)
bfc16e1c:	6762      	move	v1,v0
bfc16e1e:	6a40      	li	v0,64
bfc16e20:	ea6d      	or	v0,v1
bfc16e22:	c440      	sb	v0,0(a0)
bfc16e24:	65b9      	move	sp,s1
            break;
        default:
            break;
    }
    return;
}
bfc16e26:	6412      	restore	16,s1
bfc16e28:	e8a0      	jrc	ra
bfc16e2a:	0000      	addiu	s0,sp,0
bfc16e2c:	0002      	addiu	s0,sp,8
bfc16e2e:	c008      	sb	s0,8(s0)
bfc16e30:	000a      	addiu	s0,sp,40
bfc16e32:	c008      	sb	s0,8(s0)
bfc16e34:	0012      	addiu	s0,sp,72
bfc16e36:	c008      	sb	s0,8(s0)
bfc16e38:	000e      	addiu	s0,sp,56
bfc16e3a:	c008      	sb	s0,8(s0)
bfc16e3c:	0016      	addiu	s0,sp,88
bfc16e3e:	c008      	sb	s0,8(s0)
bfc16e40:	6dcc      	li	a1,204
bfc16e42:	bfc1      	lwu	a2,4(a3)

bfc16e44 <recover_stall_endpoint>:
bfc16e44:	6492      	save	16,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   recover enpoint.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
void recover_stall_endpoint(uint8 ep_num)
{
bfc16e46:	673d      	move	s1,sp
bfc16e48:	6744      	move	v0,a0
bfc16e4a:	c150      	sb	v0,16(s1)
bfc16e4c:	a150      	lbu	v0,16(s1)
    switch(ep_num) {
bfc16e4e:	d940      	sw	v0,0(s1)
bfc16e50:	9940      	lw	v0,0(s1)
bfc16e52:	5a05      	sltiu	v0,5
bfc16e54:	6041      	bteqz	bfc16ed8 <recover_stall_endpoint+0x94>
bfc16e56:	9940      	lw	v0,0(s1)
bfc16e58:	3344      	sll	v1,v0,1
bfc16e5a:	0a05      	la	v0,bfc16e6c <recover_stall_endpoint+0x28>
bfc16e5c:	e349      	addu	v0,v1,v0
bfc16e5e:	aa40      	lhu	v0,0(v0)
bfc16e60:	6762      	move	v1,v0
bfc16e62:	ebb1      	seh	v1
bfc16e64:	b224      	lw	v0,bfc16ef4 <recover_stall_endpoint+0xb0>
bfc16e66:	e349      	addu	v0,v1,v0
bfc16e68:	ea80      	jrc	v0
bfc16e6a:	0000      	addiu	s0,sp,0
bfc16e6c:	000b      	addiu	s0,sp,44
bfc16e6e:	0047      	addiu	s0,sp,284
bfc16e70:	001f      	addiu	s0,sp,124
bfc16e72:	005b      	addiu	s0,sp,364
bfc16e74:	0033      	addiu	s0,sp,204
bfc16e76:	b51b      	lw	a1,bfc16ee0 <recover_stall_endpoint+0x9c>
        case EP0:
            //claer stall bit for ep0
            act_writeb((uint8) 0xfe & act_readb(Ep0cs_hcep0cs), Ep0cs_hcep0cs);
bfc16e78:	b21a      	lw	v0,bfc16ee0 <recover_stall_endpoint+0x9c>
bfc16e7a:	6c02      	li	a0,2
bfc16e7c:	ec8b      	neg	a0
bfc16e7e:	a240      	lbu	v0,0(v0)
bfc16e80:	6762      	move	v1,v0
bfc16e82:	6744      	move	v0,a0
bfc16e84:	ea6c      	and	v0,v1
bfc16e86:	c540      	sb	v0,0(a1)
bfc16e88:	1027      	b	bfc16ed8 <recover_stall_endpoint+0x94>
            break;
bfc16e8a:	b517      	lw	a1,bfc16ee4 <recover_stall_endpoint+0xa0>
        case EP1OUT:
            //claer stall bit for ep1out
            act_writeb((uint8) 0xbf & act_readb(Out1ctrl_hcin1ctrl), Out1ctrl_hcin1ctrl);
bfc16e8c:	b216      	lw	v0,bfc16ee4 <recover_stall_endpoint+0xa0>
bfc16e8e:	6c41      	li	a0,65
bfc16e90:	ec8b      	neg	a0
bfc16e92:	a240      	lbu	v0,0(v0)
bfc16e94:	6762      	move	v1,v0
bfc16e96:	6744      	move	v0,a0
bfc16e98:	ea6c      	and	v0,v1
bfc16e9a:	c540      	sb	v0,0(a1)
bfc16e9c:	101d      	b	bfc16ed8 <recover_stall_endpoint+0x94>
            break;
bfc16e9e:	b513      	lw	a1,bfc16ee8 <recover_stall_endpoint+0xa4>
        case EP2OUT:
            //claer stall bit for ep2out
            act_writeb((uint8) 0xbf & act_readb(Out2ctrl_hcin2ctrl), Out2ctrl_hcin2ctrl);
bfc16ea0:	b212      	lw	v0,bfc16ee8 <recover_stall_endpoint+0xa4>
bfc16ea2:	6c41      	li	a0,65
bfc16ea4:	ec8b      	neg	a0
bfc16ea6:	a240      	lbu	v0,0(v0)
bfc16ea8:	6762      	move	v1,v0
bfc16eaa:	6744      	move	v0,a0
bfc16eac:	ea6c      	and	v0,v1
bfc16eae:	c540      	sb	v0,0(a1)
bfc16eb0:	1013      	b	bfc16ed8 <recover_stall_endpoint+0x94>
            break;
bfc16eb2:	b50f      	lw	a1,bfc16eec <recover_stall_endpoint+0xa8>
        case EP1IN:
            //claer stall bit for ep1in
            act_writeb((uint8) 0xbf & act_readb(In1ctrl_hcout1ctrl), In1ctrl_hcout1ctrl);
bfc16eb4:	b20e      	lw	v0,bfc16eec <recover_stall_endpoint+0xa8>
bfc16eb6:	6c41      	li	a0,65
bfc16eb8:	ec8b      	neg	a0
bfc16eba:	a240      	lbu	v0,0(v0)
bfc16ebc:	6762      	move	v1,v0
bfc16ebe:	6744      	move	v0,a0
bfc16ec0:	ea6c      	and	v0,v1
bfc16ec2:	c540      	sb	v0,0(a1)
bfc16ec4:	1009      	b	bfc16ed8 <recover_stall_endpoint+0x94>
            break;
bfc16ec6:	b50b      	lw	a1,bfc16ef0 <recover_stall_endpoint+0xac>
        case EP2IN:
            //claer stall bit for ep2in
            act_writeb((uint8) 0xbf & act_readb(In2ctrl_hcout2ctrl), In2ctrl_hcout2ctrl);
bfc16ec8:	b20a      	lw	v0,bfc16ef0 <recover_stall_endpoint+0xac>
bfc16eca:	6c41      	li	a0,65
bfc16ecc:	ec8b      	neg	a0
bfc16ece:	a240      	lbu	v0,0(v0)
bfc16ed0:	6762      	move	v1,v0
bfc16ed2:	6744      	move	v0,a0
bfc16ed4:	ea6c      	and	v0,v1
bfc16ed6:	c540      	sb	v0,0(a1)
bfc16ed8:	65b9      	move	sp,s1
            break;
        default:
            break;
    }
}
bfc16eda:	6412      	restore	16,s1
bfc16edc:	e8a0      	jrc	ra
bfc16ede:	0000      	addiu	s0,sp,0
bfc16ee0:	0002      	addiu	s0,sp,8
bfc16ee2:	c008      	sb	s0,8(s0)
bfc16ee4:	000a      	addiu	s0,sp,40
bfc16ee6:	c008      	sb	s0,8(s0)
bfc16ee8:	0012      	addiu	s0,sp,72
bfc16eea:	c008      	sb	s0,8(s0)
bfc16eec:	000e      	addiu	s0,sp,56
bfc16eee:	c008      	sb	s0,8(s0)
bfc16ef0:	0016      	addiu	s0,sp,88
bfc16ef2:	c008      	sb	s0,8(s0)
bfc16ef4:	6e6c      	li	a2,108
bfc16ef6:	bfc1      	lwu	a2,4(a3)

bfc16ef8 <set_in_iso_ep>:
bfc16ef8:	6491      	save	8,s1
#ifdef _USB_RECORD_

/******************************************************************************/
/*!
 * \par  Description:
 *   set bulk in endpoint.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
static void set_in_iso_ep(void)
{
bfc16efa:	673d      	move	s1,sp
bfc16efc:	b30f      	lw	v1,bfc16f38 <set_in_iso_ep+0x40>
    act_writeb(0xc8, Hcout1maxpckl);
bfc16efe:	6a38      	li	v0,56
bfc16f00:	ea4b      	neg	v0
bfc16f02:	c340      	sb	v0,0(v1)
bfc16f04:	b30e      	lw	v1,bfc16f3c <set_in_iso_ep+0x44>
    act_writeb(0x00, Hcout1maxpckh);
bfc16f06:	6a00      	li	v0,0
bfc16f08:	c340      	sb	v0,0(v1)
bfc16f0a:	b30e      	lw	v1,bfc16f40 <set_in_iso_ep+0x48>

    //iso in是iso token来了后才往USB FIFO里填数据，可能数据没填完USB数据就已经发出去了，所以要配置成多BUFFER
    act_writeb(0x87, In1ctrl_hcout1ctrl);
bfc16f0c:	6a79      	li	v0,121
bfc16f0e:	ea4b      	neg	v0
bfc16f10:	c340      	sb	v0,0(v1)
bfc16f12:	b30d      	lw	v1,bfc16f44 <set_in_iso_ep+0x4c>
    act_writel(0x00000000, IN1STADDR);
bfc16f14:	6a00      	li	v0,0
bfc16f16:	db40      	sw	v0,0(v1)
bfc16f18:	b30c      	lw	v1,bfc16f48 <set_in_iso_ep+0x50>
    act_writeb(0x11, EPRST);
bfc16f1a:	6a11      	li	v0,17
bfc16f1c:	c340      	sb	v0,0(v1)
bfc16f1e:	b30b      	lw	v1,bfc16f48 <set_in_iso_ep+0x50>
    act_writeb(0x31, EPRST);
bfc16f20:	6a31      	li	v0,49
bfc16f22:	c340      	sb	v0,0(v1)
bfc16f24:	b309      	lw	v1,bfc16f48 <set_in_iso_ep+0x50>
    act_writeb(0x51, EPRST);
bfc16f26:	6a51      	li	v0,81
bfc16f28:	c340      	sb	v0,0(v1)
bfc16f2a:	b309      	lw	v1,bfc16f4c <set_in_iso_ep+0x54>
    act_writeb(0x31, Fifoctrl); //set inep1 autorun
bfc16f2c:	6a31      	li	v0,49
bfc16f2e:	c340      	sb	v0,0(v1)
bfc16f30:	65b9      	move	sp,s1
}
bfc16f32:	6411      	restore	8,s1
bfc16f34:	e8a0      	jrc	ra
bfc16f36:	0000      	addiu	s0,sp,0
bfc16f38:	03e2      	addiu	v1,sp,904
bfc16f3a:	c008      	sb	s0,8(s0)
bfc16f3c:	03e3      	addiu	v1,sp,908
bfc16f3e:	c008      	sb	s0,8(s0)
bfc16f40:	000e      	addiu	s0,sp,56
bfc16f42:	c008      	sb	s0,8(s0)
bfc16f44:	0344      	addiu	v1,sp,272
bfc16f46:	c008      	sb	s0,8(s0)
bfc16f48:	01a2      	addiu	s1,sp,648
bfc16f4a:	c008      	sb	s0,8(s0)
bfc16f4c:	01a8      	addiu	s1,sp,672
bfc16f4e:	c008      	sb	s0,8(s0)

bfc16f50 <set_out_iso_ep>:
bfc16f50:	6491      	save	8,s1
#endif

/******************************************************************************/
/*!
 * \par  Description:
 *   set bulk out endpoint.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
void set_out_iso_ep(void)
{
bfc16f52:	673d      	move	s1,sp
bfc16f54:	b30f      	lw	v1,bfc16f90 <set_out_iso_ep+0x40>
    act_writeb(0xc8, Hcin1maxpckl);
bfc16f56:	6a38      	li	v0,56
bfc16f58:	ea4b      	neg	v0
bfc16f5a:	c340      	sb	v0,0(v1)
bfc16f5c:	b30e      	lw	v1,bfc16f94 <set_out_iso_ep+0x44>
    act_writeb(0x00, Hcin1maxpckh);
bfc16f5e:	6a00      	li	v0,0
bfc16f60:	c340      	sb	v0,0(v1)
bfc16f62:	b30e      	lw	v1,bfc16f98 <set_out_iso_ep+0x48>

    act_writeb(0x84, Out1ctrl_hcin1ctrl);
bfc16f64:	6a7c      	li	v0,124
bfc16f66:	ea4b      	neg	v0
bfc16f68:	c340      	sb	v0,0(v1)
bfc16f6a:	b30d      	lw	v1,bfc16f9c <set_out_iso_ep+0x4c>
    //act_writel(0x00000680, OUT1STADDR);
    act_writel(0x00000400, OUT1STADDR);
bfc16f6c:	f400 6a00 	li	v0,1024
bfc16f70:	db40      	sw	v0,0(v1)
bfc16f72:	b30c      	lw	v1,bfc16fa0 <set_out_iso_ep+0x50>
    act_writeb(0x01, EPRST);
bfc16f74:	6a01      	li	v0,1
bfc16f76:	c340      	sb	v0,0(v1)
bfc16f78:	b30a      	lw	v1,bfc16fa0 <set_out_iso_ep+0x50>
    act_writeb(0x21, EPRST);
bfc16f7a:	6a21      	li	v0,33
bfc16f7c:	c340      	sb	v0,0(v1)
bfc16f7e:	b309      	lw	v1,bfc16fa0 <set_out_iso_ep+0x50>
    act_writeb(0x41, EPRST);
bfc16f80:	6a41      	li	v0,65
bfc16f82:	c340      	sb	v0,0(v1)
bfc16f84:	b308      	lw	v1,bfc16fa4 <set_out_iso_ep+0x54>
    act_writeb(0x21, Fifoctrl); //set inep1 autorun
bfc16f86:	6a21      	li	v0,33
bfc16f88:	c340      	sb	v0,0(v1)
bfc16f8a:	65b9      	move	sp,s1
}
bfc16f8c:	6411      	restore	8,s1
bfc16f8e:	e8a0      	jrc	ra
bfc16f90:	01e2      	addiu	s1,sp,904
bfc16f92:	c008      	sb	s0,8(s0)
bfc16f94:	01e3      	addiu	s1,sp,908
bfc16f96:	c008      	sb	s0,8(s0)
bfc16f98:	000a      	addiu	s0,sp,40
bfc16f9a:	c008      	sb	s0,8(s0)
bfc16f9c:	0304      	addiu	v1,sp,16
bfc16f9e:	c008      	sb	s0,8(s0)
bfc16fa0:	01a2      	addiu	s1,sp,648
bfc16fa2:	c008      	sb	s0,8(s0)
bfc16fa4:	01a8      	addiu	s1,sp,672
bfc16fa6:	c008      	sb	s0,8(s0)

bfc16fa8 <set_in_int_ep>:
bfc16fa8:	6491      	save	8,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   set interrupt in endpoint.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
void set_in_int_ep(void)
{
bfc16faa:	673d      	move	s1,sp
bfc16fac:	b30f      	lw	v1,bfc16fe8 <set_in_int_ep+0x40>
    act_writeb(0x04, Hcout2maxpckl);
bfc16fae:	6a04      	li	v0,4
bfc16fb0:	c340      	sb	v0,0(v1)
bfc16fb2:	b30f      	lw	v1,bfc16fec <set_in_int_ep+0x44>
    act_writeb(0x00, Hcout2maxpckh);
bfc16fb4:	6a00      	li	v0,0
bfc16fb6:	c340      	sb	v0,0(v1)
bfc16fb8:	b30e      	lw	v1,bfc16ff0 <set_in_int_ep+0x48>

    act_writeb(0x8c, In2ctrl_hcout2ctrl);//single buff、interrupt ep
bfc16fba:	6a74      	li	v0,116
bfc16fbc:	ea4b      	neg	v0
bfc16fbe:	c340      	sb	v0,0(v1)
bfc16fc0:	b30d      	lw	v1,bfc16ff4 <set_in_int_ep+0x4c>
    //act_writel(0x00000c80, IN2STADDR);
    act_writel(0x00000600, IN2STADDR);
bfc16fc2:	f600 6a00 	li	v0,1536
bfc16fc6:	db40      	sw	v0,0(v1)
bfc16fc8:	b30c      	lw	v1,bfc16ff8 <set_in_int_ep+0x50>
    act_writeb(0x12, EPRST);
bfc16fca:	6a12      	li	v0,18
bfc16fcc:	c340      	sb	v0,0(v1)
bfc16fce:	b30b      	lw	v1,bfc16ff8 <set_in_int_ep+0x50>
    act_writeb(0x32, EPRST);
bfc16fd0:	6a32      	li	v0,50
bfc16fd2:	c340      	sb	v0,0(v1)
bfc16fd4:	b309      	lw	v1,bfc16ff8 <set_in_int_ep+0x50>
    act_writeb(0x52, EPRST);
bfc16fd6:	6a52      	li	v0,82
bfc16fd8:	c340      	sb	v0,0(v1)
bfc16fda:	b309      	lw	v1,bfc16ffc <set_in_int_ep+0x54>
    act_writeb(0x32, Fifoctrl); //set inep1 autorun
bfc16fdc:	6a32      	li	v0,50
bfc16fde:	c340      	sb	v0,0(v1)
bfc16fe0:	65b9      	move	sp,s1
}
bfc16fe2:	6411      	restore	8,s1
bfc16fe4:	e8a0      	jrc	ra
bfc16fe6:	0000      	addiu	s0,sp,0
bfc16fe8:	03e4      	addiu	v1,sp,912
bfc16fea:	c008      	sb	s0,8(s0)
bfc16fec:	03e5      	addiu	v1,sp,916
bfc16fee:	c008      	sb	s0,8(s0)
bfc16ff0:	0016      	addiu	s0,sp,88
bfc16ff2:	c008      	sb	s0,8(s0)
bfc16ff4:	0348      	addiu	v1,sp,288
bfc16ff6:	c008      	sb	s0,8(s0)
bfc16ff8:	01a2      	addiu	s1,sp,648
bfc16ffa:	c008      	sb	s0,8(s0)
bfc16ffc:	01a8      	addiu	s1,sp,672
bfc16ffe:	c008      	sb	s0,8(s0)

bfc17000 <deal_setup>:
bfc17000:	64d6      	save	48,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   deal endpoint0 data.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
void deal_setup(void)
{
bfc17002:	0104      	addiu	s1,sp,16
bfc17004:	f2e1 b200 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
    uint8 temp_count;
    uint8 *p_temp;
    uint32 new_sample;

    p_temp = &g_setup_data.bmRequestType;
bfc17008:	d941      	sw	v0,4(s1)
bfc1700a:	f2c1 b31c 	lw	v1,bfc17ae4 <.LBE2+0x4e4>

    /* get setup data.*/
    g_setup_data.bmRequestType = *(volatile uint8 *)(Setupdat0);
bfc1700e:	f2c1 b21c 	lw	v0,bfc17ae8 <.LBE2+0x4e8>
bfc17012:	a240      	lbu	v0,0(v0)
bfc17014:	c340      	sb	v0,0(v1)
bfc17016:	f2c1 b310 	lw	v1,bfc17ae4 <.LBE2+0x4e4>
    g_setup_data.bRequest = *(volatile uint8 *)(Setupdat1);
bfc1701a:	f2c1 b214 	lw	v0,bfc17aec <.LBE2+0x4ec>
bfc1701e:	a240      	lbu	v0,0(v0)
bfc17020:	c341      	sb	v0,1(v1)
bfc17022:	f2c1 b404 	lw	a0,bfc17ae4 <.LBE2+0x4e4>
    g_setup_data.wValue = *(volatile uint16 *)(Setupdat2);
bfc17026:	f2c1 b50c 	lw	a1,bfc17af0 <.LBE2+0x4f0>
bfc1702a:	a540      	lbu	v0,0(a1)
bfc1702c:	67c2      	move	a2,v0
bfc1702e:	ee11      	zeb	a2
bfc17030:	a442      	lbu	v0,2(a0)
bfc17032:	6762      	move	v1,v0
bfc17034:	6a00      	li	v0,0
bfc17036:	ea6c      	and	v0,v1
bfc17038:	651a      	move	t8,v0
bfc1703a:	6746      	move	v0,a2
bfc1703c:	6778      	move	v1,t8
bfc1703e:	ea6d      	or	v0,v1
bfc17040:	c442      	sb	v0,2(a0)
bfc17042:	a541      	lbu	v0,1(a1)
bfc17044:	67a2      	move	a1,v0
bfc17046:	ed11      	zeb	a1
bfc17048:	a443      	lbu	v0,3(a0)
bfc1704a:	6762      	move	v1,v0
bfc1704c:	6a00      	li	v0,0
bfc1704e:	ea6c      	and	v0,v1
bfc17050:	651a      	move	t8,v0
bfc17052:	6745      	move	v0,a1
bfc17054:	6778      	move	v1,t8
bfc17056:	ea6d      	or	v0,v1
bfc17058:	c443      	sb	v0,3(a0)
bfc1705a:	f281 b40c 	lw	a0,bfc17ae4 <.LBE2+0x4e4>
    g_setup_data.wIndex = *(volatile uint16 *)(Setupdat4);
bfc1705e:	f281 b518 	lw	a1,bfc17af4 <.LBE2+0x4f4>
bfc17062:	a540      	lbu	v0,0(a1)
bfc17064:	67c2      	move	a2,v0
bfc17066:	ee11      	zeb	a2
bfc17068:	a444      	lbu	v0,4(a0)
bfc1706a:	6762      	move	v1,v0
bfc1706c:	6a00      	li	v0,0
bfc1706e:	ea6c      	and	v0,v1
bfc17070:	651a      	move	t8,v0
bfc17072:	6746      	move	v0,a2
bfc17074:	6778      	move	v1,t8
bfc17076:	ea6d      	or	v0,v1
bfc17078:	c444      	sb	v0,4(a0)
bfc1707a:	a541      	lbu	v0,1(a1)
bfc1707c:	67a2      	move	a1,v0
bfc1707e:	ed11      	zeb	a1
bfc17080:	a445      	lbu	v0,5(a0)
bfc17082:	6762      	move	v1,v0
bfc17084:	6a00      	li	v0,0
bfc17086:	ea6c      	and	v0,v1
bfc17088:	651a      	move	t8,v0
bfc1708a:	6745      	move	v0,a1
bfc1708c:	6778      	move	v1,t8
bfc1708e:	ea6d      	or	v0,v1
bfc17090:	c445      	sb	v0,5(a0)
bfc17092:	f241 b414 	lw	a0,bfc17ae4 <.LBE2+0x4e4>
    g_setup_data.wLength = *(volatile uint16 *)(Setupdat6);
bfc17096:	f261 b504 	lw	a1,bfc17af8 <.LBE2+0x4f8>
bfc1709a:	a540      	lbu	v0,0(a1)
bfc1709c:	67c2      	move	a2,v0
bfc1709e:	ee11      	zeb	a2
bfc170a0:	a446      	lbu	v0,6(a0)
bfc170a2:	6762      	move	v1,v0
bfc170a4:	6a00      	li	v0,0
bfc170a6:	ea6c      	and	v0,v1
bfc170a8:	651a      	move	t8,v0
bfc170aa:	6746      	move	v0,a2
bfc170ac:	6778      	move	v1,t8
bfc170ae:	ea6d      	or	v0,v1
bfc170b0:	c446      	sb	v0,6(a0)
bfc170b2:	a541      	lbu	v0,1(a1)
bfc170b4:	67a2      	move	a1,v0
bfc170b6:	ed11      	zeb	a1
bfc170b8:	a447      	lbu	v0,7(a0)
bfc170ba:	6762      	move	v1,v0
bfc170bc:	6a00      	li	v0,0
bfc170be:	ea6c      	and	v0,v1
bfc170c0:	651a      	move	t8,v0
bfc170c2:	6745      	move	v0,a1
bfc170c4:	6778      	move	v1,t8
bfc170c6:	ea6d      	or	v0,v1
bfc170c8:	c447      	sb	v0,7(a0)
bfc170ca:	f201 b21c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>

    /* judge type of device request.   */
    switch(g_setup_data.bmRequestType) {
bfc170ce:	a240      	lbu	v0,0(v0)
bfc170d0:	d944      	sw	v0,16(s1)
bfc170d2:	9944      	lw	v0,16(s1)
bfc170d4:	7222      	cmpi	v0,34
bfc170d6:	6758      	move	v0,t8
bfc170d8:	5a01      	sltiu	v0,1
bfc170da:	f3c0 610e 	btnez	bfc1787a <.LBE2+0x27a>
bfc170de:	9944      	lw	v0,16(s1)
bfc170e0:	5223      	slti	v0,35
bfc170e2:	6016      	bteqz	bfc17110 <deal_setup+0x110>
bfc170e4:	9944      	lw	v0,16(s1)
bfc170e6:	7201      	cmpi	v0,1
bfc170e8:	6758      	move	v0,t8
bfc170ea:	5a01      	sltiu	v0,1
bfc170ec:	f120 6117 	btnez	bfc1735e <deal_setup+0x35e>
bfc170f0:	9944      	lw	v0,16(s1)
bfc170f2:	5202      	slti	v0,2
bfc170f4:	6005      	bteqz	bfc17100 <deal_setup+0x100>
bfc170f6:	9944      	lw	v0,16(s1)
bfc170f8:	f100 220d 	beqz	v0,bfc17316 <deal_setup+0x316>
bfc170fc:	f4e0 1000 	b	bfc17ac0 <.LBE2+0x4c0>
bfc17100:	9944      	lw	v0,16(s1)
bfc17102:	7221      	cmpi	v0,33
bfc17104:	6758      	move	v0,t8
bfc17106:	5a01      	sltiu	v0,1
bfc17108:	f160 611e 	btnez	bfc17408 <deal_setup+0x408>
bfc1710c:	f4c0 1018 	b	bfc17ac0 <.LBE2+0x4c0>
bfc17110:	9944      	lw	v0,16(s1)
bfc17112:	7281      	cmpi	v0,129
bfc17114:	6758      	move	v0,t8
bfc17116:	5a01      	sltiu	v0,1
bfc17118:	f0c0 611a 	btnez	bfc172d0 <deal_setup+0x2d0>
bfc1711c:	9944      	lw	v0,16(s1)
bfc1711e:	5282      	slti	v0,130
bfc17120:	6007      	bteqz	bfc17130 <deal_setup+0x130>
bfc17122:	9944      	lw	v0,16(s1)
bfc17124:	7280      	cmpi	v0,128
bfc17126:	6758      	move	v0,t8
bfc17128:	5a01      	sltiu	v0,1
bfc1712a:	6110      	btnez	bfc1714c <deal_setup+0x14c>
bfc1712c:	f4c0 1008 	b	bfc17ac0 <.LBE2+0x4c0>
bfc17130:	9944      	lw	v0,16(s1)
bfc17132:	72a1      	cmpi	v0,161
bfc17134:	6758      	move	v0,t8
bfc17136:	5a01      	sltiu	v0,1
bfc17138:	f260 6106 	btnez	bfc17608 <.LBE2+0x8>
bfc1713c:	9944      	lw	v0,16(s1)
bfc1713e:	72a2      	cmpi	v0,162
bfc17140:	6758      	move	v0,t8
bfc17142:	5a01      	sltiu	v0,1
bfc17144:	f460 6110 	btnez	bfc17a28 <.LBE2+0x428>
bfc17148:	f4a0 101a 	b	bfc17ac0 <.LBE2+0x4c0>
bfc1714c:	f181 b218 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
        case RD_STD_DEV:
            if(g_setup_data.bRequest == GET_DESCRIPTOR) {
bfc17150:	a241      	lbu	v0,1(v0)
bfc17152:	7206      	cmpi	v0,6
bfc17154:	6758      	move	v0,t8
bfc17156:	5a01      	sltiu	v0,1
bfc17158:	f0a0 6015 	bteqz	bfc172c6 <deal_setup+0x2c6>
bfc1715c:	f181 b208 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                /* get device descriptor. */
                if(g_setup_data.wValue == VALUE_DEVICE) {
bfc17160:	a262      	lbu	v1,2(v0)
bfc17162:	a243      	lbu	v0,3(v0)
bfc17164:	3240      	sll	v0,8
bfc17166:	ea6d      	or	v0,v1
bfc17168:	ea31      	zeh	v0
bfc1716a:	f100 7200 	cmpi	v0,256
bfc1716e:	6758      	move	v0,t8
bfc17170:	5a01      	sltiu	v0,1
bfc17172:	6012      	bteqz	bfc17198 <deal_setup+0x198>
bfc17174:	f181 b408 	lw	a0,bfc17afc <.LBE2+0x4fc>
                    control_read(&Device_Descriptor.bLength, Device_Descriptor.bLength, (uint8) g_setup_data.wLength);
bfc17178:	f181 b204 	lw	v0,bfc17afc <.LBE2+0x4fc>
bfc1717c:	a2a0      	lbu	a1,0(v0)
bfc1717e:	f161 b208 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17182:	a266      	lbu	v1,6(v0)
bfc17184:	a247      	lbu	v0,7(v0)
bfc17186:	3240      	sll	v0,8
bfc17188:	ea6d      	or	v0,v1
bfc1718a:	ea11      	zeb	v0
bfc1718c:	67c2      	move	a2,v0
bfc1718e:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc17192:	6500      	nop
bfc17194:	f480 1017 	b	bfc17ac6 <.LBE2+0x4c6>
bfc17198:	f141 b20c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                }

                /* get device configuration. */
                else if(g_setup_data.wValue == VALUE_CONFIG) {
bfc1719c:	a262      	lbu	v1,2(v0)
bfc1719e:	a243      	lbu	v0,3(v0)
bfc171a0:	3240      	sll	v0,8
bfc171a2:	ea6d      	or	v0,v1
bfc171a4:	ea31      	zeh	v0
bfc171a6:	f200 7200 	cmpi	v0,512
bfc171aa:	6758      	move	v0,t8
bfc171ac:	5a01      	sltiu	v0,1
bfc171ae:	6012      	bteqz	bfc171d4 <deal_setup+0x1d4>
bfc171b0:	f141 b410 	lw	a0,bfc17b00 <.LBE2+0x500>
                    //prints("config\n");
                    //control_read((uint8*) &All_Descriptors_of_Configuration/*.Configuration_Descriptor.bLength*/,
                    //(uint8) (All_Descriptors_of_Configuration.Configuration_Descriptor.wTotalLength),
                    //(uint8) g_setup_data.wLength);
                    control_read((uint8 *)audio_descriptors_of_configuration,
bfc171b4:	f141 b210 	lw	v0,bfc17b04 <.LBE2+0x504>
bfc171b8:	a2a0      	lbu	a1,0(v0)
bfc171ba:	f121 b20c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc171be:	a266      	lbu	v1,6(v0)
bfc171c0:	a247      	lbu	v0,7(v0)
bfc171c2:	3240      	sll	v0,8
bfc171c4:	ea6d      	or	v0,v1
bfc171c6:	ea11      	zeb	v0
bfc171c8:	67c2      	move	a2,v0
bfc171ca:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc171ce:	6500      	nop
bfc171d0:	f460 1019 	b	bfc17ac6 <.LBE2+0x4c6>
bfc171d4:	f101 b210 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                                 (uint8) g_audio_config_data_size,
                                 (uint8) g_setup_data.wLength);
                }

                /* get string of language ID. */
                else if(g_setup_data.wValue == VALUE_STRING_LANGID) {
bfc171d8:	a262      	lbu	v1,2(v0)
bfc171da:	a243      	lbu	v0,3(v0)
bfc171dc:	3240      	sll	v0,8
bfc171de:	ea6d      	or	v0,v1
bfc171e0:	ea31      	zeh	v0
bfc171e2:	f300 7200 	cmpi	v0,768
bfc171e6:	6758      	move	v0,t8
bfc171e8:	5a01      	sltiu	v0,1
bfc171ea:	6012      	bteqz	bfc17210 <deal_setup+0x210>
bfc171ec:	f101 b41c 	lw	a0,bfc17b08 <.LBE2+0x508>
                    control_read(&language_string.bLength, language_string.bLength, (uint8) g_setup_data.wLength);
bfc171f0:	f101 b218 	lw	v0,bfc17b08 <.LBE2+0x508>
bfc171f4:	a2a0      	lbu	a1,0(v0)
bfc171f6:	f0e1 b210 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc171fa:	a266      	lbu	v1,6(v0)
bfc171fc:	a247      	lbu	v0,7(v0)
bfc171fe:	3240      	sll	v0,8
bfc17200:	ea6d      	or	v0,v1
bfc17202:	ea11      	zeb	v0
bfc17204:	67c2      	move	a2,v0
bfc17206:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc1720a:	6500      	nop
bfc1720c:	f440 101b 	b	bfc17ac6 <.LBE2+0x4c6>
bfc17210:	f0c1 b214 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                }

                /* get string of manufaturer. */
                else if(g_setup_data.wValue == VALUE_STRING_MANUFACTURER) {
bfc17214:	a262      	lbu	v1,2(v0)
bfc17216:	a243      	lbu	v0,3(v0)
bfc17218:	3240      	sll	v0,8
bfc1721a:	ea6d      	or	v0,v1
bfc1721c:	ea31      	zeh	v0
bfc1721e:	f300 7201 	cmpi	v0,769
bfc17222:	6758      	move	v0,t8
bfc17224:	5a01      	sltiu	v0,1
bfc17226:	6012      	bteqz	bfc1724c <deal_setup+0x24c>
bfc17228:	f0e1 b404 	lw	a0,bfc17b0c <.LBE2+0x50c>
                    control_read(&manufacure_string.bLength, manufacure_string.bLength, (uint8) g_setup_data.wLength);
bfc1722c:	f0e1 b200 	lw	v0,bfc17b0c <.LBE2+0x50c>
bfc17230:	a2a0      	lbu	a1,0(v0)
bfc17232:	f0a1 b214 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17236:	a266      	lbu	v1,6(v0)
bfc17238:	a247      	lbu	v0,7(v0)
bfc1723a:	3240      	sll	v0,8
bfc1723c:	ea6d      	or	v0,v1
bfc1723e:	ea11      	zeb	v0
bfc17240:	67c2      	move	a2,v0
bfc17242:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc17246:	6500      	nop
bfc17248:	f420 101d 	b	bfc17ac6 <.LBE2+0x4c6>
bfc1724c:	f081 b218 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                }

                /* get string of product. */
                else if(g_setup_data.wValue == VALUE_STRING_PRODUCT) {
bfc17250:	a262      	lbu	v1,2(v0)
bfc17252:	a243      	lbu	v0,3(v0)
bfc17254:	3240      	sll	v0,8
bfc17256:	ea6d      	or	v0,v1
bfc17258:	ea31      	zeh	v0
bfc1725a:	f300 7202 	cmpi	v0,770
bfc1725e:	6758      	move	v0,t8
bfc17260:	5a01      	sltiu	v0,1
bfc17262:	6012      	bteqz	bfc17288 <deal_setup+0x288>
bfc17264:	f0a1 b40c 	lw	a0,bfc17b10 <.LBE2+0x510>
                    control_read(&device_name_string.bLength, device_name_string.bLength, (uint8) g_setup_data.wLength);
bfc17268:	f0a1 b208 	lw	v0,bfc17b10 <.LBE2+0x510>
bfc1726c:	a2a0      	lbu	a1,0(v0)
bfc1726e:	f061 b218 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17272:	a266      	lbu	v1,6(v0)
bfc17274:	a247      	lbu	v0,7(v0)
bfc17276:	3240      	sll	v0,8
bfc17278:	ea6d      	or	v0,v1
bfc1727a:	ea11      	zeb	v0
bfc1727c:	67c2      	move	a2,v0
bfc1727e:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc17282:	6500      	nop
bfc17284:	f400 101f 	b	bfc17ac6 <.LBE2+0x4c6>
bfc17288:	f041 b21c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                }

                /* get string of serial number. */
                else if(g_setup_data.wValue == VALUE_STRING_SERIAL_NUMBER) {
bfc1728c:	a262      	lbu	v1,2(v0)
bfc1728e:	a243      	lbu	v0,3(v0)
bfc17290:	3240      	sll	v0,8
bfc17292:	ea6d      	or	v0,v1
bfc17294:	ea31      	zeh	v0
bfc17296:	f300 7203 	cmpi	v0,771
bfc1729a:	6758      	move	v0,t8
bfc1729c:	5a01      	sltiu	v0,1
bfc1729e:	f400 6012 	bteqz	bfc17ac6 <.LBE2+0x4c6>
bfc172a2:	f061 b414 	lw	a0,bfc17b14 <.LBE2+0x514>
                    control_read(&SerialNumber.bLength, SerialNumber.bLength, (uint8) g_setup_data.wLength);
bfc172a6:	f061 b210 	lw	v0,bfc17b14 <.LBE2+0x514>
bfc172aa:	a2a0      	lbu	a1,0(v0)
bfc172ac:	f021 b218 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc172b0:	a266      	lbu	v1,6(v0)
bfc172b2:	a247      	lbu	v0,7(v0)
bfc172b4:	3240      	sll	v0,8
bfc172b6:	ea6d      	or	v0,v1
bfc172b8:	ea11      	zeb	v0
bfc172ba:	67c2      	move	a2,v0
bfc172bc:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc172c0:	6500      	nop
bfc172c2:	f400 1000 	b	bfc17ac6 <.LBE2+0x4c6>
bfc172c6:	6c00      	li	a0,0
                }

                /* others error.  */
                else {
                    ;//do nothing
                }
            } else {
                stall_endpoint(EP0);
bfc172c8:	1a1f 5b69 	jal	bfc16da4 <stall_endpoint>
bfc172cc:	6500      	nop
bfc172ce:	13fb      	b	bfc17ac6 <.LBE2+0x4c6>
            }

            break;
bfc172d0:	f001 b214 	lw	v0,bfc17ae4 <.LBE2+0x4e4>

        case RD_STD_IF:
            /* get Descriptor. */
            if(g_setup_data.bRequest == GET_DESCRIPTOR) {
bfc172d4:	a241      	lbu	v0,1(v0)
bfc172d6:	7206      	cmpi	v0,6
bfc172d8:	6758      	move	v0,t8
bfc172da:	5a01      	sltiu	v0,1
bfc172dc:	f3e0 6013 	bteqz	bfc17ac6 <.LBE2+0x4c6>
bfc172e0:	f001 b204 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                if(g_setup_data.wIndex == INDEX_INTERFACE_HID) {
bfc172e4:	a264      	lbu	v1,4(v0)
bfc172e6:	a245      	lbu	v0,5(v0)
bfc172e8:	3240      	sll	v0,8
bfc172ea:	ea6d      	or	v0,v1
bfc172ec:	ea31      	zeh	v0
bfc172ee:	7203      	cmpi	v0,3
bfc172f0:	6758      	move	v0,t8
bfc172f2:	5a01      	sltiu	v0,1
bfc172f4:	f3e0 6007 	bteqz	bfc17ac6 <.LBE2+0x4c6>
bfc172f8:	f021 b400 	lw	a0,bfc17b18 <.LBE2+0x518>
                    control_read(g_hid_Descriptor, sizeof(g_hid_Descriptor), (uint8) g_setup_data.wLength);
bfc172fc:	f7e0 b208 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17300:	a266      	lbu	v1,6(v0)
bfc17302:	a247      	lbu	v0,7(v0)
bfc17304:	3240      	sll	v0,8
bfc17306:	ea6d      	or	v0,v1
bfc17308:	ea11      	zeb	v0
bfc1730a:	6d30      	li	a1,48
bfc1730c:	67c2      	move	a2,v0
bfc1730e:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc17312:	6500      	nop
bfc17314:	13d8      	b	bfc17ac6 <.LBE2+0x4c6>
                }
            }
            break;
bfc17316:	f7c0 b210 	lw	v0,bfc17ae4 <.LBE2+0x4e4>

        case WR_STD_DEV:
            /* set address. */
            if(g_setup_data.bRequest == SET_ADDRESS) {
bfc1731a:	a241      	lbu	v0,1(v0)
bfc1731c:	7205      	cmpi	v0,5
bfc1731e:	6758      	move	v0,t8
bfc17320:	5a01      	sltiu	v0,1
bfc17322:	6004      	bteqz	bfc1732c <deal_setup+0x32c>
bfc17324:	1a1f 5b00 	jal	bfc16c00 <RCODE_TEXT_ADDR>
                no_data_control();
bfc17328:	6500      	nop
bfc1732a:	13cd      	b	bfc17ac6 <.LBE2+0x4c6>
bfc1732c:	f7a0 b218 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
            }

            /* set configuration. */
            else if(g_setup_data.bRequest == SET_CONFIGURATION) {
bfc17330:	a241      	lbu	v0,1(v0)
bfc17332:	7209      	cmpi	v0,9
bfc17334:	6758      	move	v0,t8
bfc17336:	5a01      	sltiu	v0,1
bfc17338:	600d      	bteqz	bfc17354 <deal_setup+0x354>
bfc1733a:	1a1f 5bbe 	jal	bfc16ef8 <set_in_iso_ep>
                //prints("sconfig\n");
#ifdef _USB_RECORD_
                set_in_iso_ep();
bfc1733e:	6500      	nop
bfc17340:	1a1f 5bd4 	jal	bfc16f50 <set_out_iso_ep>
#endif
                set_out_iso_ep();
bfc17344:	6500      	nop
bfc17346:	1a1f 5bea 	jal	bfc16fa8 <set_in_int_ep>
                //hid device
                set_in_int_ep();
bfc1734a:	6500      	nop
bfc1734c:	1a1f 5b00 	jal	bfc16c00 <RCODE_TEXT_ADDR>

                no_data_control();
bfc17350:	6500      	nop
bfc17352:	13b9      	b	bfc17ac6 <.LBE2+0x4c6>
bfc17354:	6c00      	li	a0,0
                //prints("e\n");
            } else {
                stall_endpoint(EP0);
bfc17356:	1a1f 5b69 	jal	bfc16da4 <stall_endpoint>
bfc1735a:	6500      	nop
bfc1735c:	13b4      	b	bfc17ac6 <.LBE2+0x4c6>
            }
            break;
bfc1735e:	f780 b208 	lw	v0,bfc17ae4 <.LBE2+0x4e4>

        case WR_STD_IF:
            /* set interface. */
            if(g_setup_data.bRequest == SET_INTERFACE) {
bfc17362:	a241      	lbu	v0,1(v0)
bfc17364:	720b      	cmpi	v0,11
bfc17366:	6758      	move	v0,t8
bfc17368:	5a01      	sltiu	v0,1
bfc1736a:	6049      	bteqz	bfc173fe <deal_setup+0x3fe>
bfc1736c:	f760 b218 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                if(g_setup_data.wIndex == INDEX_INTERFACE_PLAY) { //speaker
bfc17370:	a264      	lbu	v1,4(v0)
bfc17372:	a245      	lbu	v0,5(v0)
bfc17374:	3240      	sll	v0,8
bfc17376:	ea6d      	or	v0,v1
bfc17378:	ea31      	zeh	v0
bfc1737a:	7201      	cmpi	v0,1
bfc1737c:	6758      	move	v0,t8
bfc1737e:	5a01      	sltiu	v0,1
bfc17380:	601c      	bteqz	bfc173ba <deal_setup+0x3ba>
bfc17382:	f760 b204 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    /* setting 0 means that zero-bandwidth. */
                    /*if (setup_data.wValue == VALUE_ALTERNATE_SETTING0)
                     {
                     ;
                     }
                     else*/
                    /* setting 1\2\3 means that pcm data will be sent to device. */
                    if(g_setup_data.wValue == VALUE_ALTERNATE_SETTING1) {
bfc17386:	a262      	lbu	v1,2(v0)
bfc17388:	a243      	lbu	v0,3(v0)
bfc1738a:	3240      	sll	v0,8
bfc1738c:	ea6d      	or	v0,v1
bfc1738e:	ea31      	zeh	v0
bfc17390:	7201      	cmpi	v0,1
bfc17392:	6758      	move	v0,t8
bfc17394:	5a01      	sltiu	v0,1
bfc17396:	602f      	bteqz	bfc173f6 <deal_setup+0x3f6>
bfc17398:	f780 b304 	lw	v1,bfc17b1c <.LBE2+0x51c>
                        g_wr_play_ptr = 0;
bfc1739c:	6a00      	li	v0,0
bfc1739e:	db40      	sw	v0,0(v1)
bfc173a0:	f780 b300 	lw	v1,bfc17b20 <.LBE2+0x520>

                        g_rd_play_ptr = 0;
bfc173a4:	6a00      	li	v0,0
bfc173a6:	db40      	sw	v0,0(v1)
bfc173a8:	f760 b31c 	lw	v1,bfc17b24 <.LBE2+0x524>

                        g_play_data_count = 0;
bfc173ac:	6a00      	li	v0,0
bfc173ae:	db40      	sw	v0,0(v1)
bfc173b0:	f760 b318 	lw	v1,bfc17b28 <.LBE2+0x528>

                        g_start_play = 0;//need stop play
bfc173b4:	6a00      	li	v0,0
bfc173b6:	c340      	sb	v0,0(v1)
bfc173b8:	101e      	b	bfc173f6 <deal_setup+0x3f6>
bfc173ba:	f720 b20c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    }
                }
#ifdef _USB_RECORD_
                else if(g_setup_data.wIndex == INDEX_INTERFACE_RECORD) {
bfc173be:	a264      	lbu	v1,4(v0)
bfc173c0:	a245      	lbu	v0,5(v0)
bfc173c2:	3240      	sll	v0,8
bfc173c4:	ea6d      	or	v0,v1
bfc173c6:	ea31      	zeh	v0
bfc173c8:	7202      	cmpi	v0,2
bfc173ca:	6758      	move	v0,t8
bfc173cc:	5a01      	sltiu	v0,1
bfc173ce:	6013      	bteqz	bfc173f6 <deal_setup+0x3f6>
bfc173d0:	f700 b214 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    /* setting 0 means that zero-bandwidth. */
                    /*if (setup_data.wValue == VALUE_ALTERNATE_SETTING0)
                     {
                     ;
                     }else */

                    /* setting 1\2\3 means that pcm data will be sent to pc. */
                    if(g_setup_data.wValue == VALUE_ALTERNATE_SETTING1) {
bfc173d4:	a262      	lbu	v1,2(v0)
bfc173d6:	a243      	lbu	v0,3(v0)
bfc173d8:	3240      	sll	v0,8
bfc173da:	ea6d      	or	v0,v1
bfc173dc:	ea31      	zeh	v0
bfc173de:	7201      	cmpi	v0,1
bfc173e0:	6758      	move	v0,t8
bfc173e2:	5a01      	sltiu	v0,1
bfc173e4:	6008      	bteqz	bfc173f6 <deal_setup+0x3f6>
bfc173e6:	f740 b308 	lw	v1,bfc17b2c <.LBE2+0x52c>
                        g_rd_record_ptr = 0;
bfc173ea:	6a00      	li	v0,0
bfc173ec:	db40      	sw	v0,0(v1)
bfc173ee:	f740 b304 	lw	v1,bfc17b30 <.LBE2+0x530>
                        g_record_data_count = 0;
bfc173f2:	6a00      	li	v0,0
bfc173f4:	db40      	sw	v0,0(v1)
bfc173f6:	1a1f 5b00 	jal	bfc16c00 <RCODE_TEXT_ADDR>
                        //start_record_flag = 0;
                    }
                } else {
                    ;//do nothing
                }
#endif

                no_data_control(); /* set interface. */
bfc173fa:	6500      	nop
bfc173fc:	1364      	b	bfc17ac6 <.LBE2+0x4c6>
bfc173fe:	6c00      	li	a0,0
            } else {
                stall_endpoint(EP0);
bfc17400:	1a1f 5b69 	jal	bfc16da4 <stall_endpoint>
bfc17404:	6500      	nop
bfc17406:	135f      	b	bfc17ac6 <.LBE2+0x4c6>
            }
            break;
bfc17408:	f6c0 b21c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>

        case SPECIFIC_REQUEST_OUT:
            /* set feature unit. */
            if((g_setup_data.wIndex == FEATURE_UNIT_INDEX1) || (g_setup_data.wIndex == FEATURE_UNIT_INDEX2)) {
bfc1740c:	a264      	lbu	v1,4(v0)
bfc1740e:	a245      	lbu	v0,5(v0)
bfc17410:	3240      	sll	v0,8
bfc17412:	ea6d      	or	v0,v1
bfc17414:	ea31      	zeh	v0
bfc17416:	f101 7200 	cmpi	v0,2304
bfc1741a:	6758      	move	v0,t8
bfc1741c:	5a01      	sltiu	v0,1
bfc1741e:	610d      	btnez	bfc1743a <deal_setup+0x43a>
bfc17420:	f6c0 b204 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17424:	a264      	lbu	v1,4(v0)
bfc17426:	a245      	lbu	v0,5(v0)
bfc17428:	3240      	sll	v0,8
bfc1742a:	ea6d      	or	v0,v1
bfc1742c:	ea31      	zeh	v0
bfc1742e:	f201 7200 	cmpi	v0,2560
bfc17432:	6758      	move	v0,t8
bfc17434:	5a01      	sltiu	v0,1
bfc17436:	6101      	btnez	bfc1743a <deal_setup+0x43a>
bfc17438:	107e      	b	bfc17536 <deal_setup+0x536>
bfc1743a:	f6a0 b20c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                /* set current mute or volume of main channel 0,1,2.   */
                if(g_setup_data.bRequest == SET_CUR) {
bfc1743e:	a241      	lbu	v0,1(v0)
bfc17440:	7201      	cmpi	v0,1
bfc17442:	6758      	move	v0,t8
bfc17444:	5a01      	sltiu	v0,1
bfc17446:	605c      	bteqz	bfc17500 <deal_setup+0x500>
bfc17448:	6a02      	li	v0,2
                    //prints("set_cur\n");
                    temp_count = VOLUME_LENGTH;
bfc1744a:	c140      	sb	v0,0(s1)
bfc1744c:	f680 b218 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    if(g_setup_data.wValue == ((MUTE_CONTROL << 8) | MAIN_CHANNEL_NUMBER0)) {
bfc17450:	a262      	lbu	v1,2(v0)
bfc17452:	a243      	lbu	v0,3(v0)
bfc17454:	3240      	sll	v0,8
bfc17456:	ea6d      	or	v0,v1
bfc17458:	ea31      	zeh	v0
bfc1745a:	f100 7200 	cmpi	v0,256
bfc1745e:	6758      	move	v0,t8
bfc17460:	5a01      	sltiu	v0,1
bfc17462:	600a      	bteqz	bfc17478 <deal_setup+0x478>
bfc17464:	f6c0 b210 	lw	v0,bfc17b34 <.LBE2+0x534>
                        //prints("set_mute\n");
                        p_temp = &g_current_mute_ch0;
bfc17468:	d941      	sw	v0,4(s1)
bfc1746a:	6a01      	li	v0,1
                        temp_count = MUTE_LENGTH;
bfc1746c:	c140      	sb	v0,0(s1)
bfc1746e:	f6c0 b30c 	lw	v1,bfc17b38 <.LBE2+0x538>
                        g_volume_chg = 1;
bfc17472:	6a01      	li	v0,1
bfc17474:	db40      	sw	v0,0(v1)
bfc17476:	1033      	b	bfc174de <deal_setup+0x4de>
bfc17478:	f660 b20c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>

                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER0)) {
bfc1747c:	a262      	lbu	v1,2(v0)
bfc1747e:	a243      	lbu	v0,3(v0)
bfc17480:	3240      	sll	v0,8
bfc17482:	ea6d      	or	v0,v1
bfc17484:	ea31      	zeh	v0
bfc17486:	f200 7200 	cmpi	v0,512
bfc1748a:	6758      	move	v0,t8
bfc1748c:	5a01      	sltiu	v0,1
bfc1748e:	6008      	bteqz	bfc174a0 <deal_setup+0x4a0>
bfc17490:	f6a0 b20c 	lw	v0,bfc17b3c <.LBE2+0x53c>
                        //prints("set_volume0\n");
                        p_temp = (uint8 *) &g_current_volume_ch0;
bfc17494:	d941      	sw	v0,4(s1)
bfc17496:	f6a0 b304 	lw	v1,bfc17b38 <.LBE2+0x538>
                        //flag
                        g_volume_chg = 1;
bfc1749a:	6a01      	li	v0,1
bfc1749c:	db40      	sw	v0,0(v1)
bfc1749e:	101f      	b	bfc174de <deal_setup+0x4de>
bfc174a0:	f640 b204 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER1)) {
bfc174a4:	a262      	lbu	v1,2(v0)
bfc174a6:	a243      	lbu	v0,3(v0)
bfc174a8:	3240      	sll	v0,8
bfc174aa:	ea6d      	or	v0,v1
bfc174ac:	ea31      	zeh	v0
bfc174ae:	f200 7201 	cmpi	v0,513
bfc174b2:	6758      	move	v0,t8
bfc174b4:	5a01      	sltiu	v0,1
bfc174b6:	6004      	bteqz	bfc174c0 <deal_setup+0x4c0>
bfc174b8:	f680 b208 	lw	v0,bfc17b40 <.LBE2+0x540>
                        //prints("set_volume1\n");
                        p_temp = (uint8 *) &g_current_volume_ch1;
bfc174bc:	d941      	sw	v0,4(s1)
bfc174be:	100f      	b	bfc174de <deal_setup+0x4de>
bfc174c0:	f620 b204 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER2)) {
bfc174c4:	a262      	lbu	v1,2(v0)
bfc174c6:	a243      	lbu	v0,3(v0)
bfc174c8:	3240      	sll	v0,8
bfc174ca:	ea6d      	or	v0,v1
bfc174cc:	ea31      	zeh	v0
bfc174ce:	f200 7202 	cmpi	v0,514
bfc174d2:	6758      	move	v0,t8
bfc174d4:	5a01      	sltiu	v0,1
bfc174d6:	6003      	bteqz	bfc174de <deal_setup+0x4de>
bfc174d8:	f660 b20c 	lw	v0,bfc17b44 <.LBE2+0x544>
                        //prints("set_volume2\n");
                        p_temp = (uint8 *) &g_current_volume_ch2;
bfc174dc:	d941      	sw	v0,4(s1)
bfc174de:	9981      	lw	a0,4(s1)
                    } else {
                        ;//do nothing
                    }

                    //在控制传输中接收参数前先判断是否有同步传输请求

                    control_write(p_temp, temp_count, (uint8) g_setup_data.wLength);
bfc174e0:	a1a0      	lbu	a1,0(s1)
bfc174e2:	f600 b204 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc174e6:	a266      	lbu	v1,6(v0)
bfc174e8:	a247      	lbu	v0,7(v0)
bfc174ea:	3240      	sll	v0,8
bfc174ec:	ea6d      	or	v0,v1
bfc174ee:	ea11      	zeb	v0
bfc174f0:	67c2      	move	a2,v0
bfc174f2:	1a1f 5b07 	jal	bfc16c1c <control_write>
bfc174f6:	6500      	nop
bfc174f8:	1a1f 5b00 	jal	bfc16c00 <RCODE_TEXT_ADDR>

                    no_data_control();
bfc174fc:	6500      	nop
bfc174fe:	12e3      	b	bfc17ac6 <.LBE2+0x4c6>

                    break;
bfc17500:	f5e0 b204 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                } else if(g_setup_data.bRequest == SET_RES) {
bfc17504:	a241      	lbu	v0,1(v0)
bfc17506:	7204      	cmpi	v0,4
bfc17508:	6758      	move	v0,t8
bfc1750a:	5a01      	sltiu	v0,1
bfc1750c:	6079      	bteqz	bfc17600 <.LBE2>
bfc1750e:	6a00      	li	v0,0
                    temp_count = 0;
bfc17510:	c140      	sb	v0,0(s1)
bfc17512:	9981      	lw	a0,4(s1)
                    control_write(p_temp, temp_count, (uint8) g_setup_data.wLength);
bfc17514:	a1a0      	lbu	a1,0(s1)
bfc17516:	f5c0 b210 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc1751a:	a266      	lbu	v1,6(v0)
bfc1751c:	a247      	lbu	v0,7(v0)
bfc1751e:	3240      	sll	v0,8
bfc17520:	ea6d      	or	v0,v1
bfc17522:	ea11      	zeb	v0
bfc17524:	67c2      	move	a2,v0
bfc17526:	1a1f 5b07 	jal	bfc16c1c <control_write>
bfc1752a:	6500      	nop
bfc1752c:	6c00      	li	a0,0
                    stall_endpoint(EP0);
bfc1752e:	1a1f 5b69 	jal	bfc16da4 <stall_endpoint>
bfc17532:	6500      	nop
bfc17534:	12c8      	b	bfc17ac6 <.LBE2+0x4c6>
                    break;
bfc17536:	f5a0 b210 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                } else {
                    ;//nothing
                }
            } else if(g_setup_data.wIndex == SELECTOR_UNIT_INDEX) {
bfc1753a:	a264      	lbu	v1,4(v0)
bfc1753c:	a245      	lbu	v0,5(v0)
bfc1753e:	3240      	sll	v0,8
bfc17540:	ea6d      	or	v0,v1
bfc17542:	ea31      	zeh	v0
bfc17544:	f301 7200 	cmpi	v0,2816
bfc17548:	6758      	move	v0,t8
bfc1754a:	5a01      	sltiu	v0,1
bfc1754c:	601a      	bteqz	bfc17582 <deal_setup+0x582>
bfc1754e:	f580 b218 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                if(g_setup_data.bRequest == SET_CUR) {
bfc17552:	a241      	lbu	v0,1(v0)
bfc17554:	7201      	cmpi	v0,1
bfc17556:	6758      	move	v0,t8
bfc17558:	5a01      	sltiu	v0,1
bfc1755a:	6052      	bteqz	bfc17600 <.LBE2>
bfc1755c:	6a01      	li	v0,1
                    temp_count = 0x01;
bfc1755e:	c140      	sb	v0,0(s1)
bfc17560:	f5e0 b208 	lw	v0,bfc17b48 <.LBE2+0x548>
                    p_temp = (uint8 *) &g_cur_selector;
bfc17564:	d941      	sw	v0,4(s1)
bfc17566:	9981      	lw	a0,4(s1)

                    control_write(p_temp, temp_count, (uint8) g_setup_data.wLength);
bfc17568:	a1a0      	lbu	a1,0(s1)
bfc1756a:	f560 b21c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc1756e:	a266      	lbu	v1,6(v0)
bfc17570:	a247      	lbu	v0,7(v0)
bfc17572:	3240      	sll	v0,8
bfc17574:	ea6d      	or	v0,v1
bfc17576:	ea11      	zeb	v0
bfc17578:	67c2      	move	a2,v0
bfc1757a:	1a1f 5b07 	jal	bfc16c1c <control_write>
bfc1757e:	6500      	nop
bfc17580:	103f      	b	bfc17600 <.LBE2>
bfc17582:	f560 b204 	lw	v0,bfc17ae4 <.LBE2+0x4e4>

                }
            } else if(g_setup_data.wIndex == INDEX_INTERFACE_HID) { //处理HID设备特殊请求
bfc17586:	a264      	lbu	v1,4(v0)
bfc17588:	a245      	lbu	v0,5(v0)
bfc1758a:	3240      	sll	v0,8
bfc1758c:	ea6d      	or	v0,v1
bfc1758e:	ea31      	zeh	v0
bfc17590:	7203      	cmpi	v0,3
bfc17592:	6758      	move	v0,t8
bfc17594:	5a01      	sltiu	v0,1
bfc17596:	6013      	bteqz	bfc175be <.LBB2>
bfc17598:	f540 b20c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                if(g_setup_data.bRequest == SET_IDLE) { //get_idle
bfc1759c:	a241      	lbu	v0,1(v0)
bfc1759e:	720a      	cmpi	v0,10
bfc175a0:	6758      	move	v0,t8
bfc175a2:	5a01      	sltiu	v0,1
bfc175a4:	602d      	bteqz	bfc17600 <.LBE2>
bfc175a6:	f5a0 b408 	lw	a0,bfc17b4c <.LBE2+0x54c>
                    g_hid_idle_time = g_setup_data.wValue >> 6; //setup_data.wValue先左移8位再乘以4
bfc175aa:	f520 b21c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc175ae:	a262      	lbu	v1,2(v0)
bfc175b0:	a243      	lbu	v0,3(v0)
bfc175b2:	3240      	sll	v0,8
bfc175b4:	ea6d      	or	v0,v1
bfc175b6:	ea31      	zeh	v0
bfc175b8:	325a      	srl	v0,6
bfc175ba:	cc40      	sh	v0,0(a0)
bfc175bc:	1021      	b	bfc17600 <.LBE2>

bfc175be <.LBB2>:
bfc175be:	4187      	addiu	a0,s1,7
                }
            } else {
                //;//do nothing
                //在控制传输中接收参数前先判断是否有同步传输请求
                uint32 actions_flag;
                control_write(&actions_flag, 4, (uint8) g_setup_data.wLength);
bfc175c0:	4485      	addiu	a0,a0,5
bfc175c2:	f520 b204 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc175c6:	a266      	lbu	v1,6(v0)
bfc175c8:	a247      	lbu	v0,7(v0)
bfc175ca:	3240      	sll	v0,8
bfc175cc:	ea6d      	or	v0,v1
bfc175ce:	ea11      	zeb	v0
bfc175d0:	6d04      	li	a1,4
bfc175d2:	67c2      	move	a2,v0
bfc175d4:	1a1f 5b07 	jal	bfc16c1c <control_write>
bfc175d8:	6500      	nop
bfc175da:	9963      	lw	v1,12(s1)
                if(actions_flag == 0x22cb21cb) {
bfc175dc:	f560 b214 	lw	v0,bfc17b50 <.LBE2+0x550>
bfc175e0:	ea6e      	xor	v0,v1
bfc175e2:	5a01      	sltiu	v0,1
bfc175e4:	600d      	bteqz	bfc17600 <.LBE2>
bfc175e6:	f560 b310 	lw	v1,bfc17b54 <.LBE2+0x554>
                    g_pc_switch_flag = 1;//switch to stub
bfc175ea:	6a01      	li	v0,1
bfc175ec:	c340      	sb	v0,0(v1)
bfc175ee:	f4e0 0a00 	la	v0,bfc17acc <.LBE2+0x4cc>
                    libc_print("swtich", 0, 0);
bfc175f2:	6782      	move	a0,v0
bfc175f4:	6d00      	li	a1,0
bfc175f6:	6e00      	li	a2,0
bfc175f8:	6f4b      	li	a3,75
bfc175fa:	f560 b200 	lw	v0,bfc17b58 <.LBE2+0x558>
bfc175fe:	eac0      	jalrc	v0

bfc17600 <.LBE2>:
bfc17600:	1a1f 5b00 	jal	bfc16c00 <RCODE_TEXT_ADDR>
                }
            }
            no_data_control();
bfc17604:	6500      	nop
bfc17606:	125f      	b	bfc17ac6 <.LBE2+0x4c6>
            break;
bfc17608:	f540 b214 	lw	v0,bfc17b5c <.LBE2+0x55c>

        case SPECIFIC_REQUEST_IN:
            /* get feature unit. */
            p_temp = (uint8 *) &g_volume_value;
bfc1760c:	d941      	sw	v0,4(s1)
bfc1760e:	6a02      	li	v0,2
            temp_count = VOLUME_LENGTH;
bfc17610:	c140      	sb	v0,0(s1)
bfc17612:	f4c0 b214 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
            if((g_setup_data.wIndex == FEATURE_UNIT_INDEX1) || (g_setup_data.wIndex == FEATURE_UNIT_INDEX2)) {
bfc17616:	a264      	lbu	v1,4(v0)
bfc17618:	a245      	lbu	v0,5(v0)
bfc1761a:	3240      	sll	v0,8
bfc1761c:	ea6d      	or	v0,v1
bfc1761e:	ea31      	zeh	v0
bfc17620:	f101 7200 	cmpi	v0,2304
bfc17624:	6758      	move	v0,t8
bfc17626:	5a01      	sltiu	v0,1
bfc17628:	610d      	btnez	bfc17644 <.LBE2+0x44>
bfc1762a:	f4a0 b21c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc1762e:	a264      	lbu	v1,4(v0)
bfc17630:	a245      	lbu	v0,5(v0)
bfc17632:	3240      	sll	v0,8
bfc17634:	ea6d      	or	v0,v1
bfc17636:	ea31      	zeh	v0
bfc17638:	f201 7200 	cmpi	v0,2560
bfc1763c:	6758      	move	v0,t8
bfc1763e:	5a01      	sltiu	v0,1
bfc17640:	6101      	btnez	bfc17644 <.LBE2+0x44>
bfc17642:	10c2      	b	bfc177c8 <.LBE2+0x1c8>
bfc17644:	6a02      	li	v0,2
                temp_count = VOLUME_LENGTH;
bfc17646:	c140      	sb	v0,0(s1)
bfc17648:	f480 b21c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>

                /* get current mute or volume of main channel 0,1,2.   */
                if(g_setup_data.bRequest == GET_CUR) {
bfc1764c:	a241      	lbu	v0,1(v0)
bfc1764e:	7281      	cmpi	v0,129
bfc17650:	6758      	move	v0,t8
bfc17652:	5a01      	sltiu	v0,1
bfc17654:	6042      	bteqz	bfc176da <.LBE2+0xda>
bfc17656:	f480 b210 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    if(g_setup_data.wValue == ((MUTE_CONTROL << 8) | MAIN_CHANNEL_NUMBER0)) {
bfc1765a:	a262      	lbu	v1,2(v0)
bfc1765c:	a243      	lbu	v0,3(v0)
bfc1765e:	3240      	sll	v0,8
bfc17660:	ea6d      	or	v0,v1
bfc17662:	ea31      	zeh	v0
bfc17664:	f100 7200 	cmpi	v0,256
bfc17668:	6758      	move	v0,t8
bfc1766a:	5a01      	sltiu	v0,1
bfc1766c:	6006      	bteqz	bfc1767a <.LBE2+0x7a>
bfc1766e:	f4c0 b208 	lw	v0,bfc17b34 <.LBE2+0x534>
                        p_temp = &g_current_mute_ch0;
bfc17672:	d941      	sw	v0,4(s1)
bfc17674:	6a01      	li	v0,1
                        temp_count = MUTE_LENGTH;
bfc17676:	c140      	sb	v0,0(s1)
bfc17678:	109a      	b	bfc177ae <.LBE2+0x1ae>
bfc1767a:	f460 b20c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER0)) {
bfc1767e:	a262      	lbu	v1,2(v0)
bfc17680:	a243      	lbu	v0,3(v0)
bfc17682:	3240      	sll	v0,8
bfc17684:	ea6d      	or	v0,v1
bfc17686:	ea31      	zeh	v0
bfc17688:	f200 7200 	cmpi	v0,512
bfc1768c:	6758      	move	v0,t8
bfc1768e:	5a01      	sltiu	v0,1
bfc17690:	6004      	bteqz	bfc1769a <.LBE2+0x9a>
bfc17692:	f4a0 b20c 	lw	v0,bfc17b3c <.LBE2+0x53c>
                        p_temp = (uint8 *) &g_current_volume_ch0;
bfc17696:	d941      	sw	v0,4(s1)
bfc17698:	108a      	b	bfc177ae <.LBE2+0x1ae>
bfc1769a:	f440 b20c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER1)) {
bfc1769e:	a262      	lbu	v1,2(v0)
bfc176a0:	a243      	lbu	v0,3(v0)
bfc176a2:	3240      	sll	v0,8
bfc176a4:	ea6d      	or	v0,v1
bfc176a6:	ea31      	zeh	v0
bfc176a8:	f200 7201 	cmpi	v0,513
bfc176ac:	6758      	move	v0,t8
bfc176ae:	5a01      	sltiu	v0,1
bfc176b0:	6004      	bteqz	bfc176ba <.LBE2+0xba>
bfc176b2:	f480 b210 	lw	v0,bfc17b40 <.LBE2+0x540>
                        p_temp = (uint8 *) &g_current_volume_ch1;
bfc176b6:	d941      	sw	v0,4(s1)
bfc176b8:	107a      	b	bfc177ae <.LBE2+0x1ae>
bfc176ba:	f420 b20c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER2)) {
bfc176be:	a262      	lbu	v1,2(v0)
bfc176c0:	a243      	lbu	v0,3(v0)
bfc176c2:	3240      	sll	v0,8
bfc176c4:	ea6d      	or	v0,v1
bfc176c6:	ea31      	zeh	v0
bfc176c8:	f200 7202 	cmpi	v0,514
bfc176cc:	6758      	move	v0,t8
bfc176ce:	5a01      	sltiu	v0,1
bfc176d0:	606e      	bteqz	bfc177ae <.LBE2+0x1ae>
bfc176d2:	f460 b214 	lw	v0,bfc17b44 <.LBE2+0x544>
                        p_temp = (uint8 *) &g_current_volume_ch2;
bfc176d6:	d941      	sw	v0,4(s1)
bfc176d8:	106a      	b	bfc177ae <.LBE2+0x1ae>
bfc176da:	f400 b20c 	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    } else {
                        ;//do nothing
                    }
                }

                /* get minimum volume of main channel 0,1,2.   */
                else if(g_setup_data.bRequest == GET_MIN) {
bfc176de:	a241      	lbu	v0,1(v0)
bfc176e0:	7282      	cmpi	v0,130
bfc176e2:	6758      	move	v0,t8
bfc176e4:	5a01      	sltiu	v0,1
bfc176e6:	601f      	bteqz	bfc17726 <.LBE2+0x126>
bfc176e8:	b2ff      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER0)) {
bfc176ea:	a262      	lbu	v1,2(v0)
bfc176ec:	a243      	lbu	v0,3(v0)
bfc176ee:	3240      	sll	v0,8
bfc176f0:	ea6d      	or	v0,v1
bfc176f2:	ea31      	zeh	v0
bfc176f4:	f200 7200 	cmpi	v0,512
bfc176f8:	6758      	move	v0,t8
bfc176fa:	5a01      	sltiu	v0,1
bfc176fc:	6001      	bteqz	bfc17700 <.LBE2+0x100>
bfc176fe:	100c      	b	bfc17718 <.LBE2+0x118>
bfc17700:	b2f9      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                        ;//do nothing
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER1)) {
bfc17702:	a262      	lbu	v1,2(v0)
bfc17704:	a243      	lbu	v0,3(v0)
bfc17706:	3240      	sll	v0,8
bfc17708:	ea6d      	or	v0,v1
bfc1770a:	ea31      	zeh	v0
bfc1770c:	f200 7201 	cmpi	v0,513
bfc17710:	6758      	move	v0,t8
bfc17712:	5a01      	sltiu	v0,1
bfc17714:	6001      	bteqz	bfc17718 <.LBE2+0x118>
bfc17716:	1000      	b	bfc17718 <.LBE2+0x118>
bfc17718:	f440 b304 	lw	v1,bfc17b5c <.LBE2+0x55c>
                        ;//do nothing
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER2)) {
                        ;//do nothing
                    } else {
                        ;//do nothing
                    }
                    g_volume_value = MINIMUM_VOLUME;
bfc1771c:	f463 6a00 	li	v0,7264
bfc17720:	ea4b      	neg	v0
bfc17722:	cb40      	sh	v0,0(v1)
bfc17724:	1044      	b	bfc177ae <.LBE2+0x1ae>
bfc17726:	b2f0      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                }

                /* get maximum volume of main channel 0,1,2.   */
                else if(g_setup_data.bRequest == GET_MAX) {
bfc17728:	a241      	lbu	v0,1(v0)
bfc1772a:	7283      	cmpi	v0,131
bfc1772c:	6758      	move	v0,t8
bfc1772e:	5a01      	sltiu	v0,1
bfc17730:	601d      	bteqz	bfc1776c <.LBE2+0x16c>
bfc17732:	b2ed      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER0)) {
bfc17734:	a262      	lbu	v1,2(v0)
bfc17736:	a243      	lbu	v0,3(v0)
bfc17738:	3240      	sll	v0,8
bfc1773a:	ea6d      	or	v0,v1
bfc1773c:	ea31      	zeh	v0
bfc1773e:	f200 7200 	cmpi	v0,512
bfc17742:	6758      	move	v0,t8
bfc17744:	5a01      	sltiu	v0,1
bfc17746:	6001      	bteqz	bfc1774a <.LBE2+0x14a>
bfc17748:	100c      	b	bfc17762 <.LBE2+0x162>
bfc1774a:	b2e7      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                        ;//do nothing
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER1)) {
bfc1774c:	a262      	lbu	v1,2(v0)
bfc1774e:	a243      	lbu	v0,3(v0)
bfc17750:	3240      	sll	v0,8
bfc17752:	ea6d      	or	v0,v1
bfc17754:	ea31      	zeh	v0
bfc17756:	f200 7201 	cmpi	v0,513
bfc1775a:	6758      	move	v0,t8
bfc1775c:	5a01      	sltiu	v0,1
bfc1775e:	6001      	bteqz	bfc17762 <.LBE2+0x162>
bfc17760:	1000      	b	bfc17762 <.LBE2+0x162>
bfc17762:	b3ff      	lw	v1,bfc17b5c <.LBE2+0x55c>
                        ;//do nothing
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER2)) {
                        ;//do nothing
                    } else {
                        ;//do nothing
                    }
                    g_volume_value = MAXIMUM_VOLUME;
bfc17764:	6a10      	li	v0,16
bfc17766:	ea4b      	neg	v0
bfc17768:	cb40      	sh	v0,0(v1)
bfc1776a:	1021      	b	bfc177ae <.LBE2+0x1ae>
bfc1776c:	b2de      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                }

                /* get resolution volume of main channel 0,1,2.   */
                else if(g_setup_data.bRequest == GET_RES) {
bfc1776e:	a241      	lbu	v0,1(v0)
bfc17770:	7284      	cmpi	v0,132
bfc17772:	6758      	move	v0,t8
bfc17774:	5a01      	sltiu	v0,1
bfc17776:	601b      	bteqz	bfc177ae <.LBE2+0x1ae>
bfc17778:	b2db      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER0)) {
bfc1777a:	a262      	lbu	v1,2(v0)
bfc1777c:	a243      	lbu	v0,3(v0)
bfc1777e:	3240      	sll	v0,8
bfc17780:	ea6d      	or	v0,v1
bfc17782:	ea31      	zeh	v0
bfc17784:	f200 7200 	cmpi	v0,512
bfc17788:	6758      	move	v0,t8
bfc1778a:	5a01      	sltiu	v0,1
bfc1778c:	6001      	bteqz	bfc17790 <.LBE2+0x190>
bfc1778e:	100c      	b	bfc177a8 <.LBE2+0x1a8>
bfc17790:	b2d5      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                        ;//do nothing
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER1)) {
bfc17792:	a262      	lbu	v1,2(v0)
bfc17794:	a243      	lbu	v0,3(v0)
bfc17796:	3240      	sll	v0,8
bfc17798:	ea6d      	or	v0,v1
bfc1779a:	ea31      	zeh	v0
bfc1779c:	f200 7201 	cmpi	v0,513
bfc177a0:	6758      	move	v0,t8
bfc177a2:	5a01      	sltiu	v0,1
bfc177a4:	6001      	bteqz	bfc177a8 <.LBE2+0x1a8>
bfc177a6:	1000      	b	bfc177a8 <.LBE2+0x1a8>
bfc177a8:	b3ed      	lw	v1,bfc17b5c <.LBE2+0x55c>
                        ;//do nothing
                    } else if(g_setup_data.wValue == ((VOLUME_CONTROL << 8) | MAIN_CHANNEL_NUMBER2)) {
                        ;//do nothing
                    } else {
                        ;//do nothing
                    }
                    g_volume_value = RESOTION_VOLUME;
bfc177aa:	6a30      	li	v0,48
bfc177ac:	cb40      	sh	v0,0(v1)
bfc177ae:	9981      	lw	a0,4(s1)
                } else {
                    ;//do nothing
                }

                control_read(p_temp, temp_count, (uint8) g_setup_data.wLength);
bfc177b0:	a1a0      	lbu	a1,0(s1)
bfc177b2:	b2cd      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc177b4:	a266      	lbu	v1,6(v0)
bfc177b6:	a247      	lbu	v0,7(v0)
bfc177b8:	3240      	sll	v0,8
bfc177ba:	ea6d      	or	v0,v1
bfc177bc:	ea11      	zeb	v0
bfc177be:	67c2      	move	a2,v0
bfc177c0:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc177c4:	6500      	nop
bfc177c6:	117f      	b	bfc17ac6 <.LBE2+0x4c6>
bfc177c8:	b2c7      	lw	v0,bfc17ae4 <.LBE2+0x4e4>

            } else if(g_setup_data.wIndex == SELECTOR_UNIT_INDEX) {
bfc177ca:	a264      	lbu	v1,4(v0)
bfc177cc:	a245      	lbu	v0,5(v0)
bfc177ce:	3240      	sll	v0,8
bfc177d0:	ea6d      	or	v0,v1
bfc177d2:	ea31      	zeh	v0
bfc177d4:	f301 7200 	cmpi	v0,2816
bfc177d8:	6758      	move	v0,t8
bfc177da:	5a01      	sltiu	v0,1
bfc177dc:	6018      	bteqz	bfc1780e <.LBE2+0x20e>
bfc177de:	b2c2      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                if(g_setup_data.bRequest == GET_CUR) {
bfc177e0:	a241      	lbu	v0,1(v0)
bfc177e2:	7281      	cmpi	v0,129
bfc177e4:	6758      	move	v0,t8
bfc177e6:	5a01      	sltiu	v0,1
bfc177e8:	f160 600d 	bteqz	bfc17ac6 <.LBE2+0x4c6>
bfc177ec:	6a01      	li	v0,1
                    temp_count = 0x01;
bfc177ee:	c140      	sb	v0,0(s1)
bfc177f0:	b2d6      	lw	v0,bfc17b48 <.LBE2+0x548>
                    p_temp = (uint8 *) &g_cur_selector;
bfc177f2:	d941      	sw	v0,4(s1)
bfc177f4:	9981      	lw	a0,4(s1)
                    control_read(p_temp, temp_count, (uint8) g_setup_data.wLength);
bfc177f6:	a1a0      	lbu	a1,0(s1)
bfc177f8:	b2bb      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc177fa:	a266      	lbu	v1,6(v0)
bfc177fc:	a247      	lbu	v0,7(v0)
bfc177fe:	3240      	sll	v0,8
bfc17800:	ea6d      	or	v0,v1
bfc17802:	ea11      	zeb	v0
bfc17804:	67c2      	move	a2,v0
bfc17806:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc1780a:	6500      	nop
bfc1780c:	115c      	b	bfc17ac6 <.LBE2+0x4c6>
bfc1780e:	b2b6      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                }
            } else if(g_setup_data.wIndex == INDEX_INTERFACE_HID) { //处理HID设备特殊请求
bfc17810:	a264      	lbu	v1,4(v0)
bfc17812:	a245      	lbu	v0,5(v0)
bfc17814:	3240      	sll	v0,8
bfc17816:	ea6d      	or	v0,v1
bfc17818:	ea31      	zeh	v0
bfc1781a:	7203      	cmpi	v0,3
bfc1781c:	6758      	move	v0,t8
bfc1781e:	5a01      	sltiu	v0,1
bfc17820:	f140 6011 	bteqz	bfc17ac6 <.LBE2+0x4c6>
bfc17824:	b2b0      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                if(g_setup_data.bRequest == GET_REPORT) { //get_report
bfc17826:	a241      	lbu	v0,1(v0)
bfc17828:	7201      	cmpi	v0,1
bfc1782a:	6758      	move	v0,t8
bfc1782c:	5a01      	sltiu	v0,1
bfc1782e:	600d      	bteqz	bfc1784a <.LBE2+0x24a>
bfc17830:	b4cc      	lw	a0,bfc17b60 <.LBE2+0x560>
                    control_read((uint8 *) &g_hid_report, sizeof(g_hid_report), (uint8) g_setup_data.wLength);
bfc17832:	b2ad      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17834:	a266      	lbu	v1,6(v0)
bfc17836:	a247      	lbu	v0,7(v0)
bfc17838:	3240      	sll	v0,8
bfc1783a:	ea6d      	or	v0,v1
bfc1783c:	ea11      	zeb	v0
bfc1783e:	6d01      	li	a1,1
bfc17840:	67c2      	move	a2,v0
bfc17842:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc17846:	6500      	nop
bfc17848:	113e      	b	bfc17ac6 <.LBE2+0x4c6>
bfc1784a:	b2a7      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                } else if(g_setup_data.bRequest == GET_IDLE) { //get_idle
bfc1784c:	a241      	lbu	v0,1(v0)
bfc1784e:	7202      	cmpi	v0,2
bfc17850:	6758      	move	v0,t8
bfc17852:	5a01      	sltiu	v0,1
bfc17854:	f120 6017 	bteqz	bfc17ac6 <.LBE2+0x4c6>
bfc17858:	b2bd      	lw	v0,bfc17b4c <.LBE2+0x54c>
                    temp_count = (uint8)(g_hid_idle_time >> 2);
bfc1785a:	aa40      	lhu	v0,0(v0)
bfc1785c:	324a      	srl	v0,2
bfc1785e:	c140      	sb	v0,0(s1)
bfc17860:	b2a1      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                    control_read((uint8 *) &temp_count, 0x01, (uint8) g_setup_data.wLength);
bfc17862:	a266      	lbu	v1,6(v0)
bfc17864:	a247      	lbu	v0,7(v0)
bfc17866:	3240      	sll	v0,8
bfc17868:	ea6d      	or	v0,v1
bfc1786a:	ea11      	zeb	v0
bfc1786c:	6791      	move	a0,s1
bfc1786e:	6d01      	li	a1,1
bfc17870:	67c2      	move	a2,v0
bfc17872:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc17876:	6500      	nop
bfc17878:	1126      	b	bfc17ac6 <.LBE2+0x4c6>
bfc1787a:	b29b      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                } else {
                    ;//for qac
                }
            } else {
                ;//for qac
            }
            break;

        case SET_ENDPOINT_CONTROL:
            /* set endpoint control request. */
            if(g_setup_data.wValue == SAMPLING_FREQ_CONTROL) {
bfc1787c:	a262      	lbu	v1,2(v0)
bfc1787e:	a243      	lbu	v0,3(v0)
bfc17880:	3240      	sll	v0,8
bfc17882:	ea6d      	or	v0,v1
bfc17884:	ea31      	zeh	v0
bfc17886:	f100 7200 	cmpi	v0,256
bfc1788a:	6758      	move	v0,t8
bfc1788c:	5a01      	sltiu	v0,1
bfc1788e:	f100 601a 	bteqz	bfc17ac6 <.LBE2+0x4c6>
bfc17892:	b295      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                /* set sample frequency.   */
                if(g_setup_data.bRequest == SET_CUR) {
bfc17894:	a241      	lbu	v0,1(v0)
bfc17896:	7201      	cmpi	v0,1
bfc17898:	6758      	move	v0,t8
bfc1789a:	5a01      	sltiu	v0,1
bfc1789c:	f100 6013 	bteqz	bfc17ac6 <.LBE2+0x4c6>
bfc178a0:	6a00      	li	v0,0
                    new_sample = 0x00000000;
bfc178a2:	d942      	sw	v0,8(s1)
bfc178a4:	6a03      	li	v0,3
                    temp_count = SAMPLE_FREQUENCY_LENGTH;
bfc178a6:	c140      	sb	v0,0(s1)
bfc178a8:	4147      	addiu	v0,s1,7
                    p_temp = (uint8 *) &new_sample;
bfc178aa:	4241      	addiu	v0,v0,1
bfc178ac:	d941      	sw	v0,4(s1)
bfc178ae:	9981      	lw	a0,4(s1)

                    control_write(p_temp, temp_count, (uint8) g_setup_data.wLength);
bfc178b0:	a1a0      	lbu	a1,0(s1)
bfc178b2:	b28d      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc178b4:	a266      	lbu	v1,6(v0)
bfc178b6:	a247      	lbu	v0,7(v0)
bfc178b8:	3240      	sll	v0,8
bfc178ba:	ea6d      	or	v0,v1
bfc178bc:	ea11      	zeb	v0
bfc178be:	67c2      	move	a2,v0
bfc178c0:	1a1f 5b07 	jal	bfc16c1c <control_write>
bfc178c4:	6500      	nop
bfc178c6:	1a1f 5b00 	jal	bfc16c00 <RCODE_TEXT_ADDR>

                    no_data_control();
bfc178ca:	6500      	nop
bfc178cc:	b286      	lw	v0,bfc17ae4 <.LBE2+0x4e4>

                    if(g_setup_data.wIndex == 0x01) {
bfc178ce:	a264      	lbu	v1,4(v0)
bfc178d0:	a245      	lbu	v0,5(v0)
bfc178d2:	3240      	sll	v0,8
bfc178d4:	ea6d      	or	v0,v1
bfc178d6:	ea31      	zeh	v0
bfc178d8:	7201      	cmpi	v0,1
bfc178da:	6758      	move	v0,t8
bfc178dc:	5a01      	sltiu	v0,1
bfc178de:	602f      	bteqz	bfc1793e <.LBE2+0x33e>
bfc178e0:	b392      	lw	v1,bfc17b28 <.LBE2+0x528>
                        /* if new sample is different from current sample, initialize dec again.  */
                        g_start_play = 0;
bfc178e2:	6a00      	li	v0,0
bfc178e4:	c340      	sb	v0,0(v1)
bfc178e6:	b38e      	lw	v1,bfc17b1c <.LBE2+0x51c>

                        g_wr_play_ptr = 0;
bfc178e8:	6a00      	li	v0,0
bfc178ea:	db40      	sw	v0,0(v1)
bfc178ec:	b38d      	lw	v1,bfc17b20 <.LBE2+0x520>

                        g_rd_play_ptr = 0;
bfc178ee:	6a00      	li	v0,0
bfc178f0:	db40      	sw	v0,0(v1)
bfc178f2:	b39d      	lw	v1,bfc17b64 <.LBE2+0x564>

                        g_dac_sample = new_sample;
bfc178f4:	9942      	lw	v0,8(s1)
bfc178f6:	db40      	sw	v0,0(v1)
bfc178f8:	b39c      	lw	v1,bfc17b68 <.LBE2+0x568>

                        g_set_dac_sample_flag = 1;
bfc178fa:	6a01      	li	v0,1
bfc178fc:	c340      	sb	v0,0(v1)
bfc178fe:	b29c      	lw	v0,bfc17b6c <.LBE2+0x56c>
#ifdef _USB_RECORD_
                        if(g_set_adc_enable == 0) {             //防止某些手机只设置dac采样率导致录音异常
bfc17900:	a240      	lbu	v0,0(v0)
bfc17902:	2a5e      	bnez	v0,bfc179c0 <.LBE2+0x3c0>
bfc17904:	b38a      	lw	v1,bfc17b2c <.LBE2+0x52c>
                            g_rd_record_ptr = 0;
bfc17906:	6a00      	li	v0,0
bfc17908:	db40      	sw	v0,0(v1)
bfc1790a:	b39a      	lw	v1,bfc17b70 <.LBE2+0x570>

                            g_wr_record_ptr = 0;
bfc1790c:	6a00      	li	v0,0
bfc1790e:	db40      	sw	v0,0(v1)
bfc17910:	b399      	lw	v1,bfc17b74 <.LBE2+0x574>

                            g_start_record = 0;
bfc17912:	6a00      	li	v0,0
bfc17914:	db40      	sw	v0,0(v1)
bfc17916:	9962      	lw	v1,8(s1)
                            if(new_sample == 44100) {
bfc17918:	f455 6a04 	li	v0,44100
bfc1791c:	ea6e      	xor	v0,v1
bfc1791e:	5a01      	sltiu	v0,1
bfc17920:	6004      	bteqz	bfc1792a <.LBE2+0x32a>
bfc17922:	b396      	lw	v1,bfc17b78 <.LBE2+0x578>
                                g_record_packet_size = 88;
bfc17924:	6a58      	li	v0,88
bfc17926:	db40      	sw	v0,0(v1)
bfc17928:	1003      	b	bfc17930 <.LBE2+0x330>
bfc1792a:	b394      	lw	v1,bfc17b78 <.LBE2+0x578>
                            } else {
                                g_record_packet_size = 96;
bfc1792c:	6a60      	li	v0,96
bfc1792e:	db40      	sw	v0,0(v1)
bfc17930:	b393      	lw	v1,bfc17b7c <.LBE2+0x57c>
                            }
                            g_adc_sample = new_sample;
bfc17932:	9942      	lw	v0,8(s1)
bfc17934:	db40      	sw	v0,0(v1)
bfc17936:	b393      	lw	v1,bfc17b80 <.LBE2+0x580>

                            g_set_adc_sample_flag = 1;
bfc17938:	6a01      	li	v0,1
bfc1793a:	c340      	sb	v0,0(v1)
bfc1793c:	1041      	b	bfc179c0 <.LBE2+0x3c0>
bfc1793e:	b26a      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
                        }
#endif
                    }
#ifdef _USB_RECORD_
                    else if((g_setup_data.wIndex == 0x82) || (g_setup_data.wIndex == 0x81)) {
bfc17940:	a264      	lbu	v1,4(v0)
bfc17942:	a245      	lbu	v0,5(v0)
bfc17944:	3240      	sll	v0,8
bfc17946:	ea6d      	or	v0,v1
bfc17948:	ea31      	zeh	v0
bfc1794a:	7282      	cmpi	v0,130
bfc1794c:	6758      	move	v0,t8
bfc1794e:	5a01      	sltiu	v0,1
bfc17950:	610b      	btnez	bfc17968 <.LBE2+0x368>
bfc17952:	b265      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17954:	a264      	lbu	v1,4(v0)
bfc17956:	a245      	lbu	v0,5(v0)
bfc17958:	3240      	sll	v0,8
bfc1795a:	ea6d      	or	v0,v1
bfc1795c:	ea31      	zeh	v0
bfc1795e:	7281      	cmpi	v0,129
bfc17960:	6758      	move	v0,t8
bfc17962:	5a01      	sltiu	v0,1
bfc17964:	6101      	btnez	bfc17968 <.LBE2+0x368>
bfc17966:	1020      	b	bfc179a8 <.LBE2+0x3a8>
bfc17968:	b381      	lw	v1,bfc17b6c <.LBE2+0x56c>
                        g_set_adc_enable = 1;
bfc1796a:	6a01      	li	v0,1
bfc1796c:	c340      	sb	v0,0(v1)
bfc1796e:	b370      	lw	v1,bfc17b2c <.LBE2+0x52c>

                        g_rd_record_ptr = 0;
bfc17970:	6a00      	li	v0,0
bfc17972:	db40      	sw	v0,0(v1)
bfc17974:	b37f      	lw	v1,bfc17b70 <.LBE2+0x570>

                        g_wr_record_ptr = 0;
bfc17976:	6a00      	li	v0,0
bfc17978:	db40      	sw	v0,0(v1)
bfc1797a:	b37f      	lw	v1,bfc17b74 <.LBE2+0x574>

                        g_start_record = 0;
bfc1797c:	6a00      	li	v0,0
bfc1797e:	db40      	sw	v0,0(v1)
bfc17980:	9962      	lw	v1,8(s1)

                        if(new_sample == 44100) {
bfc17982:	f455 6a04 	li	v0,44100
bfc17986:	ea6e      	xor	v0,v1
bfc17988:	5a01      	sltiu	v0,1
bfc1798a:	6004      	bteqz	bfc17994 <.LBE2+0x394>
bfc1798c:	b37b      	lw	v1,bfc17b78 <.LBE2+0x578>
                            g_record_packet_size = 88;
bfc1798e:	6a58      	li	v0,88
bfc17990:	db40      	sw	v0,0(v1)
bfc17992:	1003      	b	bfc1799a <.LBE2+0x39a>
bfc17994:	b379      	lw	v1,bfc17b78 <.LBE2+0x578>
                        } else {
                            g_record_packet_size = 96;
bfc17996:	6a60      	li	v0,96
bfc17998:	db40      	sw	v0,0(v1)
bfc1799a:	b379      	lw	v1,bfc17b7c <.LBE2+0x57c>
                        }

                        g_adc_sample = new_sample;
bfc1799c:	9942      	lw	v0,8(s1)
bfc1799e:	db40      	sw	v0,0(v1)
bfc179a0:	b378      	lw	v1,bfc17b80 <.LBE2+0x580>

                        g_set_adc_sample_flag = 1;
bfc179a2:	6a01      	li	v0,1
bfc179a4:	c340      	sb	v0,0(v1)
bfc179a6:	100c      	b	bfc179c0 <.LBE2+0x3c0>
bfc179a8:	0c4b      	la	a0,bfc17ad4 <.LBE2+0x4d4>
                    }
#endif
                    else {
                        libc_print("unknown wIndex:", g_setup_data.wIndex, 2); //nothing
bfc179aa:	b24f      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc179ac:	a264      	lbu	v1,4(v0)
bfc179ae:	a245      	lbu	v0,5(v0)
bfc179b0:	3240      	sll	v0,8
bfc179b2:	ea6d      	or	v0,v1
bfc179b4:	ea31      	zeh	v0
bfc179b6:	67a2      	move	a1,v0
bfc179b8:	6e02      	li	a2,2
bfc179ba:	6f4b      	li	a3,75
bfc179bc:	b267      	lw	v0,bfc17b58 <.LBE2+0x558>
bfc179be:	eac0      	jalrc	v0
bfc179c0:	b26f      	lw	v0,bfc17b78 <.LBE2+0x578>
                    }

                    if((g_adc_sample == 44100) && (g_dac_sample == 48000))
bfc179c2:	9a60      	lw	v1,0(v0)
bfc179c4:	f455 6a04 	li	v0,44100
bfc179c8:	ea6e      	xor	v0,v1
bfc179ca:	5a01      	sltiu	v0,1
bfc179cc:	600b      	bteqz	bfc179e4 <.LBE2+0x3e4>
bfc179ce:	b266      	lw	v0,bfc17b64 <.LBE2+0x564>
bfc179d0:	9a60      	lw	v1,0(v0)
bfc179d2:	f397 6a00 	li	v0,48000
bfc179d6:	ea6e      	xor	v0,v1
bfc179d8:	5a01      	sltiu	v0,1
bfc179da:	6004      	bteqz	bfc179e4 <.LBE2+0x3e4>
bfc179dc:	b36a      	lw	v1,bfc17b84 <.LBE2+0x584>

                    {
                        g_asrc_adj_flag = 1;
bfc179de:	6a01      	li	v0,1
bfc179e0:	c340      	sb	v0,0(v1)
bfc179e2:	101b      	b	bfc17a1a <.LBE2+0x41a>
bfc179e4:	b266      	lw	v0,bfc17b7c <.LBE2+0x57c>
                    } else if((g_adc_sample == 44100) && (g_dac_sample == 44100)) {
bfc179e6:	9a60      	lw	v1,0(v0)
bfc179e8:	f455 6a04 	li	v0,44100
bfc179ec:	ea6e      	xor	v0,v1
bfc179ee:	5a01      	sltiu	v0,1
bfc179f0:	6011      	bteqz	bfc17a14 <.LBE2+0x414>
bfc179f2:	b25d      	lw	v0,bfc17b64 <.LBE2+0x564>
bfc179f4:	9a60      	lw	v1,0(v0)
bfc179f6:	f455 6a04 	li	v0,44100
bfc179fa:	ea6e      	xor	v0,v1
bfc179fc:	5a01      	sltiu	v0,1
bfc179fe:	600a      	bteqz	bfc17a14 <.LBE2+0x414>
bfc17a00:	b262      	lw	v0,bfc17b88 <.LBE2+0x588>
                        if(g_fix_sample_flg == 1) {
bfc17a02:	a240      	lbu	v0,0(v0)
bfc17a04:	7201      	cmpi	v0,1
bfc17a06:	6758      	move	v0,t8
bfc17a08:	5a01      	sltiu	v0,1
bfc17a0a:	6007      	bteqz	bfc17a1a <.LBE2+0x41a>
bfc17a0c:	b35e      	lw	v1,bfc17b84 <.LBE2+0x584>
                            g_asrc_adj_flag = 1;
bfc17a0e:	6a01      	li	v0,1
bfc17a10:	c340      	sb	v0,0(v1)
bfc17a12:	1003      	b	bfc17a1a <.LBE2+0x41a>
bfc17a14:	b35c      	lw	v1,bfc17b84 <.LBE2+0x584>
                        }
                    } else {
                        g_asrc_adj_flag = 0;
bfc17a16:	6a00      	li	v0,0
bfc17a18:	c340      	sb	v0,0(v1)
bfc17a1a:	b35d      	lw	v1,bfc17b8c <.LBE2+0x58c>
                    }


                    g_play_sample = new_sample;
bfc17a1c:	9942      	lw	v0,8(s1)
bfc17a1e:	db40      	sw	v0,0(v1)
bfc17a20:	b35c      	lw	v1,bfc17b90 <.LBE2+0x590>

                    g_set_sample_flag = 1;
bfc17a22:	6a01      	li	v0,1
bfc17a24:	c340      	sb	v0,0(v1)
bfc17a26:	104f      	b	bfc17ac6 <.LBE2+0x4c6>
                }
            }
            break;
bfc17a28:	b22f      	lw	v0,bfc17ae4 <.LBE2+0x4e4>

        case GET_SAMPLERATE:
            if((g_setup_data.bRequest == GET_CUR) && (g_setup_data.wValue == 0x0100)) {
bfc17a2a:	a241      	lbu	v0,1(v0)
bfc17a2c:	7281      	cmpi	v0,129
bfc17a2e:	6758      	move	v0,t8
bfc17a30:	5a01      	sltiu	v0,1
bfc17a32:	6042      	bteqz	bfc17ab8 <.LBE2+0x4b8>
bfc17a34:	b22c      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17a36:	a262      	lbu	v1,2(v0)
bfc17a38:	a243      	lbu	v0,3(v0)
bfc17a3a:	3240      	sll	v0,8
bfc17a3c:	ea6d      	or	v0,v1
bfc17a3e:	ea31      	zeh	v0
bfc17a40:	f100 7200 	cmpi	v0,256
bfc17a44:	6758      	move	v0,t8
bfc17a46:	5a01      	sltiu	v0,1
bfc17a48:	6037      	bteqz	bfc17ab8 <.LBE2+0x4b8>
bfc17a4a:	b253      	lw	v0,bfc17b94 <.LBE2+0x594>
                if(g_audio_sample_set == 0) {
bfc17a4c:	a240      	lbu	v0,0(v0)
bfc17a4e:	2a28      	bnez	v0,bfc17aa0 <.LBE2+0x4a0>
bfc17a50:	b24f      	lw	v0,bfc17b8c <.LBE2+0x58c>
                    if(g_play_sample == 44100) {
bfc17a52:	9a60      	lw	v1,0(v0)
bfc17a54:	f455 6a04 	li	v0,44100
bfc17a58:	ea6e      	xor	v0,v1
bfc17a5a:	5a01      	sltiu	v0,1
bfc17a5c:	600d      	bteqz	bfc17a78 <.LBE2+0x478>
bfc17a5e:	b44f      	lw	a0,bfc17b98 <.LBE2+0x598>
                        control_read(((device_audio_configuration_t *)audio_descriptors_of_configuration)\
bfc17a60:	b221      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17a62:	a266      	lbu	v1,6(v0)
bfc17a64:	a247      	lbu	v0,7(v0)
bfc17a66:	3240      	sll	v0,8
bfc17a68:	ea6d      	or	v0,v1
bfc17a6a:	ea11      	zeb	v0
bfc17a6c:	6d03      	li	a1,3
bfc17a6e:	67c2      	move	a2,v0
bfc17a70:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc17a74:	6500      	nop
bfc17a76:	1020      	b	bfc17ab8 <.LBE2+0x4b8>
bfc17a78:	b245      	lw	v0,bfc17b8c <.LBE2+0x58c>
                                     ->Audio_Class_Format_Setting1.tSamFreq2, 0x03, (uint8) g_setup_data.wLength);

                    } else if(g_play_sample == 48000) {
bfc17a7a:	9a60      	lw	v1,0(v0)
bfc17a7c:	f397 6a00 	li	v0,48000
bfc17a80:	ea6e      	xor	v0,v1
bfc17a82:	5a01      	sltiu	v0,1
bfc17a84:	6019      	bteqz	bfc17ab8 <.LBE2+0x4b8>
bfc17a86:	b446      	lw	a0,bfc17b9c <.LBE2+0x59c>
                        control_read(((device_audio_configuration_t *)audio_descriptors_of_configuration)\
bfc17a88:	b217      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17a8a:	a266      	lbu	v1,6(v0)
bfc17a8c:	a247      	lbu	v0,7(v0)
bfc17a8e:	3240      	sll	v0,8
bfc17a90:	ea6d      	or	v0,v1
bfc17a92:	ea11      	zeb	v0
bfc17a94:	6d03      	li	a1,3
bfc17a96:	67c2      	move	a2,v0
bfc17a98:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc17a9c:	6500      	nop
bfc17a9e:	100c      	b	bfc17ab8 <.LBE2+0x4b8>
bfc17aa0:	b43f      	lw	a0,bfc17b9c <.LBE2+0x59c>
                                     ->Audio_Class_Format_Setting1.tSamFreq1, 0x03, (uint8) g_setup_data.wLength);
                    } else {
                        ;//for qac
                    }
                } else {
                    control_read(((device_audio_configuration_sub_t *)audio_descriptors_of_configuration)\
bfc17aa2:	b211      	lw	v0,bfc17ae4 <.LBE2+0x4e4>
bfc17aa4:	a266      	lbu	v1,6(v0)
bfc17aa6:	a247      	lbu	v0,7(v0)
bfc17aa8:	3240      	sll	v0,8
bfc17aaa:	ea6d      	or	v0,v1
bfc17aac:	ea11      	zeb	v0
bfc17aae:	6d03      	li	a1,3
bfc17ab0:	67c2      	move	a2,v0
bfc17ab2:	1a1f 5b2f 	jal	bfc16cbc <control_read>
bfc17ab6:	6500      	nop
bfc17ab8:	1a1f 5b00 	jal	bfc16c00 <RCODE_TEXT_ADDR>
                                 ->Audio_Class_Format_Setting1.tSamFreq1, 0x03, (uint8) g_setup_data.wLength);
                }

            }
            no_data_control();
bfc17abc:	6500      	nop
bfc17abe:	1003      	b	bfc17ac6 <.LBE2+0x4c6>
            break;
bfc17ac0:	1a1f 5b00 	jal	bfc16c00 <RCODE_TEXT_ADDR>

        default:
            no_data_control();//可能会发set clearfeature到en2in
bfc17ac4:	6500      	nop
bfc17ac6:	65b9      	move	sp,s1
            break;
    }

}
bfc17ac8:	6454      	restore	32,ra,s1
bfc17aca:	e8a0      	jrc	ra
bfc17acc:	7773      	cmpi	a3,115
bfc17ace:	6974      	li	s1,116
bfc17ad0:	6863      	li	s0,99
bfc17ad2:	0000      	addiu	s0,sp,0
bfc17ad4:	6e75      	li	a2,117
bfc17ad6:	6e6b      	li	a2,107
bfc17ad8:	776f      	cmpi	a3,111
bfc17ada:	206e      	beqz	s0,bfc17bb8 <reset_data_pos+0x18>
bfc17adc:	4977      	addiu	s1,119
bfc17ade:	646e      	restore	112,ra,s0
bfc17ae0:	7865      	sd	v1,40(s0)
bfc17ae2:	003a      	addiu	s0,sp,232
bfc17ae4:	93c4      	lw	v1,784(sp)
bfc17ae6:	9fc1      	lw	a2,4(a3)
bfc17ae8:	0180      	addiu	s1,sp,512
bfc17aea:	c008      	sb	s0,8(s0)
bfc17aec:	0181      	addiu	s1,sp,516
bfc17aee:	c008      	sb	s0,8(s0)
bfc17af0:	0182      	addiu	s1,sp,520
bfc17af2:	c008      	sb	s0,8(s0)
bfc17af4:	0184      	addiu	s1,sp,528
bfc17af6:	c008      	sb	s0,8(s0)
bfc17af8:	0186      	addiu	s1,sp,536
bfc17afa:	c008      	sb	s0,8(s0)
bfc17afc:	9248      	lw	v0,288(sp)
bfc17afe:	9fc1      	lw	a2,4(a3)
bfc17b00:	93cc      	lw	v1,816(sp)
bfc17b02:	9fc1      	lw	a2,4(a3)
bfc17b04:	94b3      	lw	a0,716(sp)
bfc17b06:	9fc1      	lw	a2,4(a3)
bfc17b08:	925c      	lw	v0,368(sp)
bfc17b0a:	9fc1      	lw	a2,4(a3)
bfc17b0c:	9284      	lw	v0,528(sp)
bfc17b0e:	9fc1      	lw	a2,4(a3)
bfc17b10:	9260      	lw	v0,384(sp)
bfc17b12:	9fc1      	lw	a2,4(a3)
bfc17b14:	9298      	lw	v0,608(sp)
bfc17b16:	9fc1      	lw	a2,4(a3)
bfc17b18:	9218      	lw	v0,96(sp)
bfc17b1a:	9fc1      	lw	a2,4(a3)
bfc17b1c:	9370      	lw	v1,448(sp)
bfc17b1e:	9fc1      	lw	a2,4(a3)
bfc17b20:	9374      	lw	v1,464(sp)
bfc17b22:	9fc1      	lw	a2,4(a3)
bfc17b24:	9378      	lw	v1,480(sp)
bfc17b26:	9fc1      	lw	a2,4(a3)
bfc17b28:	93c2      	lw	v1,776(sp)
bfc17b2a:	9fc1      	lw	a2,4(a3)
bfc17b2c:	9390      	lw	v1,576(sp)
bfc17b2e:	9fc1      	lw	a2,4(a3)
bfc17b30:	9394      	lw	v1,592(sp)
bfc17b32:	9fc1      	lw	a2,4(a3)
bfc17b34:	935c      	lw	v1,368(sp)
bfc17b36:	9fc1      	lw	a2,4(a3)
bfc17b38:	9358      	lw	v1,352(sp)
bfc17b3a:	9fc1      	lw	a2,4(a3)
bfc17b3c:	936a      	lw	v1,424(sp)
bfc17b3e:	9fc1      	lw	a2,4(a3)
bfc17b40:	936c      	lw	v1,432(sp)
bfc17b42:	9fc1      	lw	a2,4(a3)
bfc17b44:	936e      	lw	v1,440(sp)
bfc17b46:	9fc1      	lw	a2,4(a3)
bfc17b48:	935d      	lw	v1,372(sp)
bfc17b4a:	9fc1      	lw	a2,4(a3)
bfc17b4c:	93ba      	lw	v1,744(sp)
bfc17b4e:	9fc1      	lw	a2,4(a3)
bfc17b50:	21cb      	beqz	s1,bfc17ae8 <.LBE2+0x4e8>
bfc17b52:	22cb      	beqz	v0,bfc17aea <.LBE2+0x4ea>
bfc17b54:	93bd      	lw	v1,756(sp)
bfc17b56:	9fc1      	lw	a2,4(a3)
bfc17b58:	8ea1      	lh	a1,2(a2)
bfc17b5a:	bfc1      	lwu	a2,4(a3)
bfc17b5c:	9368      	lw	v1,416(sp)
bfc17b5e:	9fc1      	lw	a2,4(a3)
bfc17b60:	93b7      	lw	v1,732(sp)
bfc17b62:	9fc1      	lw	a2,4(a3)
bfc17b64:	9208      	lw	v0,32(sp)
bfc17b66:	9fc1      	lw	a2,4(a3)
bfc17b68:	9361      	lw	v1,388(sp)
bfc17b6a:	9fc1      	lw	a2,4(a3)
bfc17b6c:	93be      	lw	v1,760(sp)
bfc17b6e:	9fc1      	lw	a2,4(a3)
bfc17b70:	938c      	lw	v1,560(sp)
bfc17b72:	9fc1      	lw	a2,4(a3)
bfc17b74:	9388      	lw	v1,544(sp)
bfc17b76:	9fc1      	lw	a2,4(a3)
bfc17b78:	9210      	lw	v0,64(sp)
bfc17b7a:	9fc1      	lw	a2,4(a3)
bfc17b7c:	9204      	lw	v0,16(sp)
bfc17b7e:	9fc1      	lw	a2,4(a3)
bfc17b80:	9360      	lw	v1,384(sp)
bfc17b82:	9fc1      	lw	a2,4(a3)
bfc17b84:	94b5      	lw	a0,724(sp)
bfc17b86:	9fc1      	lw	a2,4(a3)
bfc17b88:	9398      	lw	v1,608(sp)
bfc17b8a:	9fc1      	lw	a2,4(a3)
bfc17b8c:	9200      	lw	v0,0(sp)
bfc17b8e:	9fc1      	lw	a2,4(a3)
bfc17b90:	935f      	lw	v1,380(sp)
bfc17b92:	9fc1      	lw	a2,4(a3)
bfc17b94:	94b4      	lw	a0,720(sp)
bfc17b96:	9fc1      	lw	a2,4(a3)
bfc17b98:	9450      	lw	a0,320(sp)
bfc17b9a:	9fc1      	lw	a2,4(a3)
bfc17b9c:	944d      	lw	a0,308(sp)
bfc17b9e:	9fc1      	lw	a2,4(a3)

bfc17ba0 <reset_data_pos>:
bfc17ba0:	6491      	save	8,s1
 * \par
 * \note
 *******************************************************************************/
void reset_data_pos(void)
{
bfc17ba2:	673d      	move	s1,sp
bfc17ba4:	b309      	lw	v1,bfc17bc8 <reset_data_pos+0x28>
    g_rd_play_ptr = 0;
bfc17ba6:	6a00      	li	v0,0
bfc17ba8:	db40      	sw	v0,0(v1)
bfc17baa:	b309      	lw	v1,bfc17bcc <reset_data_pos+0x2c>

    g_play_data_count = 0;
bfc17bac:	6a00      	li	v0,0
bfc17bae:	db40      	sw	v0,0(v1)
bfc17bb0:	b308      	lw	v1,bfc17bd0 <reset_data_pos+0x30>

    g_wr_play_ptr = 0;
bfc17bb2:	6a00      	li	v0,0
bfc17bb4:	db40      	sw	v0,0(v1)
bfc17bb6:	b308      	lw	v1,bfc17bd4 <reset_data_pos+0x34>

    g_manul_stop = 0;
bfc17bb8:	6a00      	li	v0,0
bfc17bba:	db40      	sw	v0,0(v1)
bfc17bbc:	b307      	lw	v1,bfc17bd8 <reset_data_pos+0x38>

    g_reset_flag = 1;
bfc17bbe:	6a01      	li	v0,1
bfc17bc0:	c340      	sb	v0,0(v1)
bfc17bc2:	65b9      	move	sp,s1
}
bfc17bc4:	6411      	restore	8,s1
bfc17bc6:	e8a0      	jrc	ra
bfc17bc8:	9374      	lw	v1,464(sp)
bfc17bca:	9fc1      	lw	a2,4(a3)
bfc17bcc:	9378      	lw	v1,480(sp)
bfc17bce:	9fc1      	lw	a2,4(a3)
bfc17bd0:	9370      	lw	v1,448(sp)
bfc17bd2:	9fc1      	lw	a2,4(a3)
bfc17bd4:	9380      	lw	v1,512(sp)
bfc17bd6:	9fc1      	lw	a2,4(a3)
bfc17bd8:	94bc      	lw	a0,752(sp)
bfc17bda:	9fc1      	lw	a2,4(a3)

bfc17bdc <usb_disconnect_isr>:
bfc17bdc:	6491      	save	8,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   deal USB disconnect.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_msc.c
 * \par
 * \note
 *******************************************************************************/
void usb_disconnect_isr(void)
{
bfc17bde:	673d      	move	s1,sp
bfc17be0:	b207      	lw	v0,bfc17bfc <usb_disconnect_isr+0x20>
    if(USB_CONNECT_STATUS != 0x00) {
bfc17be2:	a240      	lbu	v0,0(v0)
bfc17be4:	6762      	move	v1,v0
bfc17be6:	eb11      	zeb	v1
bfc17be8:	6a40      	li	v0,64
bfc17bea:	ea6c      	and	v0,v1
bfc17bec:	2203      	beqz	v0,bfc17bf4 <usb_disconnect_isr+0x18>
bfc17bee:	b305      	lw	v1,bfc17c00 <usb_disconnect_isr+0x24>
        g_usb_state = 0x01;
bfc17bf0:	6a01      	li	v0,1
bfc17bf2:	db40      	sw	v0,0(v1)
bfc17bf4:	65b9      	move	sp,s1
    }

}
bfc17bf6:	6411      	restore	8,s1
bfc17bf8:	e8a0      	jrc	ra
bfc17bfa:	0000      	addiu	s0,sp,0
bfc17bfc:	018c      	addiu	s1,sp,560
bfc17bfe:	c008      	sb	s0,8(s0)
bfc17c00:	9364      	lw	v1,400(sp)
bfc17c02:	9fc1      	lw	a2,4(a3)

bfc17c04 <cap_adc_dma_stop>:
bfc17c04:	6491      	save	8,s1

#ifdef _USB_RECORD_

/******************************************************************************/
/*!
 * \par  Description:void cap_adc_dma_stop(void)
 * \config record use dma and stop
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_msc.c
 * \par
 * \note
 *******************************************************************************/

void cap_adc_dma_stop(void)
{
bfc17c06:	673d      	move	s1,sp
bfc17c08:	b409      	lw	a0,bfc17c2c <cap_adc_dma_stop+0x28>
    //stop
    act_writel(act_readl(DMA0CTL) & (~(1 << DMA0CTL_DMA0START)), DMA0CTL); // stop dma
bfc17c0a:	b209      	lw	v0,bfc17c2c <cap_adc_dma_stop+0x28>
bfc17c0c:	9a60      	lw	v1,0(v0)
bfc17c0e:	6a02      	li	v0,2
bfc17c10:	ea4b      	neg	v0
bfc17c12:	ea6c      	and	v0,v1
bfc17c14:	dc40      	sw	v0,0(a0)
bfc17c16:	b407      	lw	a0,bfc17c30 <cap_adc_dma_stop+0x2c>

    //disable interrupt
    act_writel((act_readl(DMAIE) & (~(1 << DMAIE_DMA0TCIE)) & (~(1 << DMAIE_DMA0HFIE))), DMAIE);
bfc17c18:	b206      	lw	v0,bfc17c30 <cap_adc_dma_stop+0x2c>
bfc17c1a:	9a60      	lw	v1,0(v0)
bfc17c1c:	6aff      	li	v0,255
bfc17c1e:	4243      	addiu	v0,v0,3
bfc17c20:	ea4b      	neg	v0
bfc17c22:	ea6c      	and	v0,v1
bfc17c24:	dc40      	sw	v0,0(a0)
bfc17c26:	65b9      	move	sp,s1
    //release irq
    //sys_free_irq(IRQ_DMA0);

}
bfc17c28:	6411      	restore	8,s1
bfc17c2a:	e8a0      	jrc	ra
bfc17c2c:	0010      	addiu	s0,sp,64
bfc17c2e:	c00c      	sb	s0,12(s0)
bfc17c30:	0008      	addiu	s0,sp,32
bfc17c32:	c00c      	sb	s0,12(s0)

bfc17c34 <cap_adc_dma_isr>:
bfc17c34:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *     interrupt service
 * \param[in]    none.
 * \param[out]   none.
 * \return       none

 * \ingroup      module name
 * \par          exmaple code
 * \code
 *               list example code in here
 * \endcode
 *******************************************************************************/
void cap_adc_dma_isr(void)
{
bfc17c36:	0104      	addiu	s1,sp,16
bfc17c38:	b420      	lw	a0,bfc17cb8 <cap_adc_dma_isr+0x84>
    //clr dma interrupt pending
    act_writel((act_readl(DMAIP) | (1 << DMAIP_DMA0TCIP) | (1 << DMAIP_DMA0HFIP)), DMAIP);
bfc17c3a:	b220      	lw	v0,bfc17cb8 <cap_adc_dma_isr+0x84>
bfc17c3c:	9a60      	lw	v1,0(v0)
bfc17c3e:	6aff      	li	v0,255
bfc17c40:	4242      	addiu	v0,v0,2
bfc17c42:	ea6d      	or	v0,v1
bfc17c44:	dc40      	sw	v0,0(a0)
bfc17c46:	b21e      	lw	v0,bfc17cbc <cap_adc_dma_isr+0x88>

    //no data has been sent to pc anymore
    if(g_record_data_count >= RECORD_BUFF_SIZE) {
bfc17c48:	9a40      	lw	v0,0(v0)
bfc17c4a:	f001 5a00 	sltiu	v0,2048
bfc17c4e:	6106      	btnez	bfc17c5c <cap_adc_dma_isr+0x28>
bfc17c50:	b21c      	lw	v0,bfc17cc0 <cap_adc_dma_isr+0x8c>
        cap_adc_dma_stop();
bfc17c52:	eac0      	jalrc	v0
bfc17c54:	b31c      	lw	v1,bfc17cc0 <cap_adc_dma_isr+0x8c>

        g_start_record = 0;
bfc17c56:	6a00      	li	v0,0
bfc17c58:	db40      	sw	v0,0(v1)
bfc17c5a:	102b      	b	bfc17cb2 <cap_adc_dma_isr+0x7e>

        return;
bfc17c5c:	b318      	lw	v1,bfc17cbc <cap_adc_dma_isr+0x88>
    }

    g_record_data_count += RECORD_BUFF_SIZE / 2;
bfc17c5e:	b218      	lw	v0,bfc17cbc <cap_adc_dma_isr+0x88>
bfc17c60:	9a40      	lw	v0,0(v0)
bfc17c62:	f400 4a00 	addiu	v0,1024
bfc17c66:	db40      	sw	v0,0(v1)
bfc17c68:	b215      	lw	v0,bfc17cbc <cap_adc_dma_isr+0x88>
    if(g_record_data_count > RECORD_HIGH_THRESHOLD) {
bfc17c6a:	9a40      	lw	v0,0(v0)
bfc17c6c:	f700 5a01 	sltiu	v0,1793
bfc17c70:	610e      	btnez	bfc17c8e <cap_adc_dma_isr+0x5a>
bfc17c72:	b216      	lw	v0,bfc17cc8 <cap_adc_dma_isr+0x94>
        //act_writel(act_readl(AUDIO_PLL_CTL) & (~(3 << 0)), AUDIO_PLL_CTL);
        //*((REG32) (AUDIOPLL_CTL)) &= ~(3 << 9);//adjust more slower
        // config decimation ratio
        //libc_print("slow",0,0);
        if(g_asrc_adj_flag == 1) {
bfc17c74:	a240      	lbu	v0,0(v0)
bfc17c76:	7201      	cmpi	v0,1
bfc17c78:	6758      	move	v0,t8
bfc17c7a:	5a01      	sltiu	v0,1
bfc17c7c:	6004      	bteqz	bfc17c86 <cap_adc_dma_isr+0x52>
bfc17c7e:	b314      	lw	v1,bfc17ccc <cap_adc_dma_isr+0x98>
            *((REG32)(ASRC_IN_DEC0)) = (uint32)(((double)(K_ASRC_IN_DEC0 + 5000)) / 44100) * 48000;
bfc17c80:	b214      	lw	v0,bfc17cd0 <cap_adc_dma_isr+0x9c>
bfc17c82:	db40      	sw	v0,0(v1)
bfc17c84:	1016      	b	bfc17cb2 <cap_adc_dma_isr+0x7e>
bfc17c86:	b312      	lw	v1,bfc17ccc <cap_adc_dma_isr+0x98>
        } else {
            *((REG32)(ASRC_IN_DEC0)) = (K_ASRC_IN_DEC0 + 5000);
bfc17c88:	b213      	lw	v0,bfc17cd4 <cap_adc_dma_isr+0xa0>
bfc17c8a:	db40      	sw	v0,0(v1)
bfc17c8c:	1012      	b	bfc17cb2 <cap_adc_dma_isr+0x7e>
bfc17c8e:	b20c      	lw	v0,bfc17cbc <cap_adc_dma_isr+0x88>
        }

    } else if(g_record_data_count < RECORD_LOW_THRESHOLD) {
bfc17c90:	9a40      	lw	v0,0(v0)
bfc17c92:	f500 5a00 	sltiu	v0,1280
bfc17c96:	600d      	bteqz	bfc17cb2 <cap_adc_dma_isr+0x7e>
bfc17c98:	b20c      	lw	v0,bfc17cc8 <cap_adc_dma_isr+0x94>
        //*((REG32) (AUDIOPLL_CTL)) |= (7 << 9);//adjust more faster
        //act_writel(act_readl(AUDIO_PLL_CTL) | (3 << 0), AUDIO_PLL_CTL);
        // config decimation ratio
        //libc_print("fast",0,0);
        if(g_asrc_adj_flag == 1) {
bfc17c9a:	a240      	lbu	v0,0(v0)
bfc17c9c:	7201      	cmpi	v0,1
bfc17c9e:	6758      	move	v0,t8
bfc17ca0:	5a01      	sltiu	v0,1
bfc17ca2:	6004      	bteqz	bfc17cac <cap_adc_dma_isr+0x78>
bfc17ca4:	b30a      	lw	v1,bfc17ccc <cap_adc_dma_isr+0x98>
            *((REG32)(ASRC_IN_DEC0)) = (uint32)(((double)(K_ASRC_IN_DEC0 - 5000)) / 44100) * 48000;
bfc17ca6:	b20b      	lw	v0,bfc17cd0 <cap_adc_dma_isr+0x9c>
bfc17ca8:	db40      	sw	v0,0(v1)
bfc17caa:	1003      	b	bfc17cb2 <cap_adc_dma_isr+0x7e>
bfc17cac:	b308      	lw	v1,bfc17ccc <cap_adc_dma_isr+0x98>
        } else {
            *((REG32)(ASRC_IN_DEC0)) = (K_ASRC_IN_DEC0 - 5000);
bfc17cae:	b20b      	lw	v0,bfc17cd8 <cap_adc_dma_isr+0xa4>
bfc17cb0:	db40      	sw	v0,0(v1)
bfc17cb2:	65b9      	move	sp,s1
        }

    }

    else {
        ;//for QAC
    }
}
bfc17cb4:	6451      	restore	8,ra,s1
bfc17cb6:	e8a0      	jrc	ra
bfc17cb8:	0004      	addiu	s0,sp,16
bfc17cba:	c00c      	sb	s0,12(s0)
bfc17cbc:	9394      	lw	v1,592(sp)
bfc17cbe:	9fc1      	lw	a2,4(a3)
bfc17cc0:	7c05      	sd	s0,40(a0)
bfc17cc2:	bfc1      	lwu	a2,4(a3)
bfc17cc4:	9388      	lw	v1,544(sp)
bfc17cc6:	9fc1      	lw	a2,4(a3)
bfc17cc8:	94b5      	lw	a0,724(sp)
bfc17cca:	9fc1      	lw	a2,4(a3)
bfc17ccc:	0004      	addiu	s0,sp,16
bfc17cce:	c016      	sb	s0,22(s0)
bfc17cd0:	d880      	sw	a0,0(s0)
bfc17cd2:	0010      	addiu	s0,sp,64
bfc17cd4:	1388      	b	bfc183e6 <usound_inner_set_cfg+0x2a>
bfc17cd6:	0010      	addiu	s0,sp,64
bfc17cd8:	ec78      	mult	a0,v1
bfc17cda:	000f      	addiu	s0,sp,60

bfc17cdc <cap_adc_dma_cfg>:
bfc17cdc:	6491      	save	8,s1

/******************************************************************************/
/*!
 * \par  Description:void cap_adc_dma_cfg(void)
 * \config record use dma and start
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_msc.c
 * \par
 * \note
 *******************************************************************************/
void cap_adc_dma_cfg(void)
{
bfc17cde:	673d      	move	s1,sp
bfc17ce0:	b416      	lw	a0,bfc17d38 <cap_adc_dma_cfg+0x5c>
    act_writel(act_readl(DMA0CTL) & (~(1 << DMA0CTL_DMA0START)), DMA0CTL); // stop dma
bfc17ce2:	b216      	lw	v0,bfc17d38 <cap_adc_dma_cfg+0x5c>
bfc17ce4:	9a60      	lw	v1,0(v0)
bfc17ce6:	6a02      	li	v0,2
bfc17ce8:	ea4b      	neg	v0
bfc17cea:	ea6c      	and	v0,v1
bfc17cec:	dc40      	sw	v0,0(a0)
bfc17cee:	b414      	lw	a0,bfc17d3c <cap_adc_dma_cfg+0x60>

    //clr dma interrupt pending
    act_writel((act_readl(DMAIP) | (1 << DMAIP_DMA0TCIP) | (1 << DMAIP_DMA0HFIP)), DMAIP);
bfc17cf0:	b213      	lw	v0,bfc17d3c <cap_adc_dma_cfg+0x60>
bfc17cf2:	9a60      	lw	v1,0(v0)
bfc17cf4:	6aff      	li	v0,255
bfc17cf6:	4242      	addiu	v0,v0,2
bfc17cf8:	ea6d      	or	v0,v1
bfc17cfa:	dc40      	sw	v0,0(a0)
bfc17cfc:	b411      	lw	a0,bfc17d40 <cap_adc_dma_cfg+0x64>

    //register dma
    //sys_request_irq(IRQ_DMA0, cap_adc_dma_isr);

    //enable interrupt
    act_writel((act_readl(DMAIE) | (1 << DMAIE_DMA0TCIE) | (1 << DMAIE_DMA0HFIE)), DMAIE);
bfc17cfe:	b211      	lw	v0,bfc17d40 <cap_adc_dma_cfg+0x64>
bfc17d00:	9a60      	lw	v1,0(v0)
bfc17d02:	6aff      	li	v0,255
bfc17d04:	4242      	addiu	v0,v0,2
bfc17d06:	ea6d      	or	v0,v1
bfc17d08:	dc40      	sw	v0,0(a0)
bfc17d0a:	b30f      	lw	v1,bfc17d44 <cap_adc_dma_cfg+0x68>
    //dest addr
    act_writel((uint32)g_record_buf, DMA0DADDR0);
bfc17d0c:	b20f      	lw	v0,bfc17d48 <cap_adc_dma_cfg+0x6c>
bfc17d0e:	db40      	sw	v0,0(v1)
bfc17d10:	b30f      	lw	v1,bfc17d4c <cap_adc_dma_cfg+0x70>
    //dest addr another
    act_writel((uint32)g_rec_no_up, DMA0DADDR1);
bfc17d12:	b210      	lw	v0,bfc17d50 <cap_adc_dma_cfg+0x74>
bfc17d14:	db40      	sw	v0,0(v1)
bfc17d16:	b310      	lw	v1,bfc17d54 <cap_adc_dma_cfg+0x78>
    //data len
    act_writel(RECORD_BUFF_SIZE, DMA0FrameLen);
bfc17d18:	f001 6a00 	li	v0,2048
bfc17d1c:	db40      	sw	v0,0(v1)
bfc17d1e:	b307      	lw	v1,bfc17d38 <cap_adc_dma_cfg+0x5c>

    //adc to memory and 16bit & seperate mode for audio data
    act_writel(0x140d2, DMA0CTL);
bfc17d20:	b20e      	lw	v0,bfc17d58 <cap_adc_dma_cfg+0x7c>
bfc17d22:	db40      	sw	v0,0(v1)
bfc17d24:	b405      	lw	a0,bfc17d38 <cap_adc_dma_cfg+0x5c>

    //start
    act_writel((act_readl(DMA0CTL) | (1 << DMA0CTL_DMA0START)), DMA0CTL);
bfc17d26:	b205      	lw	v0,bfc17d38 <cap_adc_dma_cfg+0x5c>
bfc17d28:	9a60      	lw	v1,0(v0)
bfc17d2a:	6a01      	li	v0,1
bfc17d2c:	ea6d      	or	v0,v1
bfc17d2e:	dc40      	sw	v0,0(a0)
bfc17d30:	65b9      	move	sp,s1
}
bfc17d32:	6411      	restore	8,s1
bfc17d34:	e8a0      	jrc	ra
bfc17d36:	0000      	addiu	s0,sp,0
bfc17d38:	0010      	addiu	s0,sp,64
bfc17d3a:	c00c      	sb	s0,12(s0)
bfc17d3c:	0004      	addiu	s0,sp,16
bfc17d3e:	c00c      	sb	s0,12(s0)
bfc17d40:	0008      	addiu	s0,sp,32
bfc17d42:	c00c      	sb	s0,12(s0)
bfc17d44:	001c      	addiu	s0,sp,112
bfc17d46:	c00c      	sb	s0,12(s0)
bfc17d48:	3000      	sll	s0,8
bfc17d4a:	9fc3      	lw	a2,12(a3)
bfc17d4c:	0020      	addiu	s0,sp,128
bfc17d4e:	c00c      	sb	s0,12(s0)
bfc17d50:	3800      	ld	s0,0(s0)
bfc17d52:	9fc3      	lw	a2,12(a3)
bfc17d54:	0024      	addiu	s0,sp,144
bfc17d56:	c00c      	sb	s0,12(s0)
bfc17d58:	40d2      	daddiu	a2,s0,2
bfc17d5a:	0001      	addiu	s0,sp,4

bfc17d5c <iso_in_token_isr>:
bfc17d5c:	64d5      	save	40,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *  deal iso outtoken intrrupt.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_irq.c
 * \par
 * \note
 *******************************************************************************/
void iso_in_token_isr(void)
{
bfc17d5e:	0104      	addiu	s1,sp,16
bfc17d60:	b23f      	lw	v0,bfc17e5c <iso_in_token_isr+0x100>
    uint32 data_lenth, send_lenth, send_addr; //,temp_data;

    //start record flag set
    if(g_start_record == 0) {
bfc17d62:	9a40      	lw	v0,0(v0)
bfc17d64:	2a09      	bnez	v0,bfc17d78 <iso_in_token_isr+0x1c>
bfc17d66:	1a1f 5f37 	jal	bfc17cdc <cap_adc_dma_cfg>
        cap_adc_dma_cfg();
bfc17d6a:	6500      	nop
bfc17d6c:	b33c      	lw	v1,bfc17e5c <iso_in_token_isr+0x100>

        g_start_record = 1;
bfc17d6e:	6a01      	li	v0,1
bfc17d70:	db40      	sw	v0,0(v1)
bfc17d72:	b33c      	lw	v1,bfc17e60 <iso_in_token_isr+0x104>

        g_record_data_count = 0;
bfc17d74:	6a00      	li	v0,0
bfc17d76:	db40      	sw	v0,0(v1)
bfc17d78:	b23a      	lw	v0,bfc17e60 <iso_in_token_isr+0x104>
    }

    //report data length
    if(g_record_data_count < g_record_packet_size) {
bfc17d7a:	b33b      	lw	v1,bfc17e64 <iso_in_token_isr+0x108>
bfc17d7c:	9a80      	lw	a0,0(v0)
bfc17d7e:	9b40      	lw	v0,0(v1)
bfc17d80:	ec43      	sltu	a0,v0
bfc17d82:	6004      	bteqz	bfc17d8c <iso_in_token_isr+0x30>
bfc17d84:	b237      	lw	v0,bfc17e60 <iso_in_token_isr+0x104>
        data_lenth = (uint32)g_record_data_count;
bfc17d86:	9a40      	lw	v0,0(v0)
bfc17d88:	d940      	sw	v0,0(s1)
bfc17d8a:	1003      	b	bfc17d92 <iso_in_token_isr+0x36>
bfc17d8c:	b236      	lw	v0,bfc17e64 <iso_in_token_isr+0x108>
    } else {
        data_lenth = g_record_packet_size;
bfc17d8e:	9a40      	lw	v0,0(v0)
bfc17d90:	d940      	sw	v0,0(s1)
bfc17d92:	b234      	lw	v0,bfc17e60 <iso_in_token_isr+0x104>
    }

    //libc_print("cddf",data_lenth,2);

    if(g_record_data_count > 0) {
bfc17d94:	9a40      	lw	v0,0(v0)
bfc17d96:	2206      	beqz	v0,bfc17da4 <iso_in_token_isr+0x48>
bfc17d98:	b432      	lw	a0,bfc17e60 <iso_in_token_isr+0x104>
        //sub buffer length
        g_record_data_count -= data_lenth;
bfc17d9a:	b232      	lw	v0,bfc17e60 <iso_in_token_isr+0x104>
bfc17d9c:	9a60      	lw	v1,0(v0)
bfc17d9e:	9940      	lw	v0,0(s1)
bfc17da0:	e34b      	subu	v0,v1,v0
bfc17da2:	dc40      	sw	v0,0(a0)
bfc17da4:	b231      	lw	v0,bfc17e68 <iso_in_token_isr+0x10c>
    }

    //send data to usb fifo
    if((g_rd_record_ptr + data_lenth) > RECORD_BUFF_SIZE) {
bfc17da6:	9a60      	lw	v1,0(v0)
bfc17da8:	9940      	lw	v0,0(s1)
bfc17daa:	e349      	addu	v0,v1,v0
bfc17dac:	f001 5a01 	sltiu	v0,2049
bfc17db0:	6125      	btnez	bfc17dfc <iso_in_token_isr+0xa0>
bfc17db2:	b22e      	lw	v0,bfc17e68 <iso_in_token_isr+0x10c>
        //g_rd_record_ptr record cur read position
        send_addr = (uint32)g_record_buf + g_rd_record_ptr;
bfc17db4:	9a60      	lw	v1,0(v0)
bfc17db6:	b22e      	lw	v0,bfc17e6c <iso_in_token_isr+0x110>
bfc17db8:	e349      	addu	v0,v1,v0
bfc17dba:	d942      	sw	v0,8(s1)
bfc17dbc:	b22b      	lw	v0,bfc17e68 <iso_in_token_isr+0x10c>
        //send length caculate
        send_lenth = (RECORD_BUFF_SIZE - g_rd_record_ptr);
bfc17dbe:	f001 6b00 	li	v1,2048
bfc17dc2:	9a40      	lw	v0,0(v0)
bfc17dc4:	e34b      	subu	v0,v1,v0
bfc17dc6:	d941      	sw	v0,4(s1)
bfc17dc8:	9941      	lw	v0,4(s1)
        //left ptr do not meet one frame
        if(0 != send_lenth) {
bfc17dca:	2207      	beqz	v0,bfc17dda <iso_in_token_isr+0x7e>
bfc17dcc:	9942      	lw	v0,8(s1)
            //send to pc
            access_usbfifo_by_cpu(EP1IN, (uint32 *)send_addr, send_lenth);
bfc17dce:	9961      	lw	v1,4(s1)
bfc17dd0:	6c01      	li	a0,1
bfc17dd2:	67a2      	move	a1,v0
bfc17dd4:	67c3      	move	a2,v1
bfc17dd6:	b227      	lw	v0,bfc17e70 <iso_in_token_isr+0x114>
bfc17dd8:	eac0      	jalrc	v0
bfc17dda:	b225      	lw	v0,bfc17e6c <iso_in_token_isr+0x110>
        }
        //reset to buffer header
        send_addr = (uint32)g_record_buf;
bfc17ddc:	d942      	sw	v0,8(s1)
bfc17dde:	9960      	lw	v1,0(s1)
        //frame length
        send_lenth = data_lenth - send_lenth;
bfc17de0:	9941      	lw	v0,4(s1)
bfc17de2:	e34b      	subu	v0,v1,v0
bfc17de4:	d941      	sw	v0,4(s1)
bfc17de6:	9942      	lw	v0,8(s1)
        //send to fifo again
        access_usbfifo_by_cpu(EP1IN, (uint32 *)send_addr, send_lenth);
bfc17de8:	9961      	lw	v1,4(s1)
bfc17dea:	6c01      	li	a0,1
bfc17dec:	67a2      	move	a1,v0
bfc17dee:	67c3      	move	a2,v1
bfc17df0:	b220      	lw	v0,bfc17e70 <iso_in_token_isr+0x114>
bfc17df2:	eac0      	jalrc	v0
bfc17df4:	b31d      	lw	v1,bfc17e64 <iso_in_token_isr+0x108>
        //read ptr record position
        g_rd_record_ptr = send_lenth;
bfc17df6:	9941      	lw	v0,4(s1)
bfc17df8:	db40      	sw	v0,0(v1)
bfc17dfa:	1014      	b	bfc17e24 <iso_in_token_isr+0xc8>
bfc17dfc:	b21b      	lw	v0,bfc17e68 <iso_in_token_isr+0x10c>
    } else {
        //write ptr
        send_addr = (uint32)g_record_buf + g_rd_record_ptr;
bfc17dfe:	9a60      	lw	v1,0(v0)
bfc17e00:	b21b      	lw	v0,bfc17e6c <iso_in_token_isr+0x110>
bfc17e02:	e349      	addu	v0,v1,v0
bfc17e04:	d942      	sw	v0,8(s1)
bfc17e06:	9940      	lw	v0,0(s1)

        //length
        send_lenth = data_lenth;
bfc17e08:	d941      	sw	v0,4(s1)
bfc17e0a:	9942      	lw	v0,8(s1)

        access_usbfifo_by_cpu(EP1IN, (uint32 *)send_addr, send_lenth);
bfc17e0c:	9961      	lw	v1,4(s1)
bfc17e0e:	6c01      	li	a0,1
bfc17e10:	67a2      	move	a1,v0
bfc17e12:	67c3      	move	a2,v1
bfc17e14:	b217      	lw	v0,bfc17e70 <iso_in_token_isr+0x114>
bfc17e16:	eac0      	jalrc	v0
bfc17e18:	b414      	lw	a0,bfc17e64 <iso_in_token_isr+0x108>
        //update position
        g_rd_record_ptr += data_lenth;
bfc17e1a:	b214      	lw	v0,bfc17e68 <iso_in_token_isr+0x10c>
bfc17e1c:	9a60      	lw	v1,0(v0)
bfc17e1e:	9940      	lw	v0,0(s1)
bfc17e20:	e349      	addu	v0,v1,v0
bfc17e22:	dc40      	sw	v0,0(a0)
bfc17e24:	b414      	lw	a0,bfc17e74 <iso_in_token_isr+0x118>
    }
    //set busy status
    act_writeb(act_readb(In1cs_hcout1cs) | 0x02, In1cs_hcout1cs);
bfc17e26:	b214      	lw	v0,bfc17e74 <iso_in_token_isr+0x118>
bfc17e28:	a240      	lbu	v0,0(v0)
bfc17e2a:	6762      	move	v1,v0
bfc17e2c:	6a02      	li	v0,2
bfc17e2e:	ea6d      	or	v0,v1
bfc17e30:	c440      	sb	v0,0(a0)
bfc17e32:	b211      	lw	v0,bfc17e74 <iso_in_token_isr+0x118>

    while(0 != (act_readb(In1cs_hcout1cs) & 0x02)) {
bfc17e34:	a240      	lbu	v0,0(v0)
bfc17e36:	6762      	move	v1,v0
bfc17e38:	eb11      	zeb	v1
bfc17e3a:	6a02      	li	v0,2
bfc17e3c:	ea6c      	and	v0,v1
bfc17e3e:	220a      	beqz	v0,bfc17e54 <iso_in_token_isr+0xf8>
bfc17e40:	b20e      	lw	v0,bfc17e78 <iso_in_token_isr+0x11c>
        if(USB_CONNECT_STATUS != 0x00) {
bfc17e42:	a240      	lbu	v0,0(v0)
bfc17e44:	6762      	move	v1,v0
bfc17e46:	eb11      	zeb	v1
bfc17e48:	6a40      	li	v0,64
bfc17e4a:	ea6c      	and	v0,v1
bfc17e4c:	22f2      	beqz	v0,bfc17e32 <iso_in_token_isr+0xd6>
bfc17e4e:	b30c      	lw	v1,bfc17e7c <iso_in_token_isr+0x120>
            g_usb_state = 0x01;
bfc17e50:	6a01      	li	v0,1
bfc17e52:	db40      	sw	v0,0(v1)
bfc17e54:	65b9      	move	sp,s1
            break;
        }
    }

}
bfc17e56:	6453      	restore	24,ra,s1
bfc17e58:	e8a0      	jrc	ra
bfc17e5a:	0000      	addiu	s0,sp,0
bfc17e5c:	9388      	lw	v1,544(sp)
bfc17e5e:	9fc1      	lw	a2,4(a3)
bfc17e60:	9394      	lw	v1,592(sp)
bfc17e62:	9fc1      	lw	a2,4(a3)
bfc17e64:	9210      	lw	v0,64(sp)
bfc17e66:	9fc1      	lw	a2,4(a3)
bfc17e68:	9390      	lw	v1,576(sp)
bfc17e6a:	9fc1      	lw	a2,4(a3)
bfc17e6c:	3000      	sll	s0,8
bfc17e6e:	9fc3      	lw	a2,12(a3)
bfc17e70:	86e5      	lb	a3,5(a2)
bfc17e72:	bfc1      	lwu	a2,4(a3)
bfc17e74:	000f      	addiu	s0,sp,60
bfc17e76:	c008      	sb	s0,8(s0)
bfc17e78:	018c      	addiu	s1,sp,560
bfc17e7a:	c008      	sb	s0,8(s0)
bfc17e7c:	9364      	lw	v1,400(sp)
bfc17e7e:	9fc1      	lw	a2,4(a3)

bfc17e80 <iso_out_token_isr>:
bfc17e80:	64d6      	save	48,ra,s1
#endif

/******************************************************************************/
/*!
 * \par  Description:
 *  deal iso outtoken intrrupt.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_irq.c
 * \par
 * \note
 *******************************************************************************/
void iso_out_token_isr(void)
{
bfc17e82:	0104      	addiu	s1,sp,16
bfc17e84:	6a00      	li	v0,0
    uint32 data_lenth, get_lenth, buf_addr, temp_data = 0;
bfc17e86:	d943      	sw	v0,12(s1)
bfc17e88:	b35e      	lw	v1,bfc18000 <.L38+0x24>
    uint32 temp_low, temp_high;

    //act_writel(act_readl(GPIOAOUTEN) |(1<<23),GPIOAOUTEN);

    //act_writel(act_readl(GPIOADAT) |(1<<23),GPIOADAT);
    //sys_us_timer_start();

    //for multi fifo clear last frame data
    g_datain_flag = 1;
bfc17e8a:	6a01      	li	v0,1
bfc17e8c:	c340      	sb	v0,0(v1)
bfc17e8e:	b25e      	lw	v0,bfc18004 <.L38+0x28>

    if((g_start_play == 0) && (g_reset_flag == 0)) {
bfc17e90:	a240      	lbu	v0,0(v0)
bfc17e92:	2a05      	bnez	v0,bfc17e9e <iso_out_token_isr+0x1e>
bfc17e94:	b25d      	lw	v0,bfc18008 <.L38+0x2c>
bfc17e96:	a240      	lbu	v0,0(v0)
bfc17e98:	2a02      	bnez	v0,bfc17e9e <iso_out_token_isr+0x1e>
bfc17e9a:	b25d      	lw	v0,bfc1800c <.L38+0x30>
        reset_data_pos();
bfc17e9c:	eac0      	jalrc	v0
bfc17e9e:	b25d      	lw	v0,bfc18010 <.L38+0x34>
    }
    if(low_energy != 0) {
bfc17ea0:	9a40      	lw	v0,0(v0)
bfc17ea2:	2204      	beqz	v0,bfc17eac <iso_out_token_isr+0x2c>
bfc17ea4:	b35c      	lw	v1,bfc18014 <.L38+0x38>
        tmp_play_status = 1;
bfc17ea6:	6a01      	li	v0,1
bfc17ea8:	c340      	sb	v0,0(v1)
bfc17eaa:	1003      	b	bfc17eb2 <iso_out_token_isr+0x32>
bfc17eac:	b35a      	lw	v1,bfc18014 <.L38+0x38>
    } else {
        tmp_play_status = 0;
bfc17eae:	6a00      	li	v0,0
bfc17eb0:	c340      	sb	v0,0(v1)
bfc17eb2:	9943      	lw	v0,12(s1)
    }
    while(temp_data < 300) {
bfc17eb4:	f120 5a0c 	sltiu	v0,300
bfc17eb8:	6015      	bteqz	bfc17ee4 <iso_out_token_isr+0x64>
bfc17eba:	b258      	lw	v0,bfc18018 <.L38+0x3c>
        if(0x00 == (act_readb(Out1cs_hcin1cs) & 0x02)) {
bfc17ebc:	a240      	lbu	v0,0(v0)
bfc17ebe:	6762      	move	v1,v0
bfc17ec0:	eb11      	zeb	v1
bfc17ec2:	6a02      	li	v0,2
bfc17ec4:	ea6c      	and	v0,v1
bfc17ec6:	2a01      	bnez	v0,bfc17eca <iso_out_token_isr+0x4a>
bfc17ec8:	100d      	b	bfc17ee4 <iso_out_token_isr+0x64>
            break;
bfc17eca:	b255      	lw	v0,bfc1801c <.L38+0x40>
        }

        usb_disconnect_isr();
bfc17ecc:	eac0      	jalrc	v0
bfc17ece:	b255      	lw	v0,bfc18020 <.L38+0x44>
        if(g_usb_state == 0x01) {
bfc17ed0:	9a40      	lw	v0,0(v0)
bfc17ed2:	7201      	cmpi	v0,1
bfc17ed4:	6758      	move	v0,t8
bfc17ed6:	5a01      	sltiu	v0,1
bfc17ed8:	6001      	bteqz	bfc17edc <iso_out_token_isr+0x5c>
bfc17eda:	1004      	b	bfc17ee4 <iso_out_token_isr+0x64>
            break;
bfc17edc:	9943      	lw	v0,12(s1)
        }
        temp_data++;
bfc17ede:	4241      	addiu	v0,v0,1
bfc17ee0:	d943      	sw	v0,12(s1)
bfc17ee2:	17e7      	b	bfc17eb2 <iso_out_token_isr+0x32>
bfc17ee4:	9943      	lw	v0,12(s1)
    }

    //data_lenth = (uint32) act_readb(Out1bcl_hcin1bcl);
    if(temp_data == 300) {
bfc17ee6:	f120 720c 	cmpi	v0,300
bfc17eea:	6758      	move	v0,t8
bfc17eec:	5a01      	sltiu	v0,1
bfc17eee:	6003      	bteqz	bfc17ef6 <iso_out_token_isr+0x76>
bfc17ef0:	6a00      	li	v0,0
        data_lenth = 0;
bfc17ef2:	d940      	sw	v0,0(s1)
bfc17ef4:	100d      	b	bfc17f10 <iso_out_token_isr+0x90>
bfc17ef6:	b24c      	lw	v0,bfc18024 <.L38+0x48>
    } else {
        //data_lenth = (uint32) act_readb(Out1bcl_hcin1bcl);

        temp_low = act_readb(Out1bcl_hcin1bcl);
bfc17ef8:	a240      	lbu	v0,0(v0)
bfc17efa:	ea11      	zeb	v0
bfc17efc:	d944      	sw	v0,16(s1)
bfc17efe:	b24b      	lw	v0,bfc18028 <.L38+0x4c>

        temp_high = act_readb(Out1bch_hcin1bch);
bfc17f00:	a240      	lbu	v0,0(v0)
bfc17f02:	ea11      	zeb	v0
bfc17f04:	d945      	sw	v0,20(s1)
bfc17f06:	9945      	lw	v0,20(s1)

        data_lenth = (uint32)((temp_high << 8) | temp_low);
bfc17f08:	3340      	sll	v1,v0,8
bfc17f0a:	9944      	lw	v0,16(s1)
bfc17f0c:	ea6d      	or	v0,v1
bfc17f0e:	d940      	sw	v0,0(s1)
bfc17f10:	9940      	lw	v0,0(s1)
    }
    if(data_lenth == 0) {
bfc17f12:	2a01      	bnez	v0,bfc17f16 <iso_out_token_isr+0x96>
bfc17f14:	1063      	b	bfc17fdc <.L38>
        goto exit_iso_out;
bfc17f16:	b246      	lw	v0,bfc1802c <.L38+0x50>
    }

    if((g_tts_start_flag == 0) && (g_mute_flag == 0)) {
bfc17f18:	a240      	lbu	v0,0(v0)
bfc17f1a:	2a09      	bnez	v0,bfc17f2e <iso_out_token_isr+0xae>
bfc17f1c:	b245      	lw	v0,bfc18030 <.L38+0x54>
bfc17f1e:	a240      	lbu	v0,0(v0)
bfc17f20:	2a06      	bnez	v0,bfc17f2e <iso_out_token_isr+0xae>
bfc17f22:	b445      	lw	a0,bfc18034 <.L38+0x58>
        g_play_data_count += data_lenth;
bfc17f24:	b244      	lw	v0,bfc18034 <.L38+0x58>
bfc17f26:	9a60      	lw	v1,0(v0)
bfc17f28:	9940      	lw	v0,0(s1)
bfc17f2a:	e349      	addu	v0,v1,v0
bfc17f2c:	dc40      	sw	v0,0(a0)
bfc17f2e:	b243      	lw	v0,bfc18038 <.L38+0x5c>
    }

    if((g_wr_play_ptr + data_lenth) > PLAY_BUFF_SIZE) {
bfc17f30:	9a60      	lw	v1,0(v0)
bfc17f32:	9940      	lw	v0,0(s1)
bfc17f34:	e349      	addu	v0,v1,v0
bfc17f36:	f002 5a01 	sltiu	v0,4097
bfc17f3a:	6125      	btnez	bfc17f86 <iso_out_token_isr+0x106>
bfc17f3c:	b23f      	lw	v0,bfc18038 <.L38+0x5c>
        buf_addr = (uint32) g_play_buf + g_wr_play_ptr;
bfc17f3e:	9a60      	lw	v1,0(v0)
bfc17f40:	b23f      	lw	v0,bfc1803c <.L38+0x60>
bfc17f42:	e349      	addu	v0,v1,v0
bfc17f44:	d942      	sw	v0,8(s1)
bfc17f46:	b23d      	lw	v0,bfc18038 <.L38+0x5c>
        get_lenth = PLAY_BUFF_SIZE - g_wr_play_ptr;
bfc17f48:	f002 6b00 	li	v1,4096
bfc17f4c:	9a40      	lw	v0,0(v0)
bfc17f4e:	e34b      	subu	v0,v1,v0
bfc17f50:	d941      	sw	v0,4(s1)
bfc17f52:	9941      	lw	v0,4(s1)
        if(0 != get_lenth) {
bfc17f54:	2207      	beqz	v0,bfc17f64 <iso_out_token_isr+0xe4>
bfc17f56:	9942      	lw	v0,8(s1)
            access_usbfifo_by_cpu(EP1OUT, (uint32 *) buf_addr, get_lenth);
bfc17f58:	9961      	lw	v1,4(s1)
bfc17f5a:	6c02      	li	a0,2
bfc17f5c:	67a2      	move	a1,v0
bfc17f5e:	67c3      	move	a2,v1
bfc17f60:	b238      	lw	v0,bfc18040 <.L38+0x64>
bfc17f62:	eac0      	jalrc	v0
bfc17f64:	b236      	lw	v0,bfc18038 <.L38+0x5c>
        }
        buf_addr = (uint32) g_play_buf;
bfc17f66:	d942      	sw	v0,8(s1)
bfc17f68:	9960      	lw	v1,0(s1)
        get_lenth = data_lenth - get_lenth;
bfc17f6a:	9941      	lw	v0,4(s1)
bfc17f6c:	e34b      	subu	v0,v1,v0
bfc17f6e:	d941      	sw	v0,4(s1)
bfc17f70:	9942      	lw	v0,8(s1)
        access_usbfifo_by_cpu(EP1OUT, (uint32 *) buf_addr, get_lenth);
bfc17f72:	9961      	lw	v1,4(s1)
bfc17f74:	6c02      	li	a0,2
bfc17f76:	67a2      	move	a1,v0
bfc17f78:	67c3      	move	a2,v1
bfc17f7a:	b232      	lw	v0,bfc18040 <.L38+0x64>
bfc17f7c:	eac0      	jalrc	v0
bfc17f7e:	b32f      	lw	v1,bfc18038 <.L38+0x5c>
        g_wr_play_ptr = get_lenth;
bfc17f80:	9941      	lw	v0,4(s1)
bfc17f82:	db40      	sw	v0,0(v1)
bfc17f84:	1014      	b	bfc17fae <iso_out_token_isr+0x12e>
bfc17f86:	b22d      	lw	v0,bfc18038 <.L38+0x5c>

    } else {
        buf_addr = (uint32) g_play_buf + g_wr_play_ptr;
bfc17f88:	9a60      	lw	v1,0(v0)
bfc17f8a:	b22d      	lw	v0,bfc1803c <.L38+0x60>
bfc17f8c:	e349      	addu	v0,v1,v0
bfc17f8e:	d942      	sw	v0,8(s1)
bfc17f90:	9940      	lw	v0,0(s1)
        get_lenth = data_lenth;
bfc17f92:	d941      	sw	v0,4(s1)
bfc17f94:	9942      	lw	v0,8(s1)
        access_usbfifo_by_cpu(EP1OUT, (uint32 *) buf_addr, get_lenth);
bfc17f96:	9961      	lw	v1,4(s1)
bfc17f98:	6c02      	li	a0,2
bfc17f9a:	67a2      	move	a1,v0
bfc17f9c:	67c3      	move	a2,v1
bfc17f9e:	b229      	lw	v0,bfc18040 <.L38+0x64>
bfc17fa0:	eac0      	jalrc	v0
bfc17fa2:	b426      	lw	a0,bfc18038 <.L38+0x5c>
        g_wr_play_ptr += data_lenth;
bfc17fa4:	b225      	lw	v0,bfc18038 <.L38+0x5c>
bfc17fa6:	9a60      	lw	v1,0(v0)
bfc17fa8:	9940      	lw	v0,0(s1)
bfc17faa:	e349      	addu	v0,v1,v0
bfc17fac:	dc40      	sw	v0,0(a0)
bfc17fae:	b226      	lw	v0,bfc18044 <.L38+0x68>
    }

    if(g_mute_delay != 0) {
bfc17fb0:	a240      	lbu	v0,0(v0)
bfc17fb2:	2202      	beqz	v0,bfc17fb8 <iso_out_token_isr+0x138>
bfc17fb4:	b216      	lw	v0,bfc1800c <.L38+0x30>
        reset_data_pos();
bfc17fb6:	eac0      	jalrc	v0
bfc17fb8:	b21f      	lw	v0,bfc18030 <.L38+0x54>
    }

    if(g_play_data_count > PLAY_BUFF_SIZE) {
bfc17fba:	9a40      	lw	v0,0(v0)
bfc17fbc:	f002 5a01 	sltiu	v0,4097
bfc17fc0:	6104      	btnez	bfc17fca <iso_out_token_isr+0x14a>
bfc17fc2:	b21d      	lw	v0,bfc18034 <.L38+0x58>
        //libc_print("full",g_play_data_count,0);

        g_play_data_count = g_wr_play_ptr;
bfc17fc4:	b31d      	lw	v1,bfc18038 <.L38+0x5c>
bfc17fc6:	9b60      	lw	v1,0(v1)
bfc17fc8:	da60      	sw	v1,0(v0)
bfc17fca:	b20f      	lw	v0,bfc18004 <.L38+0x28>
    }

    if(g_start_play == 0) {
bfc17fcc:	a240      	lbu	v0,0(v0)
bfc17fce:	2a06      	bnez	v0,bfc17fdc <.L38>
bfc17fd0:	b30d      	lw	v1,bfc18004 <.L38+0x28>
        g_start_play = 1;
bfc17fd2:	6a01      	li	v0,1
bfc17fd4:	c340      	sb	v0,0(v1)
bfc17fd6:	b30d      	lw	v1,bfc18008 <.L38+0x2c>
        g_reset_flag = 0;
bfc17fd8:	6a00      	li	v0,0
bfc17fda:	c340      	sb	v0,0(v1)

bfc17fdc <.L38>:
bfc17fdc:	b40f      	lw	a0,bfc18018 <.L38+0x3c>
    }

exit_iso_out:
    //set busy

    act_writeb(act_readb(Out1cs_hcin1cs) | 0x02, Out1cs_hcin1cs);
bfc17fde:	b20f      	lw	v0,bfc18018 <.L38+0x3c>
bfc17fe0:	a240      	lbu	v0,0(v0)
bfc17fe2:	6762      	move	v1,v0
bfc17fe4:	6a02      	li	v0,2
bfc17fe6:	ea6d      	or	v0,v1
bfc17fe8:	c440      	sb	v0,0(a0)
bfc17fea:	b218      	lw	v0,bfc18048 <.L38+0x6c>

    //send data to asrc in
    /*while (g_play_data_count > 0)
     {
     if ((act_readl(ASRC_IN_IP) & (1 << ASRC_IN_IP_WFIFOEmpty)) != 0)
     {
     //g_wr_record_ptr += 4;
     temp_data = *(uint32 *) (g_play_buf + g_rd_play_ptr);

     //set to high word
     *(volatile uint32 *) ASRC_IN_WFIFO = (temp_data & 0xffff) << 16;

     *(volatile uint32 *) ASRC_IN_WFIFO = (temp_data & 0xffff0000);

     g_rd_play_ptr += 4;

     g_play_data_count -= 4;

     if (g_rd_play_ptr == PLAY_BUFF_SIZE)
     {
     g_rd_play_ptr = 0;
     }
     }

     }*/
    if(g_manul_stop != 0) {
bfc17fec:	9a40      	lw	v0,0(v0)
bfc17fee:	2205      	beqz	v0,bfc17ffa <.L38+0x1e>
bfc17ff0:	b205      	lw	v0,bfc18004 <.L38+0x28>
        g_start_play = 0;
bfc17ff2:	6b00      	li	v1,0
bfc17ff4:	c260      	sb	v1,0(v0)
bfc17ff6:	b206      	lw	v0,bfc1800c <.L38+0x30>

        reset_data_pos();
bfc17ff8:	eac0      	jalrc	v0
bfc17ffa:	65b9      	move	sp,s1
    }

    //temp_data = sys_us_timer_break();

    //act_writel(act_readl(GPIOADAT) &(~(1<<23)),GPIOADAT);
    return;
}
bfc17ffc:	6454      	restore	32,ra,s1
bfc17ffe:	e8a0      	jrc	ra
bfc18000:	93c1      	lw	v1,772(sp)
bfc18002:	9fc1      	lw	a2,4(a3)
bfc18004:	93c2      	lw	v1,776(sp)
bfc18006:	9fc1      	lw	a2,4(a3)
bfc18008:	94bc      	lw	a0,752(sp)
bfc1800a:	9fc1      	lw	a2,4(a3)
bfc1800c:	7ba1      	sd	a1,8(v1)
bfc1800e:	bfc1      	lwu	a2,4(a3)
bfc18010:	9384      	lw	v1,528(sp)
bfc18012:	9fc1      	lw	a2,4(a3)
bfc18014:	935e      	lw	v1,376(sp)
bfc18016:	9fc1      	lw	a2,4(a3)
bfc18018:	000b      	addiu	s0,sp,44
bfc1801a:	c008      	sb	s0,8(s0)
bfc1801c:	7bdd      	sd	a2,232(v1)
bfc1801e:	bfc1      	lwu	a2,4(a3)
bfc18020:	9364      	lw	v1,400(sp)
bfc18022:	9fc1      	lw	a2,4(a3)
bfc18024:	0008      	addiu	s0,sp,32
bfc18026:	c008      	sb	s0,8(s0)
bfc18028:	0009      	addiu	s0,sp,36
bfc1802a:	c008      	sb	s0,8(s0)
bfc1802c:	93bc      	lw	v1,752(sp)
bfc1802e:	9fc1      	lw	a2,4(a3)
bfc18030:	93bf      	lw	v1,764(sp)
bfc18032:	9fc1      	lw	a2,4(a3)
bfc18034:	9378      	lw	v1,480(sp)
bfc18036:	9fc1      	lw	a2,4(a3)
bfc18038:	9370      	lw	v1,448(sp)
bfc1803a:	9fc1      	lw	a2,4(a3)
bfc1803c:	2000      	beqz	s0,bfc1803e <.L38+0x62>
bfc1803e:	9fc3      	lw	a2,12(a3)
bfc18040:	86e5      	lb	a3,5(a2)
bfc18042:	bfc1      	lwu	a2,4(a3)
bfc18044:	93c0      	lw	v1,768(sp)
bfc18046:	9fc1      	lw	a2,4(a3)
bfc18048:	9380      	lw	v1,512(sp)
bfc1804a:	9fc1      	lw	a2,4(a3)

bfc1804c <hid_in_token_isr>:
bfc1804c:	6491      	save	8,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   deal hid intoken intrrupt.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_irq.c
 * \par
 * \note
 *******************************************************************************/
void hid_in_token_isr(void)
{
bfc1804e:	673d      	move	s1,sp
bfc18050:	b216      	lw	v0,bfc180a8 <hid_in_token_isr+0x5c>

    if((g_hid_idle_time == 0) || (g_hid_change != 0)) {
bfc18052:	aa40      	lhu	v0,0(v0)
bfc18054:	2204      	beqz	v0,bfc1805e <hid_in_token_isr+0x12>
bfc18056:	b216      	lw	v0,bfc180ac <hid_in_token_isr+0x60>
bfc18058:	a240      	lbu	v0,0(v0)
bfc1805a:	2a01      	bnez	v0,bfc1805e <hid_in_token_isr+0x12>
bfc1805c:	1022      	b	bfc180a2 <hid_in_token_isr+0x56>
bfc1805e:	b315      	lw	v1,bfc180b0 <hid_in_token_isr+0x64>
        act_writeb(g_hid_report, Fifo2dat);
bfc18060:	b215      	lw	v0,bfc180b4 <hid_in_token_isr+0x68>
bfc18062:	a240      	lbu	v0,0(v0)
bfc18064:	c340      	sb	v0,0(v1)
bfc18066:	b314      	lw	v1,bfc180b4 <hid_in_token_isr+0x68>
        g_hid_report = 0;
bfc18068:	6a00      	li	v0,0
bfc1806a:	c340      	sb	v0,0(v1)
bfc1806c:	b310      	lw	v1,bfc180ac <hid_in_token_isr+0x60>
        g_hid_change = 0;
bfc1806e:	6a00      	li	v0,0
bfc18070:	c340      	sb	v0,0(v1)
bfc18072:	b412      	lw	a0,bfc180b8 <hid_in_token_isr+0x6c>
        act_writeb(act_readb(In2cs_hcout2cs) | 0x02, In2cs_hcout2cs);
bfc18074:	b211      	lw	v0,bfc180b8 <hid_in_token_isr+0x6c>
bfc18076:	a240      	lbu	v0,0(v0)
bfc18078:	6762      	move	v1,v0
bfc1807a:	6a02      	li	v0,2
bfc1807c:	ea6d      	or	v0,v1
bfc1807e:	c440      	sb	v0,0(a0)
bfc18080:	b20e      	lw	v0,bfc180b8 <hid_in_token_isr+0x6c>

        while(0 != (act_readb(In2cs_hcout2cs) & 0x02)) {
bfc18082:	a240      	lbu	v0,0(v0)
bfc18084:	6762      	move	v1,v0
bfc18086:	eb11      	zeb	v1
bfc18088:	6a02      	li	v0,2
bfc1808a:	ea6c      	and	v0,v1
bfc1808c:	220a      	beqz	v0,bfc180a2 <hid_in_token_isr+0x56>
bfc1808e:	b20c      	lw	v0,bfc180bc <hid_in_token_isr+0x70>
            if(USB_CONNECT_STATUS != 0x00) {
bfc18090:	a240      	lbu	v0,0(v0)
bfc18092:	6762      	move	v1,v0
bfc18094:	eb11      	zeb	v1
bfc18096:	6a40      	li	v0,64
bfc18098:	ea6c      	and	v0,v1
bfc1809a:	22f2      	beqz	v0,bfc18080 <hid_in_token_isr+0x34>
bfc1809c:	b309      	lw	v1,bfc180c0 <hid_in_token_isr+0x74>
                g_usb_state = 0x01;
bfc1809e:	6a01      	li	v0,1
bfc180a0:	db40      	sw	v0,0(v1)
bfc180a2:	65b9      	move	sp,s1
                break;
            }
        }
    }

}
bfc180a4:	6411      	restore	8,s1
bfc180a6:	e8a0      	jrc	ra
bfc180a8:	93ba      	lw	v1,744(sp)
bfc180aa:	9fc1      	lw	a2,4(a3)
bfc180ac:	93b8      	lw	v1,736(sp)
bfc180ae:	9fc1      	lw	a2,4(a3)
bfc180b0:	0088      	addiu	s0,sp,544
bfc180b2:	c008      	sb	s0,8(s0)
bfc180b4:	93b7      	lw	v1,732(sp)
bfc180b6:	9fc1      	lw	a2,4(a3)
bfc180b8:	0017      	addiu	s0,sp,92
bfc180ba:	c008      	sb	s0,8(s0)
bfc180bc:	018c      	addiu	s1,sp,560
bfc180be:	c008      	sb	s0,8(s0)
bfc180c0:	9364      	lw	v1,400(sp)
bfc180c2:	9fc1      	lw	a2,4(a3)

bfc180c4 <hid_token_check>:
bfc180c4:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   hid intrrupt check and deal.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_irq.c
 * \par
 * \note
 *******************************************************************************/
void hid_token_check(void)
{
bfc180c6:	0104      	addiu	s1,sp,16
bfc180c8:	b20a      	lw	v0,bfc180f0 <hid_token_check+0x2c>
    if(0 != ((act_readb(IN03TOKIRQ)) & 0x04)) { //hid
bfc180ca:	a240      	lbu	v0,0(v0)
bfc180cc:	6762      	move	v1,v0
bfc180ce:	eb11      	zeb	v1
bfc180d0:	6a04      	li	v0,4
bfc180d2:	ea6c      	and	v0,v1
bfc180d4:	220a      	beqz	v0,bfc180ea <hid_token_check+0x26>
bfc180d6:	b407      	lw	a0,bfc180f0 <hid_token_check+0x2c>
        act_writeb(0x04 | act_readb(IN03TOKIRQ), IN03TOKIRQ);
bfc180d8:	b206      	lw	v0,bfc180f0 <hid_token_check+0x2c>
bfc180da:	a240      	lbu	v0,0(v0)
bfc180dc:	6762      	move	v1,v0
bfc180de:	6a04      	li	v0,4
bfc180e0:	ea6d      	or	v0,v1
bfc180e2:	c440      	sb	v0,0(a0)
bfc180e4:	1a1f 6013 	jal	bfc1804c <hid_in_token_isr>
        hid_in_token_isr();
bfc180e8:	6500      	nop
bfc180ea:	65b9      	move	sp,s1
    }

}
bfc180ec:	6451      	restore	8,ra,s1
bfc180ee:	e8a0      	jrc	ra
bfc180f0:	0190      	addiu	s1,sp,576
bfc180f2:	c008      	sb	s0,8(s0)

bfc180f4 <usound_isr>:
bfc180f4:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   USB intrrupt entry.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_irq.c
 * \par
 * \note
 *******************************************************************************/
void usound_isr(void)
{
bfc180f6:	0104      	addiu	s1,sp,16
bfc180f8:	b22b      	lw	v0,bfc181a4 <usound_isr+0xb0>
    if((0 != ((act_readb(OUT03TOKIRQ)) & 0x02))) { //ep1 iso out
bfc180fa:	a240      	lbu	v0,0(v0)
bfc180fc:	6762      	move	v1,v0
bfc180fe:	eb11      	zeb	v1
bfc18100:	6a02      	li	v0,2
bfc18102:	ea6c      	and	v0,v1
bfc18104:	2214      	beqz	v0,bfc1812e <usound_isr+0x3a>
bfc18106:	b529      	lw	a1,bfc181a8 <usound_isr+0xb4>
        act_writeb((uint8)((0x80 | act_readb(USBEIRQ)) & 0x8f), USBEIRQ);
bfc18108:	b228      	lw	v0,bfc181a8 <usound_isr+0xb4>
bfc1810a:	a240      	lbu	v0,0(v0)
bfc1810c:	6b80      	li	v1,128
bfc1810e:	eb6b      	neg	v1
bfc18110:	ea6d      	or	v0,v1
bfc18112:	6c71      	li	a0,113
bfc18114:	ec8b      	neg	a0
bfc18116:	651a      	move	t8,v0
bfc18118:	6778      	move	v1,t8
bfc1811a:	6744      	move	v0,a0
bfc1811c:	ea6c      	and	v0,v1
bfc1811e:	c540      	sb	v0,0(a1)
bfc18120:	b321      	lw	v1,bfc181a4 <usound_isr+0xb0>
        act_writeb(0x02, OUT03TOKIRQ);
bfc18122:	6a02      	li	v0,2
bfc18124:	c340      	sb	v0,0(v1)
bfc18126:	1a1f 5fa0 	jal	bfc17e80 <iso_out_token_isr>
        iso_out_token_isr();
bfc1812a:	6500      	nop
bfc1812c:	1038      	b	bfc1819e <usound_isr+0xaa>
bfc1812e:	b220      	lw	v0,bfc181ac <usound_isr+0xb8>
    }
#ifdef _USB_RECORD_
    else if((0 != ((act_readb(IN03TOKIRQ)) & 0x02)))  //ep1 iso in
bfc18130:	a240      	lbu	v0,0(v0)
bfc18132:	6762      	move	v1,v0
bfc18134:	eb11      	zeb	v1
bfc18136:	6a02      	li	v0,2
bfc18138:	ea6c      	and	v0,v1
bfc1813a:	2214      	beqz	v0,bfc18164 <usound_isr+0x70>
bfc1813c:	b51b      	lw	a1,bfc181a8 <usound_isr+0xb4>

    {
        act_writeb((uint8)((0x80 | act_readb(USBEIRQ)) & 0x8f), USBEIRQ);
bfc1813e:	b21b      	lw	v0,bfc181a8 <usound_isr+0xb4>
bfc18140:	a240      	lbu	v0,0(v0)
bfc18142:	6b80      	li	v1,128
bfc18144:	eb6b      	neg	v1
bfc18146:	ea6d      	or	v0,v1
bfc18148:	6c71      	li	a0,113
bfc1814a:	ec8b      	neg	a0
bfc1814c:	651a      	move	t8,v0
bfc1814e:	6778      	move	v1,t8
bfc18150:	6744      	move	v0,a0
bfc18152:	ea6c      	and	v0,v1
bfc18154:	c540      	sb	v0,0(a1)
bfc18156:	b316      	lw	v1,bfc181ac <usound_isr+0xb8>
        act_writeb(0x02, IN03TOKIRQ);
bfc18158:	6a02      	li	v0,2
bfc1815a:	c340      	sb	v0,0(v1)
bfc1815c:	1a1f 5f57 	jal	bfc17d5c <iso_in_token_isr>
        iso_in_token_isr();
bfc18160:	6500      	nop
bfc18162:	101d      	b	bfc1819e <usound_isr+0xaa>
bfc18164:	b213      	lw	v0,bfc181b0 <usound_isr+0xbc>
    }
#endif
    else if(0 != ((act_readb(Usbirq_hcusbirq)) & 0x01)) { //setup
bfc18166:	a240      	lbu	v0,0(v0)
bfc18168:	6762      	move	v1,v0
bfc1816a:	eb11      	zeb	v1
bfc1816c:	6a01      	li	v0,1
bfc1816e:	ea6c      	and	v0,v1
bfc18170:	2216      	beqz	v0,bfc1819e <usound_isr+0xaa>
bfc18172:	b50e      	lw	a1,bfc181a8 <usound_isr+0xb4>
        act_writeb((uint8)((0x80 | act_readb(USBEIRQ)) & 0x8f), USBEIRQ);
bfc18174:	b20d      	lw	v0,bfc181a8 <usound_isr+0xb4>
bfc18176:	a240      	lbu	v0,0(v0)
bfc18178:	6b80      	li	v1,128
bfc1817a:	eb6b      	neg	v1
bfc1817c:	ea6d      	or	v0,v1
bfc1817e:	6c71      	li	a0,113
bfc18180:	ec8b      	neg	a0
bfc18182:	651a      	move	t8,v0
bfc18184:	6778      	move	v1,t8
bfc18186:	6744      	move	v0,a0
bfc18188:	ea6c      	and	v0,v1
bfc1818a:	c540      	sb	v0,0(a1)
bfc1818c:	b409      	lw	a0,bfc181b0 <usound_isr+0xbc>
        act_writeb(0x01 | act_readb(Usbirq_hcusbirq), Usbirq_hcusbirq);
bfc1818e:	b209      	lw	v0,bfc181b0 <usound_isr+0xbc>
bfc18190:	a240      	lbu	v0,0(v0)
bfc18192:	6762      	move	v1,v0
bfc18194:	6a01      	li	v0,1
bfc18196:	ea6d      	or	v0,v1
bfc18198:	c440      	sb	v0,0(a0)
bfc1819a:	b207      	lw	v0,bfc181b4 <usound_isr+0xc0>
        deal_setup();
bfc1819c:	eac0      	jalrc	v0
bfc1819e:	65b9      	move	sp,s1
    } else {
    }

    return;
}
bfc181a0:	6451      	restore	8,ra,s1
bfc181a2:	e8a0      	jrc	ra
bfc181a4:	0191      	addiu	s1,sp,580
bfc181a6:	c008      	sb	s0,8(s0)
bfc181a8:	0400      	addiu	a0,sp,0
bfc181aa:	c008      	sb	s0,8(s0)
bfc181ac:	0190      	addiu	s1,sp,576
bfc181ae:	c008      	sb	s0,8(s0)
bfc181b0:	018c      	addiu	s1,sp,560
bfc181b2:	c008      	sb	s0,8(s0)
bfc181b4:	7001      	cmpi	s0,1
bfc181b6:	bfc1      	lwu	a2,4(a3)

bfc181b8 <usound_isr_cbk>:
bfc181b8:	64d4      	save	32,ra,s1

//系统pagemiss回调该函数
void usound_isr_cbk(void)
{
bfc181ba:	0104      	addiu	s1,sp,16
bfc181bc:	b223      	lw	v0,bfc18248 <usound_isr_cbk+0x90>
    uint32 pending = act_readl(INTC_PD);//INTC_PD 由device的pending位控制
bfc181be:	9a40      	lw	v0,0(v0)
bfc181c0:	d940      	sw	v0,0(s1)
bfc181c2:	b223      	lw	v0,bfc1824c <usound_isr_cbk+0x94>
    pending &= act_readl(INTC_MSK);
bfc181c4:	9960      	lw	v1,0(s1)
bfc181c6:	9a40      	lw	v0,0(v0)
bfc181c8:	ea6c      	and	v0,v1
bfc181ca:	d940      	sw	v0,0(s1)
bfc181cc:	9960      	lw	v1,0(s1)

    if((pending & (1 << IRQ_USB)) != 0) {
bfc181ce:	f400 6a00 	li	v0,1024
bfc181d2:	ea6c      	and	v0,v1
bfc181d4:	2235      	beqz	v0,bfc18240 <usound_isr_cbk+0x88>
bfc181d6:	b21f      	lw	v0,bfc18250 <usound_isr_cbk+0x98>
        if((0 != ((act_readb(OUT03TOKIRQ)) & 0x02))) { //ep1 iso out
bfc181d8:	a240      	lbu	v0,0(v0)
bfc181da:	6762      	move	v1,v0
bfc181dc:	eb11      	zeb	v1
bfc181de:	6a02      	li	v0,2
bfc181e0:	ea6c      	and	v0,v1
bfc181e2:	2214      	beqz	v0,bfc1820c <usound_isr_cbk+0x54>
bfc181e4:	b51c      	lw	a1,bfc18254 <usound_isr_cbk+0x9c>
            act_writeb((uint8)((0x80 | act_readb(USBEIRQ)) & 0x8f), USBEIRQ);
bfc181e6:	b21c      	lw	v0,bfc18254 <usound_isr_cbk+0x9c>
bfc181e8:	a240      	lbu	v0,0(v0)
bfc181ea:	6b80      	li	v1,128
bfc181ec:	eb6b      	neg	v1
bfc181ee:	ea6d      	or	v0,v1
bfc181f0:	6c71      	li	a0,113
bfc181f2:	ec8b      	neg	a0
bfc181f4:	651a      	move	t8,v0
bfc181f6:	6778      	move	v1,t8
bfc181f8:	6744      	move	v0,a0
bfc181fa:	ea6c      	and	v0,v1
bfc181fc:	c540      	sb	v0,0(a1)
bfc181fe:	b315      	lw	v1,bfc18250 <usound_isr_cbk+0x98>
            act_writeb(0x02, OUT03TOKIRQ);
bfc18200:	6a02      	li	v0,2
bfc18202:	c340      	sb	v0,0(v1)
bfc18204:	1a1f 5fa0 	jal	bfc17e80 <iso_out_token_isr>
            iso_out_token_isr();
bfc18208:	6500      	nop
bfc1820a:	101a      	b	bfc18240 <usound_isr_cbk+0x88>
bfc1820c:	b213      	lw	v0,bfc18258 <usound_isr_cbk+0xa0>
        }

#ifdef _USB_RECORD_
        else if((0 != ((act_readb(IN03TOKIRQ)) & 0x02))) { //ep1 iso in
bfc1820e:	a240      	lbu	v0,0(v0)
bfc18210:	6762      	move	v1,v0
bfc18212:	eb11      	zeb	v1
bfc18214:	6a02      	li	v0,2
bfc18216:	ea6c      	and	v0,v1
bfc18218:	2213      	beqz	v0,bfc18240 <usound_isr_cbk+0x88>
bfc1821a:	b50f      	lw	a1,bfc18254 <usound_isr_cbk+0x9c>
            act_writeb((uint8)((0x80 | act_readb(USBEIRQ)) & 0x8f), USBEIRQ);
bfc1821c:	b20e      	lw	v0,bfc18254 <usound_isr_cbk+0x9c>
bfc1821e:	a240      	lbu	v0,0(v0)
bfc18220:	6b80      	li	v1,128
bfc18222:	eb6b      	neg	v1
bfc18224:	ea6d      	or	v0,v1
bfc18226:	6c71      	li	a0,113
bfc18228:	ec8b      	neg	a0
bfc1822a:	651a      	move	t8,v0
bfc1822c:	6778      	move	v1,t8
bfc1822e:	6744      	move	v0,a0
bfc18230:	ea6c      	and	v0,v1
bfc18232:	c540      	sb	v0,0(a1)
bfc18234:	b309      	lw	v1,bfc18258 <usound_isr_cbk+0xa0>
            act_writeb(0x02, IN03TOKIRQ);
bfc18236:	6a02      	li	v0,2
bfc18238:	c340      	sb	v0,0(v1)
bfc1823a:	1a1f 5f57 	jal	bfc17d5c <iso_in_token_isr>
            iso_in_token_isr();
bfc1823e:	6500      	nop
bfc18240:	65b9      	move	sp,s1
        }
#endif
        else {
            ;//nothing
        }
    }

}
bfc18242:	6452      	restore	16,ra,s1
bfc18244:	e8a0      	jrc	ra
bfc18246:	0000      	addiu	s0,sp,0
bfc18248:	0000      	addiu	s0,sp,0
bfc1824a:	c00b      	sb	s0,11(s0)
bfc1824c:	0004      	addiu	s0,sp,16
bfc1824e:	c00b      	sb	s0,11(s0)
bfc18250:	0191      	addiu	s1,sp,580
bfc18252:	c008      	sb	s0,8(s0)
bfc18254:	0400      	addiu	a0,sp,0
bfc18256:	c008      	sb	s0,8(s0)
bfc18258:	0190      	addiu	s1,sp,576
bfc1825a:	c008      	sb	s0,8(s0)

bfc1825c <usound_inner_get_status>:
bfc1825c:	6491      	save	8,s1
 * \par
 * \note
 *******************************************************************************/
int usound_inner_get_status(usound_status_t *pstatus)
{
bfc1825e:	673d      	move	s1,sp
bfc18260:	d982      	sw	a0,8(s1)
bfc18262:	9962      	lw	v1,8(s1)

    pstatus->line_sta = (uint16)g_usb_state;
bfc18264:	b238      	lw	v0,bfc18344 <usound_inner_get_status+0xe8>
bfc18266:	9a40      	lw	v0,0(v0)
bfc18268:	cb43      	sh	v0,6(v1)
bfc1826a:	9962      	lw	v1,8(s1)

    pstatus->set_sample = g_set_sample_flag;
bfc1826c:	b237      	lw	v0,bfc18348 <usound_inner_get_status+0xec>
bfc1826e:	a240      	lbu	v0,0(v0)
bfc18270:	c340      	sb	v0,0(v1)
bfc18272:	9962      	lw	v1,8(s1)
    pstatus->set_adc_sample = g_set_adc_sample_flag;
bfc18274:	b236      	lw	v0,bfc1834c <usound_inner_get_status+0xf0>
bfc18276:	a240      	lbu	v0,0(v0)
bfc18278:	c341      	sb	v0,1(v1)
bfc1827a:	9962      	lw	v1,8(s1)
    pstatus->set_dac_sample = g_set_dac_sample_flag;
bfc1827c:	b235      	lw	v0,bfc18350 <usound_inner_get_status+0xf4>
bfc1827e:	a240      	lbu	v0,0(v0)
bfc18280:	c342      	sb	v0,2(v1)
bfc18282:	9982      	lw	a0,8(s1)

    pstatus->sample_rate = (g_play_sample / 1000);//has not div 1000 yet
bfc18284:	b234      	lw	v0,bfc18354 <usound_inner_get_status+0xf8>
bfc18286:	9a60      	lw	v1,0(v0)
bfc18288:	b234      	lw	v0,bfc18358 <usound_inner_get_status+0xfc>
bfc1828a:	eb59      	multu	v1,v0
bfc1828c:	eb10      	mfhi	v1
bfc1828e:	327a      	srl	v0,v1,6
bfc18290:	dc43      	sw	v0,12(a0)
bfc18292:	9982      	lw	a0,8(s1)
    pstatus->adc_sample_rate = (g_adc_sample / 1000);
bfc18294:	b232      	lw	v0,bfc1835c <usound_inner_get_status+0x100>
bfc18296:	9a60      	lw	v1,0(v0)
bfc18298:	b230      	lw	v0,bfc18358 <usound_inner_get_status+0xfc>
bfc1829a:	eb59      	multu	v1,v0
bfc1829c:	eb10      	mfhi	v1
bfc1829e:	327a      	srl	v0,v1,6
bfc182a0:	dc44      	sw	v0,16(a0)
bfc182a2:	9982      	lw	a0,8(s1)
    pstatus->dac_sample_rate = (g_dac_sample / 1000);
bfc182a4:	b22f      	lw	v0,bfc18360 <usound_inner_get_status+0x104>
bfc182a6:	9a60      	lw	v1,0(v0)
bfc182a8:	b22c      	lw	v0,bfc18358 <usound_inner_get_status+0xfc>
bfc182aa:	eb59      	multu	v1,v0
bfc182ac:	eb10      	mfhi	v1
bfc182ae:	327a      	srl	v0,v1,6
bfc182b0:	dc45      	sw	v0,20(a0)
bfc182b2:	b22d      	lw	v0,bfc18364 <usound_inner_get_status+0x108>
    if(tmp_play_status != 0) {
bfc182b4:	a240      	lbu	v0,0(v0)
bfc182b6:	2204      	beqz	v0,bfc182c0 <usound_inner_get_status+0x64>
bfc182b8:	9962      	lw	v1,8(s1)
        pstatus->start_play = 0;//play flag
bfc182ba:	6a00      	li	v0,0
bfc182bc:	db46      	sw	v0,24(v1)
bfc182be:	1004      	b	bfc182c8 <usound_inner_get_status+0x6c>
bfc182c0:	9942      	lw	v0,8(s1)
    } else {
        pstatus->start_play = g_start_play;
bfc182c2:	b32a      	lw	v1,bfc18368 <usound_inner_get_status+0x10c>
bfc182c4:	a360      	lbu	v1,0(v1)
bfc182c6:	da66      	sw	v1,24(v0)
bfc182c8:	9962      	lw	v1,8(s1)
    }

#ifdef _USB_RECORD_
    pstatus->start_record = g_start_record;//record
bfc182ca:	b229      	lw	v0,bfc1836c <usound_inner_get_status+0x110>
bfc182cc:	9a40      	lw	v0,0(v0)
bfc182ce:	db47      	sw	v0,28(v1)
bfc182d0:	9962      	lw	v1,8(s1)
#endif
    //{

    pstatus->volume_chg = g_volume_chg;
bfc182d2:	b228      	lw	v0,bfc18370 <usound_inner_get_status+0x114>
bfc182d4:	9a40      	lw	v0,0(v0)
bfc182d6:	db48      	sw	v0,32(v1)
bfc182d8:	9962      	lw	v1,8(s1)

    pstatus->volume_value = g_current_volume_ch0;
bfc182da:	b227      	lw	v0,bfc18374 <usound_inner_get_status+0x118>
bfc182dc:	aa40      	lhu	v0,0(v0)
bfc182de:	db49      	sw	v0,36(v1)
bfc182e0:	b224      	lw	v0,bfc18370 <usound_inner_get_status+0x114>

    if(g_volume_chg == 1) {
bfc182e2:	9a40      	lw	v0,0(v0)
bfc182e4:	7201      	cmpi	v0,1
bfc182e6:	6758      	move	v0,t8
bfc182e8:	5a01      	sltiu	v0,1
bfc182ea:	600e      	bteqz	bfc18308 <usound_inner_get_status+0xac>
bfc182ec:	b223      	lw	v0,bfc18378 <usound_inner_get_status+0x11c>
        if(g_current_mute_ch0 == 1) {
bfc182ee:	a240      	lbu	v0,0(v0)
bfc182f0:	7201      	cmpi	v0,1
bfc182f2:	6778      	move	v1,t8
bfc182f4:	5b01      	sltiu	v1,1
bfc182f6:	6004      	bteqz	bfc18300 <usound_inner_get_status+0xa4>
bfc182f8:	9962      	lw	v1,8(s1)
            pstatus->volume_value = 0;
bfc182fa:	6a00      	li	v0,0
bfc182fc:	db49      	sw	v0,36(v1)
bfc182fe:	1004      	b	bfc18308 <usound_inner_get_status+0xac>
bfc18300:	9942      	lw	v0,8(s1)
        } else {
            pstatus->volume_value = g_current_volume_ch0;
bfc18302:	b31d      	lw	v1,bfc18374 <usound_inner_get_status+0x118>
bfc18304:	ab60      	lhu	v1,0(v1)
bfc18306:	da69      	sw	v1,36(v0)
bfc18308:	9962      	lw	v1,8(s1)
        }
    }

    pstatus->hid_idle_time = g_hid_idle_time;//ile time
bfc1830a:	b21d      	lw	v0,bfc1837c <usound_inner_get_status+0x120>
bfc1830c:	aa40      	lhu	v0,0(v0)
bfc1830e:	db4a      	sw	v0,40(v1)
bfc18310:	9962      	lw	v1,8(s1)
    pstatus->data_in_flag = g_datain_flag;
bfc18312:	b21c      	lw	v0,bfc18380 <usound_inner_get_status+0x124>
bfc18314:	a240      	lbu	v0,0(v0)
bfc18316:	c344      	sb	v0,4(v1)
bfc18318:	9962      	lw	v1,8(s1)
    //}
    pstatus->switch_flag = g_pc_switch_flag;
bfc1831a:	b21b      	lw	v0,bfc18384 <usound_inner_get_status+0x128>
bfc1831c:	a240      	lbu	v0,0(v0)
bfc1831e:	cb44      	sh	v0,8(v1)
bfc18320:	b21a      	lw	v0,bfc18388 <usound_inner_get_status+0x12c>
    /*///检查USBfifo空的次数，用于判断ESD后，USB获取数据是否异常
        (现象:usbFIFO 数据正常，而小机暂停)*/
    if(g_no_empty_count == 50) {
bfc18322:	a240      	lbu	v0,0(v0)
bfc18324:	7232      	cmpi	v0,50
bfc18326:	6758      	move	v0,t8
bfc18328:	5a01      	sltiu	v0,1
bfc1832a:	6004      	bteqz	bfc18334 <usound_inner_get_status+0xd8>
bfc1832c:	9962      	lw	v1,8(s1)
        pstatus->no_empty_fla = 1;
bfc1832e:	6a01      	li	v0,1
bfc18330:	c343      	sb	v0,3(v1)
bfc18332:	1003      	b	bfc1833a <usound_inner_get_status+0xde>
bfc18334:	9962      	lw	v1,8(s1)

    } else {
        pstatus->no_empty_fla = 0;
bfc18336:	6a00      	li	v0,0
bfc18338:	c343      	sb	v0,3(v1)
bfc1833a:	6a00      	li	v0,0
    }
    return 0;
bfc1833c:	65b9      	move	sp,s1
}
bfc1833e:	6411      	restore	8,s1
bfc18340:	e8a0      	jrc	ra
bfc18342:	0000      	addiu	s0,sp,0
bfc18344:	9364      	lw	v1,400(sp)
bfc18346:	9fc1      	lw	a2,4(a3)
bfc18348:	935f      	lw	v1,380(sp)
bfc1834a:	9fc1      	lw	a2,4(a3)
bfc1834c:	9360      	lw	v1,384(sp)
bfc1834e:	9fc1      	lw	a2,4(a3)
bfc18350:	9361      	lw	v1,388(sp)
bfc18352:	9fc1      	lw	a2,4(a3)
bfc18354:	9200      	lw	v0,0(sp)
bfc18356:	9fc1      	lw	a2,4(a3)
bfc18358:	4dd3      	addiu	a1,-45
bfc1835a:	1062      	b	bfc18420 <usound_inner_get_info+0x38>
bfc1835c:	9204      	lw	v0,16(sp)
bfc1835e:	9fc1      	lw	a2,4(a3)
bfc18360:	9208      	lw	v0,32(sp)
bfc18362:	9fc1      	lw	a2,4(a3)
bfc18364:	935e      	lw	v1,376(sp)
bfc18366:	9fc1      	lw	a2,4(a3)
bfc18368:	93c2      	lw	v1,776(sp)
bfc1836a:	9fc1      	lw	a2,4(a3)
bfc1836c:	9388      	lw	v1,544(sp)
bfc1836e:	9fc1      	lw	a2,4(a3)
bfc18370:	9358      	lw	v1,352(sp)
bfc18372:	9fc1      	lw	a2,4(a3)
bfc18374:	936a      	lw	v1,424(sp)
bfc18376:	9fc1      	lw	a2,4(a3)
bfc18378:	935c      	lw	v1,368(sp)
bfc1837a:	9fc1      	lw	a2,4(a3)
bfc1837c:	93ba      	lw	v1,744(sp)
bfc1837e:	9fc1      	lw	a2,4(a3)
bfc18380:	93c1      	lw	v1,772(sp)
bfc18382:	9fc1      	lw	a2,4(a3)
bfc18384:	93bd      	lw	v1,756(sp)
bfc18386:	9fc1      	lw	a2,4(a3)
bfc18388:	9362      	lw	v1,392(sp)
bfc1838a:	9fc1      	lw	a2,4(a3)

bfc1838c <usound_inner_module_start>:
bfc1838c:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:start usb enumerate
 * \ int usound_inner_module_stop(void)
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_op_entry.c
 * \par
 * \note
 *******************************************************************************/
int usound_inner_module_start(isr_cbk *p_isr_cbk)
{
bfc1838e:	0104      	addiu	s1,sp,16
bfc18390:	d982      	sw	a0,8(s1)
bfc18392:	9942      	lw	v0,8(s1)
    usb_sound_init(p_isr_cbk);
bfc18394:	6782      	move	a0,v0
bfc18396:	b204      	lw	v0,bfc183a4 <usound_inner_module_start+0x18>
bfc18398:	eac0      	jalrc	v0
bfc1839a:	6a00      	li	v0,0

    return 0;
bfc1839c:	65b9      	move	sp,s1
}
bfc1839e:	6451      	restore	8,ra,s1
bfc183a0:	e8a0      	jrc	ra
bfc183a2:	0000      	addiu	s0,sp,0
bfc183a4:	94dd      	lw	a0,884(sp)
bfc183a6:	2500      	beqz	a1,bfc183a8 <usound_inner_module_stop>

bfc183a8 <usound_inner_module_stop>:
bfc183a8:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:stop usb trans and disconnect to pc
 * \ int usound_inner_module_stop(void)
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_op_entry.c
 * \par
 * \note
 *******************************************************************************/
int usound_inner_module_stop(void)
{
bfc183aa:	0104      	addiu	s1,sp,16
bfc183ac:	b203      	lw	v0,bfc183b8 <usound_inner_module_stop+0x10>
    usb_device_exit();
bfc183ae:	eac0      	jalrc	v0
bfc183b0:	6a00      	li	v0,0
    return 0;
bfc183b2:	65b9      	move	sp,s1
}
bfc183b4:	6451      	restore	8,ra,s1
bfc183b6:	e8a0      	jrc	ra
bfc183b8:	9751      	lw	a3,324(sp)
bfc183ba:	2500      	beqz	a1,bfc183bc <usound_inner_set_cfg>

bfc183bc <usound_inner_set_cfg>:
bfc183bc:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:set some infomation to device
 * \ int usound_inner_set_cfg(uint32 cfg_index, uint32* pcfg, uint32 cfg_len)
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_op_entry.c
 * \par
 * \note
 *******************************************************************************/
int usound_inner_set_cfg(uint32 cfg_index, uint32 *pcfg, uint32 cfg_len)
{
bfc183be:	0104      	addiu	s1,sp,16
bfc183c0:	d982      	sw	a0,8(s1)
bfc183c2:	d9a3      	sw	a1,12(s1)
bfc183c4:	d9c4      	sw	a2,16(s1)
bfc183c6:	9942      	lw	v0,8(s1)
    return set_usb_cfg_param(cfg_index, pcfg, cfg_len);
bfc183c8:	9963      	lw	v1,12(s1)
bfc183ca:	99c4      	lw	a2,16(s1)
bfc183cc:	6782      	move	a0,v0
bfc183ce:	67a3      	move	a1,v1
bfc183d0:	b205      	lw	v0,bfc183e4 <usound_inner_set_cfg+0x28>
bfc183d2:	eac0      	jalrc	v0
bfc183d4:	651a      	move	t8,v0
bfc183d6:	6758      	move	v0,t8
bfc183d8:	651a      	move	t8,v0
bfc183da:	6758      	move	v0,t8
}
bfc183dc:	65b9      	move	sp,s1
bfc183de:	6451      	restore	8,ra,s1
bfc183e0:	e8a0      	jrc	ra
bfc183e2:	0000      	addiu	s0,sp,0
bfc183e4:	9401      	lw	a0,4(sp)
bfc183e6:	2504      	beqz	a1,bfc183f0 <usound_inner_get_info+0x8>

bfc183e8 <usound_inner_get_info>:
bfc183e8:	64d4      	save	32,ra,s1

/******************************************************************************/
/*!
 * \par  Description:get usb some infomation
 * \ int usound_inner_get_info(uint32 info_index,uint32* pinfor,uint32* info_len)
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_op_entry.c
 * \par
 * \note
 *******************************************************************************/
int usound_inner_get_info(uint32 info_index, uint32 *pinfor, uint32 *info_len)
{
bfc183ea:	0104      	addiu	s1,sp,16
bfc183ec:	d984      	sw	a0,16(s1)
bfc183ee:	d9a5      	sw	a1,20(s1)
bfc183f0:	d9c6      	sw	a2,24(s1)
bfc183f2:	9946      	lw	v0,24(s1)
    uint32 read_len, len_pos;

    read_len = *info_len;
bfc183f4:	9a40      	lw	v0,0(v0)
bfc183f6:	d940      	sw	v0,0(s1)
bfc183f8:	b231      	lw	v0,bfc184bc <usound_inner_get_info+0xd4>

    //int_flag = sys_local_irq_save();

    if(g_play_data_count >= read_len) {
bfc183fa:	9a60      	lw	v1,0(v0)
bfc183fc:	9940      	lw	v0,0(s1)
bfc183fe:	eb43      	sltu	v1,v0
bfc18400:	6145      	btnez	bfc1848c <usound_inner_get_info+0xa4>
bfc18402:	b330      	lw	v1,bfc184c0 <usound_inner_get_info+0xd8>

        g_no_data_count = 0;
bfc18404:	6a00      	li	v0,0
bfc18406:	db40      	sw	v0,0(v1)
bfc18408:	b22f      	lw	v0,bfc184c4 <usound_inner_get_info+0xdc>

        len_pos = (g_rd_play_ptr + read_len);
bfc1840a:	9a60      	lw	v1,0(v0)
bfc1840c:	9940      	lw	v0,0(s1)
bfc1840e:	e349      	addu	v0,v1,v0
bfc18410:	d941      	sw	v0,4(s1)
bfc18412:	9941      	lw	v0,4(s1)

        if(len_pos > PLAY_BUFF_SIZE) {
bfc18414:	f002 5a01 	sltiu	v0,4097
bfc18418:	6119      	btnez	bfc1844c <usound_inner_get_info+0x64>
bfc1841a:	9985      	lw	a0,20(s1)
            libc_memcpy((uint8 *) pinfor, (g_play_buf + g_rd_play_ptr), (PLAY_BUFF_SIZE - g_rd_play_ptr));
bfc1841c:	b22a      	lw	v0,bfc184c4 <usound_inner_get_info+0xdc>
bfc1841e:	9a60      	lw	v1,0(v0)
bfc18420:	b22a      	lw	v0,bfc184c8 <usound_inner_get_info+0xe0>
bfc18422:	e355      	addu	a1,v1,v0
bfc18424:	b228      	lw	v0,bfc184c4 <usound_inner_get_info+0xdc>
bfc18426:	f002 6b00 	li	v1,4096
bfc1842a:	9a40      	lw	v0,0(v0)
bfc1842c:	e34b      	subu	v0,v1,v0
bfc1842e:	67c2      	move	a2,v0
bfc18430:	6f00      	li	a3,0
bfc18432:	b227      	lw	v0,bfc184cc <usound_inner_get_info+0xe4>
bfc18434:	eac0      	jalrc	v0
bfc18436:	9965      	lw	v1,20(s1)

            libc_memcpy((uint8 *) pinfor, g_play_buf, (len_pos - PLAY_BUFF_SIZE));
bfc18438:	b524      	lw	a1,bfc184c8 <usound_inner_get_info+0xe0>
bfc1843a:	9941      	lw	v0,4(s1)
bfc1843c:	f01e 4a00 	addiu	v0,-4096
bfc18440:	6783      	move	a0,v1
bfc18442:	67c2      	move	a2,v0
bfc18444:	6f00      	li	a3,0
bfc18446:	b222      	lw	v0,bfc184cc <usound_inner_get_info+0xe4>
bfc18448:	eac0      	jalrc	v0
bfc1844a:	100b      	b	bfc18462 <usound_inner_get_info+0x7a>
bfc1844c:	9985      	lw	a0,20(s1)
        } else {
            libc_memcpy((uint8 *) pinfor, (g_play_buf + g_rd_play_ptr), read_len);
bfc1844e:	b21e      	lw	v0,bfc184c4 <usound_inner_get_info+0xdc>
bfc18450:	9a60      	lw	v1,0(v0)
bfc18452:	b21e      	lw	v0,bfc184c8 <usound_inner_get_info+0xe0>
bfc18454:	e349      	addu	v0,v1,v0
bfc18456:	9960      	lw	v1,0(s1)
bfc18458:	67a2      	move	a1,v0
bfc1845a:	67c3      	move	a2,v1
bfc1845c:	6f00      	li	a3,0
bfc1845e:	b21c      	lw	v0,bfc184cc <usound_inner_get_info+0xe4>
bfc18460:	eac0      	jalrc	v0
bfc18462:	b417      	lw	a0,bfc184bc <usound_inner_get_info+0xd4>
        }

        g_play_data_count -= read_len;
bfc18464:	b216      	lw	v0,bfc184bc <usound_inner_get_info+0xd4>
bfc18466:	9a60      	lw	v1,0(v0)
bfc18468:	9940      	lw	v0,0(s1)
bfc1846a:	e34b      	subu	v0,v1,v0
bfc1846c:	dc40      	sw	v0,0(a0)
bfc1846e:	b416      	lw	a0,bfc184c4 <usound_inner_get_info+0xdc>

        g_rd_play_ptr += read_len;
bfc18470:	b215      	lw	v0,bfc184c4 <usound_inner_get_info+0xdc>
bfc18472:	9a60      	lw	v1,0(v0)
bfc18474:	9940      	lw	v0,0(s1)
bfc18476:	e349      	addu	v0,v1,v0
bfc18478:	dc40      	sw	v0,0(a0)
bfc1847a:	b213      	lw	v0,bfc184c4 <usound_inner_get_info+0xdc>

        if(g_rd_play_ptr >= PLAY_BUFF_SIZE) {
bfc1847c:	9a40      	lw	v0,0(v0)
bfc1847e:	f002 5a00 	sltiu	v0,4096
bfc18482:	610b      	btnez	bfc1849a <usound_inner_get_info+0xb2>
bfc18484:	b310      	lw	v1,bfc184c4 <usound_inner_get_info+0xdc>
            g_rd_play_ptr = 0;
bfc18486:	6a00      	li	v0,0
bfc18488:	db40      	sw	v0,0(v1)
bfc1848a:	1007      	b	bfc1849a <usound_inner_get_info+0xb2>
bfc1848c:	b30d      	lw	v1,bfc184c0 <usound_inner_get_info+0xd8>
        }
    } else {
        g_no_data_count++;
bfc1848e:	b20d      	lw	v0,bfc184c0 <usound_inner_get_info+0xd8>
bfc18490:	9a40      	lw	v0,0(v0)
bfc18492:	4241      	addiu	v0,v0,1
bfc18494:	db40      	sw	v0,0(v1)
bfc18496:	6a00      	li	v0,0
        read_len = 0;
bfc18498:	d940      	sw	v0,0(s1)
bfc1849a:	b20a      	lw	v0,bfc184c0 <usound_inner_get_info+0xd8>
    }

    if(g_no_data_count >= 100) {
bfc1849c:	9a40      	lw	v0,0(v0)
bfc1849e:	5a64      	sltiu	v0,100
bfc184a0:	6106      	btnez	bfc184ae <usound_inner_get_info+0xc6>
bfc184a2:	b30c      	lw	v1,bfc184d0 <usound_inner_get_info+0xe8>

        //libc_print("remain", g_play_data_count, 2);
        g_start_play = 0;
bfc184a4:	6a00      	li	v0,0
bfc184a6:	c340      	sb	v0,0(v1)
bfc184a8:	b306      	lw	v1,bfc184c0 <usound_inner_get_info+0xd8>

        g_no_data_count = 0;
bfc184aa:	6a00      	li	v0,0
bfc184ac:	db40      	sw	v0,0(v1)
bfc184ae:	9940      	lw	v0,0(s1)
    }

    //sys_local_irq_restore(int_flag);

    return read_len;
bfc184b0:	651a      	move	t8,v0
bfc184b2:	6758      	move	v0,t8
}
bfc184b4:	65b9      	move	sp,s1
bfc184b6:	6452      	restore	16,ra,s1
bfc184b8:	e8a0      	jrc	ra
bfc184ba:	0000      	addiu	s0,sp,0
bfc184bc:	9378      	lw	v1,480(sp)
bfc184be:	9fc1      	lw	a2,4(a3)
bfc184c0:	937c      	lw	v1,496(sp)
bfc184c2:	9fc1      	lw	a2,4(a3)
bfc184c4:	9374      	lw	v1,464(sp)
bfc184c6:	9fc1      	lw	a2,4(a3)
bfc184c8:	2000      	beqz	s0,bfc184ca <usound_inner_get_info+0xe2>
bfc184ca:	9fc3      	lw	a2,12(a3)
bfc184cc:	8e9d      	lh	a0,58(a2)
bfc184ce:	bfc1      	lwu	a2,4(a3)
bfc184d0:	93c2      	lw	v1,776(sp)
bfc184d2:	9fc1      	lw	a2,4(a3)

bfc184d4 <usound_inner_set_info>:
bfc184d4:	6491      	save	8,s1

/******************************************************************************/
/*!
 * \par  Description:set some infomation to device
 * \ int usound_inner_set_info(uint32 info_index,uint32* pinfor,uint32 info_len)
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_op_entry.c
 * \par
 * \note
 *******************************************************************************/
int usound_inner_set_info(uint32 info_index, uint32 *pinfor, uint32 info_len)
{
bfc184d6:	673d      	move	s1,sp
bfc184d8:	d982      	sw	a0,8(s1)
bfc184da:	d9a3      	sw	a1,12(s1)
bfc184dc:	d9c4      	sw	a2,16(s1)
bfc184de:	6a00      	li	v0,0
    return 0;
bfc184e0:	65b9      	move	sp,s1
}
bfc184e2:	6411      	restore	8,s1
bfc184e4:	e8a0      	jrc	ra
	...

bfc184e8 <usound_inner_set_cmd>:
bfc184e8:	64f4      	save	32,ra,s0-s1

/******************************************************************************/
/*!
 * \par  Description:set cmd to device for human handle
 * \ int usound_inner_set_cmd(uint32 cmd,uint32 cmd_param)
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_op_entry.c
 * \par
 * \note
 *******************************************************************************/
int usound_inner_set_cmd(uint32 cmd, uint32 cmd_param)
{
bfc184ea:	0104      	addiu	s1,sp,16
bfc184ec:	d984      	sw	a0,16(s1)
bfc184ee:	d9a5      	sw	a1,20(s1)
bfc184f0:	9944      	lw	v0,16(s1)
    //clear some flag and do something
    switch(cmd) {
bfc184f2:	5a0f      	sltiu	v0,15
bfc184f4:	f0a0 6015 	bteqz	bfc18662 <usound_inner_set_cmd+0x17a>
bfc184f8:	9944      	lw	v0,16(s1)
bfc184fa:	3344      	sll	v1,v0,1
bfc184fc:	0a04      	la	v0,bfc1850c <usound_inner_set_cmd+0x24>
bfc184fe:	e349      	addu	v0,v1,v0
bfc18500:	aa40      	lhu	v0,0(v0)
bfc18502:	6762      	move	v1,v0
bfc18504:	ebb1      	seh	v1
bfc18506:	b272      	lw	v0,bfc186cc <usound_inner_set_cmd+0x1e4>
bfc18508:	e349      	addu	v0,v1,v0
bfc1850a:	ea80      	jrc	v0
bfc1850c:	001f      	addiu	s0,sp,124
bfc1850e:	0063      	addiu	s0,sp,396
bfc18510:	0071      	addiu	s0,sp,452
bfc18512:	0085      	addiu	s0,sp,532
bfc18514:	00e3      	addiu	s0,sp,908
bfc18516:	00eb      	addiu	s0,sp,940
bfc18518:	00f3      	addiu	s0,sp,972
bfc1851a:	0157      	addiu	s1,sp,348
bfc1851c:	0157      	addiu	s1,sp,348
bfc1851e:	00fb      	addiu	s0,sp,1004
bfc18520:	0157      	addiu	s1,sp,348
bfc18522:	0135      	addiu	s1,sp,212
bfc18524:	0145      	addiu	s1,sp,276
bfc18526:	013d      	addiu	s1,sp,244
bfc18528:	0115      	addiu	s1,sp,84
bfc1852a:	9945      	lw	v0,20(s1)

        case SET_PLAY_FLAG:

            //g_start_play = (uint8) cmd_param;
            if(cmd_param == 3) {
bfc1852c:	7203      	cmpi	v0,3
bfc1852e:	6758      	move	v0,t8
bfc18530:	5a01      	sltiu	v0,1
bfc18532:	6007      	bteqz	bfc18542 <usound_inner_set_cmd+0x5a>
bfc18534:	b34e      	lw	v1,bfc1866c <usound_inner_set_cmd+0x184>
                low_energy = 1;
bfc18536:	6a01      	li	v0,1
bfc18538:	db40      	sw	v0,0(v1)
bfc1853a:	b34e      	lw	v1,bfc18670 <usound_inner_set_cmd+0x188>
                g_start_play = 0;
bfc1853c:	6a00      	li	v0,0
bfc1853e:	c340      	sb	v0,0(v1)
bfc18540:	1090      	b	bfc18662 <usound_inner_set_cmd+0x17a>
bfc18542:	9945      	lw	v0,20(s1)
            } else if(cmd_param == 4) {
bfc18544:	7204      	cmpi	v0,4
bfc18546:	6758      	move	v0,t8
bfc18548:	5a01      	sltiu	v0,1
bfc1854a:	6004      	bteqz	bfc18554 <usound_inner_set_cmd+0x6c>
bfc1854c:	b348      	lw	v1,bfc1866c <usound_inner_set_cmd+0x184>
                low_energy = 0;
bfc1854e:	6a00      	li	v0,0
bfc18550:	db40      	sw	v0,0(v1)
bfc18552:	1087      	b	bfc18662 <usound_inner_set_cmd+0x17a>
bfc18554:	b348      	lw	v1,bfc18674 <usound_inner_set_cmd+0x18c>
            } else {
                g_manul_stop = cmd_param;
bfc18556:	9945      	lw	v0,20(s1)
bfc18558:	db40      	sw	v0,0(v1)
bfc1855a:	b247      	lw	v0,bfc18674 <usound_inner_set_cmd+0x18c>

                if(g_manul_stop != 0) {
bfc1855c:	9a40      	lw	v0,0(v0)
bfc1855e:	f080 2200 	beqz	v0,bfc18662 <usound_inner_set_cmd+0x17a>
bfc18562:	b244      	lw	v0,bfc18670 <usound_inner_set_cmd+0x188>
                    g_start_play = 0;
bfc18564:	6b00      	li	v1,0
bfc18566:	c260      	sb	v1,0(v0)
bfc18568:	b244      	lw	v0,bfc18678 <usound_inner_set_cmd+0x190>

                    reset_data_pos();
bfc1856a:	eac0      	jalrc	v0
bfc1856c:	107a      	b	bfc18662 <usound_inner_set_cmd+0x17a>
                }
            }

            break;
bfc1856e:	b344      	lw	v1,bfc1867c <usound_inner_set_cmd+0x194>

        case SET_HID_OPERS:
            //libc_print("next",g_hid_report,2);
            g_hid_report = (uint8) cmd_param;
bfc18570:	9945      	lw	v0,20(s1)
bfc18572:	c340      	sb	v0,0(v1)
bfc18574:	b343      	lw	v1,bfc18680 <usound_inner_set_cmd+0x198>
            g_hid_change = 1;
bfc18576:	6a01      	li	v0,1
bfc18578:	c340      	sb	v0,0(v1)
bfc1857a:	1073      	b	bfc18662 <usound_inner_set_cmd+0x17a>
            break;
bfc1857c:	b342      	lw	v1,bfc18684 <usound_inner_set_cmd+0x19c>

        case SET_SAMPLE_RATE:

            //sample rate is 44100

            g_set_sample_flag = 0;
bfc1857e:	6a00      	li	v0,0
bfc18580:	c340      	sb	v0,0(v1)
bfc18582:	b342      	lw	v1,bfc18688 <usound_inner_set_cmd+0x1a0>
            g_set_dac_sample_flag = 0;
bfc18584:	6a00      	li	v0,0
bfc18586:	c340      	sb	v0,0(v1)
bfc18588:	b341      	lw	v1,bfc1868c <usound_inner_set_cmd+0x1a4>
            g_set_adc_sample_flag = 0;
bfc1858a:	6a00      	li	v0,0
bfc1858c:	c340      	sb	v0,0(v1)
bfc1858e:	1069      	b	bfc18662 <usound_inner_set_cmd+0x17a>

            break;
bfc18590:	9945      	lw	v0,20(s1)

        case SET_ADJUST_TIMER:
            if(cmd_param == 1) {
bfc18592:	7201      	cmpi	v0,1
bfc18594:	6758      	move	v0,t8
bfc18596:	5a01      	sltiu	v0,1
bfc18598:	6016      	bteqz	bfc185c6 <usound_inner_set_cmd+0xde>
bfc1859a:	b23e      	lw	v0,bfc18690 <usound_inner_set_cmd+0x1a8>
                //start
                if(g_asrc_adjust_timer == -1) {
bfc1859c:	9a60      	lw	v1,0(v0)
bfc1859e:	6a01      	li	v0,1
bfc185a0:	ea4b      	neg	v0
bfc185a2:	ea6e      	xor	v0,v1
bfc185a4:	5a01      	sltiu	v0,1
bfc185a6:	605d      	bteqz	bfc18662 <usound_inner_set_cmd+0x17a>
bfc185a8:	b23b      	lw	v0,bfc18694 <usound_inner_set_cmd+0x1ac>
                    init_channel_record(&g_asrc_out1_record);
bfc185aa:	6782      	move	a0,v0
bfc185ac:	b23b      	lw	v0,bfc18698 <usound_inner_set_cmd+0x1b0>
bfc185ae:	eac0      	jalrc	v0
bfc185b0:	b038      	lw	s0,bfc1868c <usound_inner_set_cmd+0x1a4>
                    g_asrc_adjust_timer = sys_set_irq_timer1(deal_timer_process, 50);
bfc185b2:	b23b      	lw	v0,bfc1869c <usound_inner_set_cmd+0x1b4>
bfc185b4:	6782      	move	a0,v0
bfc185b6:	6d32      	li	a1,50
bfc185b8:	6e00      	li	a2,0
bfc185ba:	6f21      	li	a3,33
bfc185bc:	b239      	lw	v0,bfc186a0 <usound_inner_set_cmd+0x1b8>
bfc185be:	eac0      	jalrc	v0
bfc185c0:	ea91      	seb	v0
bfc185c2:	d840      	sw	v0,0(s0)
bfc185c4:	104e      	b	bfc18662 <usound_inner_set_cmd+0x17a>
bfc185c6:	b233      	lw	v0,bfc18690 <usound_inner_set_cmd+0x1a8>
                }
            } else {
                //stop
                //make sure timer over
                if(g_asrc_adjust_timer != -1) {
bfc185c8:	9a60      	lw	v1,0(v0)
bfc185ca:	6a01      	li	v0,1
bfc185cc:	ea4b      	neg	v0
bfc185ce:	ea6e      	xor	v0,v1
bfc185d0:	5a01      	sltiu	v0,1
bfc185d2:	6147      	btnez	bfc18662 <usound_inner_set_cmd+0x17a>
bfc185d4:	b22f      	lw	v0,bfc18690 <usound_inner_set_cmd+0x1a8>
                    sys_del_irq_timer1(g_asrc_adjust_timer);
bfc185d6:	9a40      	lw	v0,0(v0)
bfc185d8:	6782      	move	a0,v0
bfc185da:	6d00      	li	a1,0
bfc185dc:	6e00      	li	a2,0
bfc185de:	6f22      	li	a3,34
bfc185e0:	b230      	lw	v0,bfc186a0 <usound_inner_set_cmd+0x1b8>
bfc185e2:	eac0      	jalrc	v0
bfc185e4:	b32b      	lw	v1,bfc1868c <usound_inner_set_cmd+0x1a4>
                    g_asrc_adjust_timer = -1;
bfc185e6:	6a01      	li	v0,1
bfc185e8:	ea4b      	neg	v0
bfc185ea:	db40      	sw	v0,0(v1)
bfc185ec:	103a      	b	bfc18662 <usound_inner_set_cmd+0x17a>
                }

            }

            break;
bfc185ee:	b32e      	lw	v1,bfc186a4 <usound_inner_set_cmd+0x1bc>

        case SET_LINE_STATUS:
            g_usb_state = cmd_param;
bfc185f0:	9945      	lw	v0,20(s1)
bfc185f2:	db40      	sw	v0,0(v1)
bfc185f4:	1036      	b	bfc18662 <usound_inner_set_cmd+0x17a>
            break;
bfc185f6:	b32d      	lw	v1,bfc186a8 <usound_inner_set_cmd+0x1c0>

        case SET_VOLUME_FLAG:
            g_volume_chg = 0;
bfc185f8:	6a00      	li	v0,0
bfc185fa:	db40      	sw	v0,0(v1)
bfc185fc:	1032      	b	bfc18662 <usound_inner_set_cmd+0x17a>

            break;
bfc185fe:	b321      	lw	v1,bfc18680 <usound_inner_set_cmd+0x198>

        case SET_HID_CHANGE:
            g_hid_change = 1;
bfc18600:	6a01      	li	v0,1
bfc18602:	c340      	sb	v0,0(v1)
bfc18604:	102e      	b	bfc18662 <usound_inner_set_cmd+0x17a>
            break;
bfc18606:	9945      	lw	v0,20(s1)

        case SET_TTS_FLAG:
            if(cmd_param == 1) {
bfc18608:	7201      	cmpi	v0,1
bfc1860a:	6758      	move	v0,t8
bfc1860c:	5a01      	sltiu	v0,1
bfc1860e:	6004      	bteqz	bfc18618 <usound_inner_set_cmd+0x130>
bfc18610:	b327      	lw	v1,bfc186ac <usound_inner_set_cmd+0x1c4>
                g_tts_start_flag = 1;
bfc18612:	6a01      	li	v0,1
bfc18614:	c340      	sb	v0,0(v1)
bfc18616:	1025      	b	bfc18662 <usound_inner_set_cmd+0x17a>
bfc18618:	b325      	lw	v1,bfc186ac <usound_inner_set_cmd+0x1c4>
            } else {
                g_tts_start_flag = 0;
bfc1861a:	6a00      	li	v0,0
bfc1861c:	c340      	sb	v0,0(v1)
bfc1861e:	1021      	b	bfc18662 <usound_inner_set_cmd+0x17a>
            }
            break;
bfc18620:	9945      	lw	v0,20(s1)

        case SET_MUTE_FLAG:
            if(cmd_param == 1) {
bfc18622:	7201      	cmpi	v0,1
bfc18624:	6758      	move	v0,t8
bfc18626:	5a01      	sltiu	v0,1
bfc18628:	6004      	bteqz	bfc18632 <usound_inner_set_cmd+0x14a>
bfc1862a:	b322      	lw	v1,bfc186b0 <usound_inner_set_cmd+0x1c8>
                g_mute_flag = 1;
bfc1862c:	6a01      	li	v0,1
bfc1862e:	c340      	sb	v0,0(v1)
bfc18630:	1018      	b	bfc18662 <usound_inner_set_cmd+0x17a>
bfc18632:	b320      	lw	v1,bfc186b0 <usound_inner_set_cmd+0x1c8>
            } else {
                g_mute_flag = 0;
bfc18634:	6a00      	li	v0,0
bfc18636:	c340      	sb	v0,0(v1)
bfc18638:	b31f      	lw	v1,bfc186b4 <usound_inner_set_cmd+0x1cc>
                g_mute_delay = 3;
bfc1863a:	6a03      	li	v0,3
bfc1863c:	c340      	sb	v0,0(v1)
bfc1863e:	1011      	b	bfc18662 <usound_inner_set_cmd+0x17a>
            }
            break;
bfc18640:	b31e      	lw	v1,bfc186b8 <usound_inner_set_cmd+0x1d0>

        case FIX_SAMPLE_RATE:
            g_fix_sample_flg = 1;
bfc18642:	6a01      	li	v0,1
bfc18644:	c340      	sb	v0,0(v1)
bfc18646:	100d      	b	bfc18662 <usound_inner_set_cmd+0x17a>
            break;
bfc18648:	b31d      	lw	v1,bfc186bc <usound_inner_set_cmd+0x1d4>

        case CLR_SWITCH_FLAG:
            g_pc_switch_flag = 0;
bfc1864a:	6a00      	li	v0,0
bfc1864c:	c340      	sb	v0,0(v1)
bfc1864e:	1009      	b	bfc18662 <usound_inner_set_cmd+0x17a>
            break;
bfc18650:	b31c      	lw	v1,bfc186c0 <usound_inner_set_cmd+0x1d8>

        case SET_VOLUME:
            g_current_volume_ch0 = (uint16)cmd_param;
bfc18652:	9945      	lw	v0,20(s1)
bfc18654:	cb40      	sh	v0,0(v1)
bfc18656:	b31c      	lw	v1,bfc186c4 <usound_inner_set_cmd+0x1dc>
            g_current_volume_ch1 = (uint16)cmd_param;
bfc18658:	9945      	lw	v0,20(s1)
bfc1865a:	cb40      	sh	v0,0(v1)
bfc1865c:	b31b      	lw	v1,bfc186c8 <usound_inner_set_cmd+0x1e0>
            g_current_volume_ch2 = (uint16)cmd_param;
bfc1865e:	9945      	lw	v0,20(s1)
bfc18660:	cb40      	sh	v0,0(v1)
bfc18662:	6a00      	li	v0,0
            break;

        default:
            break;

    }
    return 0;
bfc18664:	65b9      	move	sp,s1
}
bfc18666:	6472      	restore	16,ra,s0-s1
bfc18668:	e8a0      	jrc	ra
bfc1866a:	0000      	addiu	s0,sp,0
bfc1866c:	9384      	lw	v1,528(sp)
bfc1866e:	9fc1      	lw	a2,4(a3)
bfc18670:	93c2      	lw	v1,776(sp)
bfc18672:	9fc1      	lw	a2,4(a3)
bfc18674:	9380      	lw	v1,512(sp)
bfc18676:	9fc1      	lw	a2,4(a3)
bfc18678:	7ba1      	sd	a1,8(v1)
bfc1867a:	bfc1      	lwu	a2,4(a3)
bfc1867c:	93b7      	lw	v1,732(sp)
bfc1867e:	9fc1      	lw	a2,4(a3)
bfc18680:	93b8      	lw	v1,736(sp)
bfc18682:	9fc1      	lw	a2,4(a3)
bfc18684:	935f      	lw	v1,380(sp)
bfc18686:	9fc1      	lw	a2,4(a3)
bfc18688:	9361      	lw	v1,388(sp)
bfc1868a:	9fc1      	lw	a2,4(a3)
bfc1868c:	9360      	lw	v1,384(sp)
bfc1868e:	9fc1      	lw	a2,4(a3)
bfc18690:	920c      	lw	v0,48(sp)
bfc18692:	9fc1      	lw	a2,4(a3)
bfc18694:	92dc      	lw	v0,880(sp)
bfc18696:	9fc1      	lw	a2,4(a3)
bfc18698:	8841      	lh	v0,2(s0)
bfc1869a:	bfc1      	lwu	a2,4(a3)
bfc1869c:	8cb5      	lh	a1,42(a0)
bfc1869e:	bfc1      	lwu	a2,4(a3)
bfc186a0:	8ea1      	lh	a1,2(a2)
bfc186a2:	bfc1      	lwu	a2,4(a3)
bfc186a4:	9364      	lw	v1,400(sp)
bfc186a6:	9fc1      	lw	a2,4(a3)
bfc186a8:	9358      	lw	v1,352(sp)
bfc186aa:	9fc1      	lw	a2,4(a3)
bfc186ac:	93bc      	lw	v1,752(sp)
bfc186ae:	9fc1      	lw	a2,4(a3)
bfc186b0:	93bf      	lw	v1,764(sp)
bfc186b2:	9fc1      	lw	a2,4(a3)
bfc186b4:	93c0      	lw	v1,768(sp)
bfc186b6:	9fc1      	lw	a2,4(a3)
bfc186b8:	9398      	lw	v1,608(sp)
bfc186ba:	9fc1      	lw	a2,4(a3)
bfc186bc:	93bd      	lw	v1,756(sp)
bfc186be:	9fc1      	lw	a2,4(a3)
bfc186c0:	936a      	lw	v1,424(sp)
bfc186c2:	9fc1      	lw	a2,4(a3)
bfc186c4:	936c      	lw	v1,432(sp)
bfc186c6:	9fc1      	lw	a2,4(a3)
bfc186c8:	936e      	lw	v1,440(sp)
bfc186ca:	9fc1      	lw	a2,4(a3)
bfc186cc:	850c      	lb	s0,12(a1)
bfc186ce:	bfc1      	lwu	a2,4(a3)

bfc186d0 <usound_inner_hid_deal>:
bfc186d0:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:check if there has hid intoken,and send data to pc
 * \ int usound_inner_hid_deal(void)
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_op_entry.c
 * \par
 * \note
 *******************************************************************************/
int usound_inner_hid_deal(void)
{
bfc186d2:	0104      	addiu	s1,sp,16
bfc186d4:	b203      	lw	v0,bfc186e0 <usound_inner_hid_deal+0x10>
    hid_token_check();
bfc186d6:	eac0      	jalrc	v0
bfc186d8:	6a00      	li	v0,0
    return 0;
bfc186da:	65b9      	move	sp,s1
}
bfc186dc:	6451      	restore	8,ra,s1
bfc186de:	e8a0      	jrc	ra
bfc186e0:	80c5      	lb	a2,5(s0)
bfc186e2:	bfc1      	lwu	a2,4(a3)

bfc186e4 <access_usbfifo_by_cpu>:
bfc186e4:	64d4      	save	32,ra,s1
 * \par
 * \note
 *******************************************************************************/
void access_usbfifo_by_cpu(uint8 epsel, uint32 *address, uint32 data_lenth)
{
bfc186e6:	0104      	addiu	s1,sp,16
bfc186e8:	6744      	move	v0,a0
bfc186ea:	d9a5      	sw	a1,20(s1)
bfc186ec:	d9c6      	sw	a2,24(s1)
bfc186ee:	c150      	sb	v0,16(s1)
bfc186f0:	6a00      	li	v0,0
    uint32 i;
    uint32 temp_data = 0;
bfc186f2:	d941      	sw	v0,4(s1)
bfc186f4:	b24b      	lw	v0,bfc18820 <access_usbfifo_by_cpu+0x13c>
    //libc_print("",data_lenth,2);
    //必须在数据包为采样点的整数倍时才能开始收数

    if((g_mute_delay != 0) && (epsel == EP1OUT)) {
bfc186f6:	a240      	lbu	v0,0(v0)
bfc186f8:	222e      	beqz	v0,bfc18756 <access_usbfifo_by_cpu+0x72>
bfc186fa:	a150      	lbu	v0,16(s1)
bfc186fc:	7202      	cmpi	v0,2
bfc186fe:	6758      	move	v0,t8
bfc18700:	5a01      	sltiu	v0,1
bfc18702:	6029      	bteqz	bfc18756 <access_usbfifo_by_cpu+0x72>
bfc18704:	9946      	lw	v0,24(s1)
        if(((data_lenth == 0xb0) && (g_dac_sample == 44100)) || ((data_lenth == 0xc0) && (g_dac_sample == 48000))) {
bfc18706:	72b0      	cmpi	v0,176
bfc18708:	6758      	move	v0,t8
bfc1870a:	5a01      	sltiu	v0,1
bfc1870c:	6007      	bteqz	bfc1871c <access_usbfifo_by_cpu+0x38>
bfc1870e:	b246      	lw	v0,bfc18824 <access_usbfifo_by_cpu+0x140>
bfc18710:	9a60      	lw	v1,0(v0)
bfc18712:	f455 6a04 	li	v0,44100
bfc18716:	ea6e      	xor	v0,v1
bfc18718:	5a01      	sltiu	v0,1
bfc1871a:	610d      	btnez	bfc18736 <access_usbfifo_by_cpu+0x52>
bfc1871c:	9946      	lw	v0,24(s1)
bfc1871e:	72c0      	cmpi	v0,192
bfc18720:	6758      	move	v0,t8
bfc18722:	5a01      	sltiu	v0,1
bfc18724:	600e      	bteqz	bfc18742 <access_usbfifo_by_cpu+0x5e>
bfc18726:	b240      	lw	v0,bfc18824 <access_usbfifo_by_cpu+0x140>
bfc18728:	9a60      	lw	v1,0(v0)
bfc1872a:	f397 6a00 	li	v0,48000
bfc1872e:	ea6e      	xor	v0,v1
bfc18730:	5a01      	sltiu	v0,1
bfc18732:	6101      	btnez	bfc18736 <access_usbfifo_by_cpu+0x52>
bfc18734:	1006      	b	bfc18742 <access_usbfifo_by_cpu+0x5e>
bfc18736:	b33b      	lw	v1,bfc18820 <access_usbfifo_by_cpu+0x13c>
            g_mute_delay --;
bfc18738:	b23a      	lw	v0,bfc18820 <access_usbfifo_by_cpu+0x13c>
bfc1873a:	a240      	lbu	v0,0(v0)
bfc1873c:	424f      	addiu	v0,v0,-1
bfc1873e:	c340      	sb	v0,0(v1)
bfc18740:	100a      	b	bfc18756 <access_usbfifo_by_cpu+0x72>
bfc18742:	b338      	lw	v1,bfc18820 <access_usbfifo_by_cpu+0x13c>
        } else {
            g_mute_delay = 3;
bfc18744:	6a03      	li	v0,3
bfc18746:	c340      	sb	v0,0(v1)
bfc18748:	0a34      	la	v0,bfc18818 <access_usbfifo_by_cpu+0x134>
            libc_print("clear", 0, 0);
bfc1874a:	6782      	move	a0,v0
bfc1874c:	6d00      	li	a1,0
bfc1874e:	6e00      	li	a2,0
bfc18750:	6f4b      	li	a3,75
bfc18752:	b236      	lw	v0,bfc18828 <access_usbfifo_by_cpu+0x144>
bfc18754:	eac0      	jalrc	v0
bfc18756:	9946      	lw	v0,24(s1)
        }
    }

    data_lenth >>= 2; //Fifodat是32位
bfc18758:	324a      	srl	v0,2
bfc1875a:	d946      	sw	v0,24(s1)
bfc1875c:	6a00      	li	v0,0

    for(i = 0; i < data_lenth; i++) {
bfc1875e:	d940      	sw	v0,0(s1)
bfc18760:	9940      	lw	v0,0(s1)
bfc18762:	9966      	lw	v1,24(s1)
bfc18764:	ea63      	sltu	v0,v1
bfc18766:	6055      	bteqz	bfc18812 <access_usbfifo_by_cpu+0x12e>
bfc18768:	a150      	lbu	v0,16(s1)
        if(epsel == EP1OUT) {
bfc1876a:	7202      	cmpi	v0,2
bfc1876c:	6758      	move	v0,t8
bfc1876e:	5a01      	sltiu	v0,1
bfc18770:	6036      	bteqz	bfc187de <access_usbfifo_by_cpu+0xfa>
bfc18772:	b22f      	lw	v0,bfc1882c <access_usbfifo_by_cpu+0x148>
            if((g_tts_start_flag == 1) || (g_mute_flag == 1) || (g_mute_delay != 0)) {
bfc18774:	a240      	lbu	v0,0(v0)
bfc18776:	7201      	cmpi	v0,1
bfc18778:	6758      	move	v0,t8
bfc1877a:	5a01      	sltiu	v0,1
bfc1877c:	610a      	btnez	bfc18792 <access_usbfifo_by_cpu+0xae>
bfc1877e:	b22d      	lw	v0,bfc18830 <access_usbfifo_by_cpu+0x14c>
bfc18780:	a240      	lbu	v0,0(v0)
bfc18782:	7201      	cmpi	v0,1
bfc18784:	6758      	move	v0,t8
bfc18786:	5a01      	sltiu	v0,1
bfc18788:	6104      	btnez	bfc18792 <access_usbfifo_by_cpu+0xae>
bfc1878a:	b226      	lw	v0,bfc18820 <access_usbfifo_by_cpu+0x13c>
bfc1878c:	a240      	lbu	v0,0(v0)
bfc1878e:	2a01      	bnez	v0,bfc18792 <access_usbfifo_by_cpu+0xae>
bfc18790:	1004      	b	bfc1879a <access_usbfifo_by_cpu+0xb6>
bfc18792:	b229      	lw	v0,bfc18834 <access_usbfifo_by_cpu+0x150>
                temp_data = act_readl(Fifo1dat);
bfc18794:	9a40      	lw	v0,0(v0)
bfc18796:	d941      	sw	v0,4(s1)
bfc18798:	1035      	b	bfc18804 <access_usbfifo_by_cpu+0x120>
bfc1879a:	9965      	lw	v1,20(s1)

                //libc_print("",temp_data,2);

                //*address = 0;
            } else {
                *address = act_readl(Fifo1dat);
bfc1879c:	b226      	lw	v0,bfc18834 <access_usbfifo_by_cpu+0x150>
bfc1879e:	9a40      	lw	v0,0(v0)
bfc187a0:	db40      	sw	v0,0(v1)
bfc187a2:	9945      	lw	v0,20(s1)
                ////检查USBfifo空的次数，用于判断ESD后，USB获取数据是否异常
                if((*address != 0xffff)
bfc187a4:	9a60      	lw	v1,0(v0)
bfc187a6:	f7ff 6a1f 	li	v0,65535
bfc187aa:	ea6e      	xor	v0,v1
bfc187ac:	5a01      	sltiu	v0,1
bfc187ae:	6113      	btnez	bfc187d6 <access_usbfifo_by_cpu+0xf2>
bfc187b0:	9945      	lw	v0,20(s1)
bfc187b2:	9a40      	lw	v0,0(v0)
bfc187b4:	2210      	beqz	v0,bfc187d6 <access_usbfifo_by_cpu+0xf2>
bfc187b6:	9945      	lw	v0,20(s1)
bfc187b8:	9a40      	lw	v0,0(v0)
bfc187ba:	7201      	cmpi	v0,1
bfc187bc:	6758      	move	v0,t8
bfc187be:	5a01      	sltiu	v0,1
bfc187c0:	610a      	btnez	bfc187d6 <access_usbfifo_by_cpu+0xf2>
bfc187c2:	b21e      	lw	v0,bfc18838 <access_usbfifo_by_cpu+0x154>
                        && (*address != 0)
                        && (*address != 1)) {

                    if(g_no_empty_count < 50) {
bfc187c4:	a240      	lbu	v0,0(v0)
bfc187c6:	5a32      	sltiu	v0,50
bfc187c8:	601d      	bteqz	bfc18804 <access_usbfifo_by_cpu+0x120>
bfc187ca:	b31c      	lw	v1,bfc18838 <access_usbfifo_by_cpu+0x154>
                        g_no_empty_count++;
bfc187cc:	b21b      	lw	v0,bfc18838 <access_usbfifo_by_cpu+0x154>
bfc187ce:	a240      	lbu	v0,0(v0)
bfc187d0:	4241      	addiu	v0,v0,1
bfc187d2:	c340      	sb	v0,0(v1)
bfc187d4:	1017      	b	bfc18804 <access_usbfifo_by_cpu+0x120>
bfc187d6:	b319      	lw	v1,bfc18838 <access_usbfifo_by_cpu+0x154>
                    }
                } else {
                    g_no_empty_count = 0;
bfc187d8:	6a00      	li	v0,0
bfc187da:	c340      	sb	v0,0(v1)
bfc187dc:	1013      	b	bfc18804 <access_usbfifo_by_cpu+0x120>
bfc187de:	a150      	lbu	v0,16(s1)
                }
            }

        } else if(epsel == EP1IN) {
bfc187e0:	7201      	cmpi	v0,1
bfc187e2:	6758      	move	v0,t8
bfc187e4:	5a01      	sltiu	v0,1
bfc187e6:	6005      	bteqz	bfc187f2 <access_usbfifo_by_cpu+0x10e>
bfc187e8:	b213      	lw	v0,bfc18834 <access_usbfifo_by_cpu+0x150>
            act_writel(*address, Fifo1dat);
bfc187ea:	9965      	lw	v1,20(s1)
bfc187ec:	9b60      	lw	v1,0(v1)
bfc187ee:	da60      	sw	v1,0(v0)
bfc187f0:	1009      	b	bfc18804 <access_usbfifo_by_cpu+0x120>
bfc187f2:	a150      	lbu	v0,16(s1)
        } else if(epsel == EP2OUT) {
bfc187f4:	7204      	cmpi	v0,4
bfc187f6:	6758      	move	v0,t8
bfc187f8:	5a01      	sltiu	v0,1
bfc187fa:	6004      	bteqz	bfc18804 <access_usbfifo_by_cpu+0x120>
bfc187fc:	9945      	lw	v0,20(s1)
            *address = act_readl(Fifo2dat);
bfc187fe:	b310      	lw	v1,bfc1883c <access_usbfifo_by_cpu+0x158>
bfc18800:	9b60      	lw	v1,0(v1)
bfc18802:	da60      	sw	v1,0(v0)
bfc18804:	9945      	lw	v0,20(s1)
        } else {
            ;//for qac
        }
        address++;
bfc18806:	4244      	addiu	v0,v0,4
bfc18808:	d945      	sw	v0,20(s1)
bfc1880a:	9940      	lw	v0,0(s1)
bfc1880c:	4241      	addiu	v0,v0,1
bfc1880e:	d940      	sw	v0,0(s1)
bfc18810:	17a7      	b	bfc18760 <access_usbfifo_by_cpu+0x7c>
bfc18812:	65b9      	move	sp,s1
    }
}
bfc18814:	6452      	restore	16,ra,s1
bfc18816:	e8a0      	jrc	ra
bfc18818:	6c63      	li	a0,99
bfc1881a:	6165      	btnez	bfc188e6 <init_channel_record+0xa6>
bfc1881c:	0072      	addiu	s0,sp,456
bfc1881e:	0000      	addiu	s0,sp,0
bfc18820:	93c0      	lw	v1,768(sp)
bfc18822:	9fc1      	lw	a2,4(a3)
bfc18824:	9208      	lw	v0,32(sp)
bfc18826:	9fc1      	lw	a2,4(a3)
bfc18828:	8ea1      	lh	a1,2(a2)
bfc1882a:	bfc1      	lwu	a2,4(a3)
bfc1882c:	93bc      	lw	v1,752(sp)
bfc1882e:	9fc1      	lw	a2,4(a3)
bfc18830:	93bf      	lw	v1,764(sp)
bfc18832:	9fc1      	lw	a2,4(a3)
bfc18834:	0084      	addiu	s0,sp,528
bfc18836:	c008      	sb	s0,8(s0)
bfc18838:	9362      	lw	v1,392(sp)
bfc1883a:	9fc1      	lw	a2,4(a3)
bfc1883c:	0088      	addiu	s0,sp,544
bfc1883e:	c008      	sb	s0,8(s0)

bfc18840 <init_channel_record>:
bfc18840:	6495      	save	40,s1
 * \par
 * \note
 *******************************************************************************/
void init_channel_record(asrc_adjust_record_t *pCh)
{
bfc18842:	673d      	move	s1,sp
bfc18844:	d98a      	sw	a0,40(s1)
bfc18846:	b353      	lw	v1,bfc18990 <init_channel_record+0x150>
    uint16 i;

    //uint32 tem_dec0, tem_dec1;

    g_asrc_freq_in = g_play_sample;
bfc18848:	b253      	lw	v0,bfc18994 <init_channel_record+0x154>
bfc1884a:	9a40      	lw	v0,0(v0)
bfc1884c:	db40      	sw	v0,0(v1)
bfc1884e:	b353      	lw	v1,bfc18998 <init_channel_record+0x158>

#if(SYS_BOARD_TYPE == FOR_FPGA)
    g_asrc_freq_out = 48000;
#else
    g_asrc_freq_out = g_play_sample;
bfc18850:	b251      	lw	v0,bfc18994 <init_channel_record+0x154>
bfc18852:	9a40      	lw	v0,0(v0)
bfc18854:	db40      	sw	v0,0(v1)
bfc18856:	6a00      	li	v0,0
#endif

    // init record
    for(i = 0; i < K_RECORD_LEN; i++) {
bfc18858:	c940      	sh	v0,0(s1)
bfc1885a:	a940      	lhu	v0,0(s1)
bfc1885c:	5a03      	sltiu	v0,3
bfc1885e:	6010      	bteqz	bfc18880 <init_channel_record+0x40>
bfc18860:	996a      	lw	v1,40(s1)
        pCh->nHeToHfVec[i] = 0;
bfc18862:	a940      	lhu	v0,0(s1)
bfc18864:	3244      	sll	v0,1
bfc18866:	e26d      	addu	v1,v0,v1
bfc18868:	6a00      	li	v0,0
bfc1886a:	cb4a      	sh	v0,20(v1)
bfc1886c:	996a      	lw	v1,40(s1)
        pCh->nHfToHeVec[i] = 0;
bfc1886e:	a940      	lhu	v0,0(s1)
bfc18870:	3244      	sll	v0,1
bfc18872:	e26d      	addu	v1,v0,v1
bfc18874:	6a00      	li	v0,0
bfc18876:	cb4f      	sh	v0,30(v1)
bfc18878:	a940      	lhu	v0,0(s1)
bfc1887a:	4241      	addiu	v0,v0,1
bfc1887c:	c940      	sh	v0,0(s1)
bfc1887e:	17ed      	b	bfc1885a <init_channel_record+0x1a>
bfc18880:	996a      	lw	v1,40(s1)
    }
    //pCh->nGlbHeToHfCounter2 = 0;
    //pCh->nGlbHfToHeCounter2 = 0;
    pCh->nGlbHeToHfCounter = 0;
bfc18882:	6a00      	li	v0,0
bfc18884:	db4a      	sw	v0,40(v1)
bfc18886:	996a      	lw	v1,40(s1)
    pCh->nGlbHfToHeCounter = 0;
bfc18888:	6a00      	li	v0,0
bfc1888a:	db4b      	sw	v0,44(v1)
bfc1888c:	996a      	lw	v1,40(s1)
    pCh->nAverageHe2Hf = 0;
bfc1888e:	6a00      	li	v0,0
bfc18890:	db4c      	sw	v0,48(v1)
bfc18892:	996a      	lw	v1,40(s1)
    pCh->nAverageHf2He = 0;
bfc18894:	6a00      	li	v0,0
bfc18896:	db4d      	sw	v0,52(v1)
bfc18898:	994a      	lw	v0,40(s1)
    //pCh->nGlbRecordStartCount = K_REC_START_POS;
    pCh->nFreqLow = (uint32)((long long) g_asrc_freq_in * (K_ASRC_OUT1_DEC0 - K_DELTA_INIT_DECIMATION0) / 1048576);
bfc1889a:	d941      	sw	v0,4(s1)
bfc1889c:	b23d      	lw	v0,bfc18990 <init_channel_record+0x150>
bfc1889e:	9a60      	lw	v1,0(v0)
bfc188a0:	b23f      	lw	v0,bfc1899c <init_channel_record+0x15c>
bfc188a2:	eb59      	multu	v1,v0
bfc188a4:	ec12      	mflo	a0
bfc188a6:	ed10      	mfhi	a1
bfc188a8:	651c      	move	t8,a0
bfc188aa:	653d      	move	t9,a1
bfc188ac:	6758      	move	v0,t8
bfc188ae:	6779      	move	v1,t9
bfc188b0:	d942      	sw	v0,8(s1)
bfc188b2:	d963      	sw	v1,12(s1)
bfc188b4:	9963      	lw	v1,12(s1)
bfc188b6:	5300      	slti	v1,0
bfc188b8:	6101      	btnez	bfc188bc <init_channel_record+0x7c>
bfc188ba:	100d      	b	bfc188d6 <init_channel_record+0x96>
bfc188bc:	b439      	lw	a0,bfc189a0 <init_channel_record+0x160>
bfc188be:	b53a      	lw	a1,bfc189a4 <init_channel_record+0x164>
bfc188c0:	99c2      	lw	a2,8(s1)
bfc188c2:	e689      	addu	v0,a2,a0
bfc188c4:	99c2      	lw	a2,8(s1)
bfc188c6:	eac3      	sltu	v0,a2
bfc188c8:	99c3      	lw	a2,12(s1)
bfc188ca:	e6ad      	addu	v1,a2,a1
bfc188cc:	67b8      	move	a1,t8
bfc188ce:	e571      	addu	a0,a1,v1
bfc188d0:	6764      	move	v1,a0
bfc188d2:	d942      	sw	v0,8(s1)
bfc188d4:	d963      	sw	v1,12(s1)
bfc188d6:	99c3      	lw	a2,12(s1)
bfc188d8:	35c0      	sll	a1,a2,8
bfc188da:	35b0      	sll	a1,4
bfc188dc:	9942      	lw	v0,8(s1)
bfc188de:	f500 3442 	srl	a0,v0,20
bfc188e2:	6745      	move	v0,a1
bfc188e4:	ea8d      	or	v0,a0
bfc188e6:	9983      	lw	a0,12(s1)
bfc188e8:	f500 3383 	sra	v1,a0,20
bfc188ec:	99a1      	lw	a1,4(s1)
bfc188ee:	dd4f      	sw	v0,60(a1)
bfc188f0:	99ca      	lw	a2,40(s1)
    pCh->nFreqHigh = (uint32)((long long) g_asrc_freq_in * (K_ASRC_OUT1_DEC1 + K_DELTA_INIT_DECIMATION1) / 1048576);
bfc188f2:	d9c4      	sw	a2,16(s1)
bfc188f4:	b227      	lw	v0,bfc18990 <init_channel_record+0x150>
bfc188f6:	9a60      	lw	v1,0(v0)
bfc188f8:	b22c      	lw	v0,bfc189a8 <init_channel_record+0x168>
bfc188fa:	eb59      	multu	v1,v0
bfc188fc:	ec12      	mflo	a0
bfc188fe:	ed10      	mfhi	a1
bfc18900:	651c      	move	t8,a0
bfc18902:	653d      	move	t9,a1
bfc18904:	6758      	move	v0,t8
bfc18906:	6779      	move	v1,t9
bfc18908:	d946      	sw	v0,24(s1)
bfc1890a:	d967      	sw	v1,28(s1)
bfc1890c:	9967      	lw	v1,28(s1)
bfc1890e:	5300      	slti	v1,0
bfc18910:	6101      	btnez	bfc18914 <init_channel_record+0xd4>
bfc18912:	100d      	b	bfc1892e <init_channel_record+0xee>
bfc18914:	b423      	lw	a0,bfc189a0 <init_channel_record+0x160>
bfc18916:	b524      	lw	a1,bfc189a4 <init_channel_record+0x164>
bfc18918:	99c6      	lw	a2,24(s1)
bfc1891a:	e689      	addu	v0,a2,a0
bfc1891c:	99c6      	lw	a2,24(s1)
bfc1891e:	eac3      	sltu	v0,a2
bfc18920:	99c7      	lw	a2,28(s1)
bfc18922:	e6ad      	addu	v1,a2,a1
bfc18924:	67b8      	move	a1,t8
bfc18926:	e571      	addu	a0,a1,v1
bfc18928:	6764      	move	v1,a0
bfc1892a:	d946      	sw	v0,24(s1)
bfc1892c:	d967      	sw	v1,28(s1)
bfc1892e:	99c7      	lw	a2,28(s1)
bfc18930:	35c0      	sll	a1,a2,8
bfc18932:	35b0      	sll	a1,4
bfc18934:	9946      	lw	v0,24(s1)
bfc18936:	f500 3442 	srl	a0,v0,20
bfc1893a:	6745      	move	v0,a1
bfc1893c:	ea8d      	or	v0,a0
bfc1893e:	9987      	lw	a0,28(s1)
bfc18940:	f500 3383 	sra	v1,a0,20
bfc18944:	99a4      	lw	a1,16(s1)
bfc18946:	dd50      	sw	v0,64(a1)
bfc18948:	99aa      	lw	a1,40(s1)
    // calculate nCenterfrequecy
    pCh->nCenterfrequecy = (pCh->nFreqHigh + pCh->nFreqLow) / 2;
bfc1894a:	994a      	lw	v0,40(s1)
bfc1894c:	996a      	lw	v1,40(s1)
bfc1894e:	9a90      	lw	a0,64(v0)
bfc18950:	9b4f      	lw	v0,60(v1)
bfc18952:	e449      	addu	v0,a0,v0
bfc18954:	3246      	srl	v0,1
bfc18956:	dd53      	sw	v0,76(a1)
bfc18958:	996a      	lw	v1,40(s1)
    // clear decimation ratio modification counter
    pCh->nModCounter = 0;
bfc1895a:	6a00      	li	v0,0
bfc1895c:	db58      	sw	v0,96(v1)
bfc1895e:	996a      	lw	v1,40(s1)
    // last time record (K_NO_RECORD,  K_HF2HE,  K_HE2HF)
    pCh->nRecord = K_NO_RECORD;
bfc18960:	6a02      	li	v0,2
bfc18962:	db59      	sw	v0,100(v1)
bfc18964:	996a      	lw	v1,40(s1)
    // init sample rate parameter
    pCh->nSampleRate = g_asrc_freq_out;
bfc18966:	b20d      	lw	v0,bfc18998 <init_channel_record+0x158>
bfc18968:	9a40      	lw	v0,0(v0)
bfc1896a:	db5a      	sw	v0,104(v1)
bfc1896c:	b210      	lw	v0,bfc189ac <init_channel_record+0x16c>

    if(g_asrc_adjust_timer == -1) {
bfc1896e:	9a60      	lw	v1,0(v0)
bfc18970:	6a01      	li	v0,1
bfc18972:	ea4b      	neg	v0
bfc18974:	ea6e      	xor	v0,v1
bfc18976:	5a01      	sltiu	v0,1
bfc18978:	6008      	bteqz	bfc1898a <init_channel_record+0x14a>
bfc1897a:	b30e      	lw	v1,bfc189b0 <init_channel_record+0x170>
        g_asrc_dec0_init = *((REG32)(ASRC_OUT1_DEC0));
bfc1897c:	b20e      	lw	v0,bfc189b4 <init_channel_record+0x174>
bfc1897e:	9a40      	lw	v0,0(v0)
bfc18980:	db40      	sw	v0,0(v1)
bfc18982:	b30e      	lw	v1,bfc189b8 <init_channel_record+0x178>

        g_asrc_dec1_init = *((REG32)(ASRC_OUT1_DEC1));
bfc18984:	b20e      	lw	v0,bfc189bc <init_channel_record+0x17c>
bfc18986:	9a40      	lw	v0,0(v0)
bfc18988:	db40      	sw	v0,0(v1)
bfc1898a:	65b9      	move	sp,s1
    }

    //for test
    //*((REG32) (GPIOAOUTEN)) |= (1 << 23);
}
bfc1898c:	6415      	restore	40,s1
bfc1898e:	e8a0      	jrc	ra
bfc18990:	9350      	lw	v1,320(sp)
bfc18992:	9fc1      	lw	a2,4(a3)
bfc18994:	9200      	lw	v0,0(sp)
bfc18996:	9fc1      	lw	a2,4(a3)
bfc18998:	9354      	lw	v1,336(sp)
bfc1899a:	9fc1      	lw	a2,4(a3)
bfc1899c:	fce0      	ld	a3,bfc18998 <init_channel_record+0x158>
bfc1899e:	000f      	addiu	s0,sp,60
bfc189a0:	ffff      	daddiu	a3,sp,124
bfc189a2:	000f      	addiu	s0,sp,60
bfc189a4:	0000      	addiu	s0,sp,0
bfc189a6:	0000      	addiu	s0,sp,0
bfc189a8:	0320      	addiu	v1,sp,128
bfc189aa:	0010      	addiu	s0,sp,64
bfc189ac:	920c      	lw	v0,48(sp)
bfc189ae:	9fc1      	lw	a2,4(a3)
bfc189b0:	9348      	lw	v1,288(sp)
bfc189b2:	9fc1      	lw	a2,4(a3)
bfc189b4:	0064      	addiu	s0,sp,400
bfc189b6:	c016      	sb	s0,22(s0)
bfc189b8:	934c      	lw	v1,304(sp)
bfc189ba:	9fc1      	lw	a2,4(a3)
bfc189bc:	0068      	addiu	s0,sp,416
bfc189be:	c016      	sb	s0,22(s0)

bfc189c0 <check_asrc_chanel_fifo_full>:
bfc189c0:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *  deal check asrc fifo full
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_asrc_adjust.c
 * \par
 * \note
 *******************************************************************************/
void check_asrc_chanel_fifo_full(void)
{
bfc189c2:	0104      	addiu	s1,sp,16
bfc189c4:	b20c      	lw	v0,bfc189f4 <check_asrc_chanel_fifo_full+0x34>
    if((*((REG32)(ASRC_OUT1_IP)) & (1 << ASRC_OUT1_IP_PCMFIFOFull)) != 0) {
bfc189c6:	9a60      	lw	v1,0(v0)
bfc189c8:	6a10      	li	v0,16
bfc189ca:	ea6c      	and	v0,v1
bfc189cc:	220f      	beqz	v0,bfc189ec <check_asrc_chanel_fifo_full+0x2c>
bfc189ce:	b20b      	lw	v0,bfc189f8 <check_asrc_chanel_fifo_full+0x38>
        //libc_print("full", 0, 0);
        // init channel parameter again
        init_channel_record(&g_asrc_out1_record);
bfc189d0:	6782      	move	a0,v0
bfc189d2:	b20b      	lw	v0,bfc189fc <check_asrc_chanel_fifo_full+0x3c>
bfc189d4:	eac0      	jalrc	v0
bfc189d6:	b30b      	lw	v1,bfc18a00 <check_asrc_chanel_fifo_full+0x40>
        // config default decimation ratio 0
        *((REG32)(ASRC_OUT1_DEC0)) = g_asrc_dec0_init;
bfc189d8:	b20b      	lw	v0,bfc18a04 <check_asrc_chanel_fifo_full+0x44>
bfc189da:	9a40      	lw	v0,0(v0)
bfc189dc:	db40      	sw	v0,0(v1)
bfc189de:	b30b      	lw	v1,bfc18a08 <check_asrc_chanel_fifo_full+0x48>
        // config default decimation ratio 1
        *((REG32)(ASRC_OUT1_DEC1)) = g_asrc_dec1_init;
bfc189e0:	b20b      	lw	v0,bfc18a0c <check_asrc_chanel_fifo_full+0x4c>
bfc189e2:	9a40      	lw	v0,0(v0)
bfc189e4:	db40      	sw	v0,0(v1)
bfc189e6:	b304      	lw	v1,bfc189f4 <check_asrc_chanel_fifo_full+0x34>
        //while ((*((REG32) (ASRC_OUT1_IP)) & (1 << ASRC_OUT1_IP_PCMFIFOFull)) != 0)
        //no need wait
        //{
        // clear pcm full pending
        *((REG32)(ASRC_OUT1_IP)) = (1 << ASRC_OUT1_IP_PCMFIFOFull);
bfc189e8:	6a10      	li	v0,16
bfc189ea:	db40      	sw	v0,0(v1)
bfc189ec:	65b9      	move	sp,s1
        //}
    }
}
bfc189ee:	6451      	restore	8,ra,s1
bfc189f0:	e8a0      	jrc	ra
bfc189f2:	0000      	addiu	s0,sp,0
bfc189f4:	0080      	addiu	s0,sp,512
bfc189f6:	c016      	sb	s0,22(s0)
bfc189f8:	92dc      	lw	v0,880(sp)
bfc189fa:	9fc1      	lw	a2,4(a3)
bfc189fc:	8841      	lh	v0,2(s0)
bfc189fe:	bfc1      	lwu	a2,4(a3)
bfc18a00:	0064      	addiu	s0,sp,400
bfc18a02:	c016      	sb	s0,22(s0)
bfc18a04:	9348      	lw	v1,288(sp)
bfc18a06:	9fc1      	lw	a2,4(a3)
bfc18a08:	0068      	addiu	s0,sp,416
bfc18a0a:	c016      	sb	s0,22(s0)
bfc18a0c:	934c      	lw	v1,304(sp)
bfc18a0e:	9fc1      	lw	a2,4(a3)

bfc18a10 <check_asrc_chanel_fifo_empty>:
bfc18a10:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *  deal check asrc fifo empty
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_asrc_adjust.c
 * \par
 * \note
 *******************************************************************************/
void check_asrc_chanel_fifo_empty(void)
{
bfc18a12:	0104      	addiu	s1,sp,16
bfc18a14:	b20c      	lw	v0,bfc18a44 <check_asrc_chanel_fifo_empty+0x34>
    if((*((REG32)(ASRC_OUT1_IP)) & (1 << ASRC_OUT1_IP_PCMFIFOEmpty)) != 0) {
bfc18a16:	9a60      	lw	v1,0(v0)
bfc18a18:	6a08      	li	v0,8
bfc18a1a:	ea6c      	and	v0,v1
bfc18a1c:	220f      	beqz	v0,bfc18a3c <check_asrc_chanel_fifo_empty+0x2c>
bfc18a1e:	b20b      	lw	v0,bfc18a48 <check_asrc_chanel_fifo_empty+0x38>
        //libc_print("empty", 0, 0);
        // init channel parameter again
        init_channel_record(&g_asrc_out1_record);
bfc18a20:	6782      	move	a0,v0
bfc18a22:	b20b      	lw	v0,bfc18a4c <check_asrc_chanel_fifo_empty+0x3c>
bfc18a24:	eac0      	jalrc	v0
bfc18a26:	b30b      	lw	v1,bfc18a50 <check_asrc_chanel_fifo_empty+0x40>
        // config default decimation ratio 0
        *((REG32)(ASRC_OUT1_DEC0)) = g_asrc_dec0_init;
bfc18a28:	b20b      	lw	v0,bfc18a54 <check_asrc_chanel_fifo_empty+0x44>
bfc18a2a:	9a40      	lw	v0,0(v0)
bfc18a2c:	db40      	sw	v0,0(v1)
bfc18a2e:	b30b      	lw	v1,bfc18a58 <check_asrc_chanel_fifo_empty+0x48>
        // config default decimation ratio 1
        *((REG32)(ASRC_OUT1_DEC1)) = g_asrc_dec1_init;
bfc18a30:	b20b      	lw	v0,bfc18a5c <check_asrc_chanel_fifo_empty+0x4c>
bfc18a32:	9a40      	lw	v0,0(v0)
bfc18a34:	db40      	sw	v0,0(v1)
bfc18a36:	b304      	lw	v1,bfc18a44 <check_asrc_chanel_fifo_empty+0x34>
        // clear pcm empty pending
        //while ((*((REG32) (ASRC_OUT1_IP)) & (1 << ASRC_OUT1_IP_PCMFIFOEmpty)) != 0)
        //no need wait
        //{
        // clear pcm full pending
        *((REG32)(ASRC_OUT1_IP)) = (1 << ASRC_OUT1_IP_PCMFIFOEmpty);
bfc18a38:	6a08      	li	v0,8
bfc18a3a:	db40      	sw	v0,0(v1)
bfc18a3c:	65b9      	move	sp,s1
        //}
    }
}
bfc18a3e:	6451      	restore	8,ra,s1
bfc18a40:	e8a0      	jrc	ra
bfc18a42:	0000      	addiu	s0,sp,0
bfc18a44:	0080      	addiu	s0,sp,512
bfc18a46:	c016      	sb	s0,22(s0)
bfc18a48:	92dc      	lw	v0,880(sp)
bfc18a4a:	9fc1      	lw	a2,4(a3)
bfc18a4c:	8841      	lh	v0,2(s0)
bfc18a4e:	bfc1      	lwu	a2,4(a3)
bfc18a50:	0064      	addiu	s0,sp,400
bfc18a52:	c016      	sb	s0,22(s0)
bfc18a54:	9348      	lw	v1,288(sp)
bfc18a56:	9fc1      	lw	a2,4(a3)
bfc18a58:	0068      	addiu	s0,sp,416
bfc18a5a:	c016      	sb	s0,22(s0)
bfc18a5c:	934c      	lw	v1,304(sp)
bfc18a5e:	9fc1      	lw	a2,4(a3)

bfc18a60 <modify_asrc_chanel_decimation_ratio>:
bfc18a60:	6492      	save	16,s1

/******************************************************************************/
/*!
 * \par  Description:
 *  deal modify asrc dec ratio
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_asrc_adjust.c
 * \par
 * \note
 *******************************************************************************/
void modify_asrc_chanel_decimation_ratio(void)
{
bfc18a62:	673d      	move	s1,sp
bfc18a64:	b28d      	lw	v0,bfc18c98 <modify_asrc_chanel_decimation_ratio+0x238>
    int32 i;
    uint16 nTmp16Val;

    //check hf to he
    if((*((REG32)(ASRC_OUT1_IP)) & (1 << ASRC_OUT1_IP_HFtoHEIP)) != 0) {
bfc18a66:	9a60      	lw	v1,0(v0)
bfc18a68:	6a02      	li	v0,2
bfc18a6a:	ea6c      	and	v0,v1
bfc18a6c:	2223      	beqz	v0,bfc18ab4 <modify_asrc_chanel_decimation_ratio+0x54>
bfc18a6e:	b28c      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>

        //check if is record already
        if(g_asrc_out1_record.nRecord != K_HF2HE) {
bfc18a70:	9a59      	lw	v0,100(v0)
bfc18a72:	7201      	cmpi	v0,1
bfc18a74:	6758      	move	v0,t8
bfc18a76:	5a01      	sltiu	v0,1
bfc18a78:	611a      	btnez	bfc18aae <modify_asrc_chanel_decimation_ratio+0x4e>
bfc18a7a:	b28a      	lw	v0,bfc18ca0 <modify_asrc_chanel_decimation_ratio+0x240>
            //low half-word
            nTmp16Val = (uint16)(*((REG32)(ASRC_OUT1_TIME)) >> 16);
bfc18a7c:	9a40      	lw	v0,0(v0)
bfc18a7e:	3242      	srl	v0,8
bfc18a80:	3242      	srl	v0,8
bfc18a82:	c942      	sh	v0,4(s1)
bfc18a84:	a942      	lhu	v0,4(s1)

            if(nTmp16Val != 0) {
bfc18a86:	2213      	beqz	v0,bfc18aae <modify_asrc_chanel_decimation_ratio+0x4e>
bfc18a88:	b385      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                //save
                g_asrc_out1_record.nHfToHeVec[g_asrc_out1_record.nGlbHfToHeCounter] = nTmp16Val;
bfc18a8a:	b285      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18a8c:	9a4b      	lw	v0,44(v0)
bfc18a8e:	3244      	sll	v0,1
bfc18a90:	e26d      	addu	v1,v0,v1
bfc18a92:	a942      	lhu	v0,4(s1)
bfc18a94:	cb4f      	sh	v0,30(v1)
bfc18a96:	b282      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>

                //g_asrc_out1_record.nGlbHfToHeCounter++;
                if(g_asrc_out1_record.nGlbHfToHeCounter < K_RECORD_LEN) {
bfc18a98:	9a4b      	lw	v0,44(v0)
bfc18a9a:	5a03      	sltiu	v0,3
bfc18a9c:	6005      	bteqz	bfc18aa8 <modify_asrc_chanel_decimation_ratio+0x48>
bfc18a9e:	b380      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                    g_asrc_out1_record.nGlbHfToHeCounter++;
bfc18aa0:	b27f      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18aa2:	9a4b      	lw	v0,44(v0)
bfc18aa4:	4241      	addiu	v0,v0,1
bfc18aa6:	db4b      	sw	v0,44(v1)
bfc18aa8:	b37d      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                }

                //set flag
                g_asrc_out1_record.nRecord = K_HF2HE;
bfc18aaa:	6a01      	li	v0,1
bfc18aac:	db59      	sw	v0,100(v1)
bfc18aae:	b37b      	lw	v1,bfc18c98 <modify_asrc_chanel_decimation_ratio+0x238>
            }
        }
        //libc_print("ftoe", g_asrc_out1_record.nGlbHfToHeCounter, 2);
        //*((REG32) (GPIOADAT)) &= (~(1 << 23));
        //clear pending bit
        *((REG32)(ASRC_OUT1_IP)) = (1 << ASRC_OUT1_IP_HFtoHEIP);
bfc18ab0:	6a02      	li	v0,2
bfc18ab2:	db40      	sw	v0,0(v1)
bfc18ab4:	b279      	lw	v0,bfc18c98 <modify_asrc_chanel_decimation_ratio+0x238>

    }
    //check he to hf
    if((*((REG32)(ASRC_OUT1_IP)) & (1 << ASRC_OUT1_IP_HEtoHFIP)) != 0) {
bfc18ab6:	9a60      	lw	v1,0(v0)
bfc18ab8:	6a01      	li	v0,1
bfc18aba:	ea6c      	and	v0,v1
bfc18abc:	221e      	beqz	v0,bfc18afa <modify_asrc_chanel_decimation_ratio+0x9a>
bfc18abe:	b278      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>

        if(g_asrc_out1_record.nRecord != K_HE2HF) {
bfc18ac0:	9a59      	lw	v0,100(v0)
bfc18ac2:	2218      	beqz	v0,bfc18af4 <modify_asrc_chanel_decimation_ratio+0x94>
bfc18ac4:	b277      	lw	v0,bfc18ca0 <modify_asrc_chanel_decimation_ratio+0x240>
            //check low half-word
            nTmp16Val = (uint16)(*((REG32)(ASRC_OUT1_TIME)));
bfc18ac6:	9a40      	lw	v0,0(v0)
bfc18ac8:	c942      	sh	v0,4(s1)
bfc18aca:	a942      	lhu	v0,4(s1)

            if(nTmp16Val != 0) {
bfc18acc:	2213      	beqz	v0,bfc18af4 <modify_asrc_chanel_decimation_ratio+0x94>
bfc18ace:	b374      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                //save
                g_asrc_out1_record.nHeToHfVec[g_asrc_out1_record.nGlbHeToHfCounter] = nTmp16Val;
bfc18ad0:	b273      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18ad2:	9a4a      	lw	v0,40(v0)
bfc18ad4:	3244      	sll	v0,1
bfc18ad6:	e26d      	addu	v1,v0,v1
bfc18ad8:	a942      	lhu	v0,4(s1)
bfc18ada:	cb4a      	sh	v0,20(v1)
bfc18adc:	b270      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>

                if(g_asrc_out1_record.nGlbHeToHfCounter < K_RECORD_LEN) {
bfc18ade:	9a4a      	lw	v0,40(v0)
bfc18ae0:	5a03      	sltiu	v0,3
bfc18ae2:	6005      	bteqz	bfc18aee <modify_asrc_chanel_decimation_ratio+0x8e>
bfc18ae4:	b36e      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                    g_asrc_out1_record.nGlbHeToHfCounter++;
bfc18ae6:	b26e      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18ae8:	9a4a      	lw	v0,40(v0)
bfc18aea:	4241      	addiu	v0,v0,1
bfc18aec:	db4a      	sw	v0,40(v1)
bfc18aee:	b36c      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                }

                //set flag
                g_asrc_out1_record.nRecord = K_HE2HF;
bfc18af0:	6a00      	li	v0,0
bfc18af2:	db59      	sw	v0,100(v1)
bfc18af4:	b369      	lw	v1,bfc18c98 <modify_asrc_chanel_decimation_ratio+0x238>
            }
        }
        //libc_print("etof", g_asrc_out1_record.nGlbHeToHfCounter, 2);
        //*((REG32) (GPIOADAT)) |= (1 << 23);
        //clear pending bit
        *((REG32)(ASRC_OUT1_IP)) = (1 << ASRC_OUT1_IP_HEtoHFIP);
bfc18af6:	6a01      	li	v0,1
bfc18af8:	db40      	sw	v0,0(v1)
bfc18afa:	b269      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>

    }
    if((g_asrc_out1_record.nGlbHeToHfCounter == K_RECORD_LEN)
bfc18afc:	9a4a      	lw	v0,40(v0)
bfc18afe:	7203      	cmpi	v0,3
bfc18b00:	6778      	move	v1,t8
bfc18b02:	5b01      	sltiu	v1,1
bfc18b04:	f0c0 6005 	bteqz	bfc18c92 <modify_asrc_chanel_decimation_ratio+0x232>
bfc18b08:	b265      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b0a:	9a4b      	lw	v0,44(v0)
bfc18b0c:	5a03      	sltiu	v0,3
bfc18b0e:	f0c0 6100 	btnez	bfc18c92 <modify_asrc_chanel_decimation_ratio+0x232>
bfc18b12:	b563      	lw	a1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
            && (g_asrc_out1_record.nGlbHfToHeCounter >= K_RECORD_LEN)) {
        //asrc_out1_record.nValidRecordNum = asrc_out1_record.nGlbHfToHeCounter;
        // calculate frequency difference
        g_asrc_out1_record.nDiffFreq = (g_asrc_out1_record.nFreqHigh - g_asrc_out1_record.nFreqLow);
bfc18b14:	b262      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b16:	b362      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b18:	9a90      	lw	a0,64(v0)
bfc18b1a:	9b4f      	lw	v0,60(v1)
bfc18b1c:	e44b      	subu	v0,a0,v0
bfc18b1e:	dd56      	sw	v0,88(a1)
bfc18b20:	b35f      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
        // calculate average time
        g_asrc_out1_record.nAverageHe2Hf = 0;
bfc18b22:	6a00      	li	v0,0
bfc18b24:	db4c      	sw	v0,48(v1)
bfc18b26:	b35e      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>

        g_asrc_out1_record.nAverageHf2He = 0;
bfc18b28:	6a00      	li	v0,0
bfc18b2a:	db4d      	sw	v0,52(v1)
bfc18b2c:	6a01      	li	v0,1

        //libc_print("adjust", 0, 0);

        for(i = 1; i < K_RECORD_LEN; i++) {
bfc18b2e:	d940      	sw	v0,0(s1)
bfc18b30:	9940      	lw	v0,0(s1)
bfc18b32:	5203      	slti	v0,3
bfc18b34:	6018      	bteqz	bfc18b66 <modify_asrc_chanel_decimation_ratio+0x106>
bfc18b36:	b45a      	lw	a0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
            g_asrc_out1_record.nAverageHe2Hf += g_asrc_out1_record.nHeToHfVec[i];
bfc18b38:	b559      	lw	a1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b3a:	b359      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b3c:	9940      	lw	v0,0(s1)
bfc18b3e:	3244      	sll	v0,1
bfc18b40:	e269      	addu	v0,v1
bfc18b42:	aa6a      	lhu	v1,20(v0)
bfc18b44:	9d4c      	lw	v0,48(a1)
bfc18b46:	e269      	addu	v0,v1
bfc18b48:	dc4c      	sw	v0,48(a0)
bfc18b4a:	b455      	lw	a0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
            g_asrc_out1_record.nAverageHf2He += g_asrc_out1_record.nHfToHeVec[i];
bfc18b4c:	b554      	lw	a1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b4e:	b354      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b50:	9940      	lw	v0,0(s1)
bfc18b52:	3244      	sll	v0,1
bfc18b54:	e269      	addu	v0,v1
bfc18b56:	aa6f      	lhu	v1,30(v0)
bfc18b58:	9d4d      	lw	v0,52(a1)
bfc18b5a:	e269      	addu	v0,v1
bfc18b5c:	dc4d      	sw	v0,52(a0)
bfc18b5e:	9940      	lw	v0,0(s1)
bfc18b60:	4241      	addiu	v0,v0,1
bfc18b62:	d940      	sw	v0,0(s1)
bfc18b64:	17e5      	b	bfc18b30 <modify_asrc_chanel_decimation_ratio+0xd0>
bfc18b66:	b34e      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
        }
        g_asrc_out1_record.nAverageHe2Hf /= (K_RECORD_LEN - 1);
bfc18b68:	b24d      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b6a:	9a4c      	lw	v0,48(v0)
bfc18b6c:	3246      	srl	v0,1
bfc18b6e:	db4c      	sw	v0,48(v1)
bfc18b70:	b34b      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
        g_asrc_out1_record.nAverageHf2He /= (K_RECORD_LEN - 1);
bfc18b72:	b24b      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b74:	9a4d      	lw	v0,52(v0)
bfc18b76:	3246      	srl	v0,1
bfc18b78:	db4d      	sw	v0,52(v1)
bfc18b7a:	b249      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>

        if((g_asrc_out1_record.nAverageHe2Hf <= K_NO_NEED_MOD_THRESHOLD) || (g_asrc_out1_record.nAverageHf2He
bfc18b7c:	9a4c      	lw	v0,48(v0)
bfc18b7e:	f008 5a01 	sltiu	v0,16385
bfc18b82:	6106      	btnez	bfc18b90 <modify_asrc_chanel_decimation_ratio+0x130>
bfc18b84:	b246      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b86:	9a4d      	lw	v0,52(v0)
bfc18b88:	f008 5a01 	sltiu	v0,16385
bfc18b8c:	6101      	btnez	bfc18b90 <modify_asrc_chanel_decimation_ratio+0x130>
bfc18b8e:	1081      	b	bfc18c92 <modify_asrc_chanel_decimation_ratio+0x232>
bfc18b90:	b443      	lw	a0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                <= K_NO_NEED_MOD_THRESHOLD)) {

            // clear counter
            g_asrc_out1_record.nGlbHfToHeCounter = g_asrc_out1_record.nGlbHeToHfCounter = 0;
bfc18b92:	b343      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18b94:	6a00      	li	v0,0
bfc18b96:	db4a      	sw	v0,40(v1)
bfc18b98:	6a00      	li	v0,0
bfc18b9a:	dc4b      	sw	v0,44(a0)
bfc18b9c:	b240      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>

            // calculate nFreqHigh to nCenterfrequecy
            if((g_asrc_out1_record.nAverageHe2Hf + g_asrc_out1_record.nAverageHf2He) != 0) {
bfc18b9e:	b340      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18ba0:	9a8c      	lw	a0,48(v0)
bfc18ba2:	9b4d      	lw	v0,52(v1)
bfc18ba4:	e449      	addu	v0,a0,v0
bfc18ba6:	2211      	beqz	v0,bfc18bca <modify_asrc_chanel_decimation_ratio+0x16a>
bfc18ba8:	b53d      	lw	a1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                g_asrc_out1_record.nFreqHighToCenter = g_asrc_out1_record.nDiffFreq * g_asrc_out1_record.nAverageHe2Hf
bfc18baa:	b23d      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18bac:	b33c      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18bae:	9a96      	lw	a0,88(v0)
bfc18bb0:	9b4c      	lw	v0,48(v1)
bfc18bb2:	ec58      	mult	a0,v0
bfc18bb4:	b23a      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18bb6:	b33a      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18bb8:	9a8c      	lw	a0,48(v0)
bfc18bba:	9b4d      	lw	v0,52(v1)
bfc18bbc:	e449      	addu	v0,a0,v0
bfc18bbe:	eb12      	mflo	v1
bfc18bc0:	eb5b      	divu	zero,v1,v0
bfc18bc2:	2a01      	bnez	v0,bfc18bc6 <modify_asrc_chanel_decimation_ratio+0x166>
bfc18bc4:	e8e5      	break	7
bfc18bc6:	ea12      	mflo	v0
bfc18bc8:	dd55      	sw	v0,84(a1)
bfc18bca:	b535      	lw	a1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                                                       / (g_asrc_out1_record.nAverageHe2Hf + g_asrc_out1_record.nAverageHf2He);
            }
            // calculate nCenterfrequecy to nFreqLow
            //asrc_out1_record.nFreqCenterToLow = (asrc_out1_record.nDiffFreq - asrc_out1_record.nFreqHighToCenter);
            // refresh center frequency
            g_asrc_out1_record.nCenterfrequecy = (g_asrc_out1_record.nFreqHigh - g_asrc_out1_record.nFreqHighToCenter);
bfc18bcc:	b234      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18bce:	b334      	lw	v1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18bd0:	9a90      	lw	a0,64(v0)
bfc18bd2:	9b55      	lw	v0,84(v1)
bfc18bd4:	e44b      	subu	v0,a0,v0
bfc18bd6:	dd53      	sw	v0,76(a1)
bfc18bd8:	b231      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>

            if((g_asrc_out1_record.nAverageHe2Hf < 0x100) || (g_asrc_out1_record.nAverageHf2He < 0x100)) {
bfc18bda:	9a4c      	lw	v0,48(v0)
bfc18bdc:	f100 5a00 	sltiu	v0,256
bfc18be0:	6106      	btnez	bfc18bee <modify_asrc_chanel_decimation_ratio+0x18e>
bfc18be2:	b22f      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18be4:	9a4d      	lw	v0,52(v0)
bfc18be6:	f100 5a00 	sltiu	v0,256
bfc18bea:	6101      	btnez	bfc18bee <modify_asrc_chanel_decimation_ratio+0x18e>
bfc18bec:	1017      	b	bfc18c1c <modify_asrc_chanel_decimation_ratio+0x1bc>
bfc18bee:	b42c      	lw	a0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                // refresh nFreqHigh
                g_asrc_out1_record.nFreqHigh = (g_asrc_out1_record.nCenterfrequecy + g_asrc_freq_in / 1000);
bfc18bf0:	b52b      	lw	a1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18bf2:	b22d      	lw	v0,bfc18ca4 <modify_asrc_chanel_decimation_ratio+0x244>
bfc18bf4:	9a60      	lw	v1,0(v0)
bfc18bf6:	b22d      	lw	v0,bfc18ca8 <modify_asrc_chanel_decimation_ratio+0x248>
bfc18bf8:	eb59      	multu	v1,v0
bfc18bfa:	ea10      	mfhi	v0
bfc18bfc:	335a      	srl	v1,v0,6
bfc18bfe:	9d53      	lw	v0,76(a1)
bfc18c00:	e269      	addu	v0,v1
bfc18c02:	dc50      	sw	v0,64(a0)
bfc18c04:	b426      	lw	a0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                // refresh nFreqLow
                g_asrc_out1_record.nFreqLow = (g_asrc_out1_record.nCenterfrequecy - g_asrc_freq_in / 1000);
bfc18c06:	b526      	lw	a1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18c08:	b227      	lw	v0,bfc18ca4 <modify_asrc_chanel_decimation_ratio+0x244>
bfc18c0a:	9a60      	lw	v1,0(v0)
bfc18c0c:	b227      	lw	v0,bfc18ca8 <modify_asrc_chanel_decimation_ratio+0x248>
bfc18c0e:	eb59      	multu	v1,v0
bfc18c10:	ea10      	mfhi	v0
bfc18c12:	335a      	srl	v1,v0,6
bfc18c14:	9d53      	lw	v0,76(a1)
bfc18c16:	e26b      	subu	v0,v1
bfc18c18:	dc4f      	sw	v0,60(a0)
bfc18c1a:	1016      	b	bfc18c48 <modify_asrc_chanel_decimation_ratio+0x1e8>
bfc18c1c:	b420      	lw	a0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
            } else {
                // refresh nFreqHigh
                g_asrc_out1_record.nFreqHigh = (g_asrc_out1_record.nCenterfrequecy + g_asrc_freq_in / 4000);
bfc18c1e:	b520      	lw	a1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18c20:	b221      	lw	v0,bfc18ca4 <modify_asrc_chanel_decimation_ratio+0x244>
bfc18c22:	9a60      	lw	v1,0(v0)
bfc18c24:	b221      	lw	v0,bfc18ca8 <modify_asrc_chanel_decimation_ratio+0x248>
bfc18c26:	eb59      	multu	v1,v0
bfc18c28:	ea10      	mfhi	v0
bfc18c2a:	3342      	srl	v1,v0,8
bfc18c2c:	9d53      	lw	v0,76(a1)
bfc18c2e:	e269      	addu	v0,v1
bfc18c30:	dc50      	sw	v0,64(a0)
bfc18c32:	b41b      	lw	a0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                // refresh nFreqLow
                g_asrc_out1_record.nFreqLow = (g_asrc_out1_record.nCenterfrequecy - g_asrc_freq_in / 4000);
bfc18c34:	b51a      	lw	a1,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18c36:	b21c      	lw	v0,bfc18ca4 <modify_asrc_chanel_decimation_ratio+0x244>
bfc18c38:	9a60      	lw	v1,0(v0)
bfc18c3a:	b21c      	lw	v0,bfc18ca8 <modify_asrc_chanel_decimation_ratio+0x248>
bfc18c3c:	eb59      	multu	v1,v0
bfc18c3e:	ea10      	mfhi	v0
bfc18c40:	3342      	srl	v1,v0,8
bfc18c42:	9d53      	lw	v0,76(a1)
bfc18c44:	e26b      	subu	v0,v1
bfc18c46:	dc4f      	sw	v0,60(a0)
bfc18c48:	b215      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
            }
            if(g_asrc_out1_record.nSampleRate != 0) {
bfc18c4a:	9a5a      	lw	v0,104(v0)
bfc18c4c:	221a      	beqz	v0,bfc18c82 <modify_asrc_chanel_decimation_ratio+0x222>
bfc18c4e:	b414      	lw	a0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                // calculate decimation rate 1 accroding to nFreqHigh
                g_asrc_out1_record.nDecimationRatio1 = ((g_asrc_out1_record.nFreqHigh << 14)
bfc18c50:	b213      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18c52:	9a50      	lw	v0,64(v0)
bfc18c54:	3340      	sll	v1,v0,8
bfc18c56:	3378      	sll	v1,6
bfc18c58:	b211      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18c5a:	9a5a      	lw	v0,104(v0)
bfc18c5c:	eb5b      	divu	zero,v1,v0
bfc18c5e:	2a01      	bnez	v0,bfc18c62 <modify_asrc_chanel_decimation_ratio+0x202>
bfc18c60:	e8e5      	break	7
bfc18c62:	eb12      	mflo	v1
bfc18c64:	3278      	sll	v0,v1,6
bfc18c66:	dc52      	sw	v0,72(a0)
bfc18c68:	b40d      	lw	a0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
                                                        / g_asrc_out1_record.nSampleRate) << 6;
                // calculate decimation rate 0 accroding to nFreqLow
                g_asrc_out1_record.nDecimationRatio0 = ((g_asrc_out1_record.nFreqLow << 14)
bfc18c6a:	b20d      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18c6c:	9a4f      	lw	v0,60(v0)
bfc18c6e:	3340      	sll	v1,v0,8
bfc18c70:	3378      	sll	v1,6
bfc18c72:	b20b      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18c74:	9a5a      	lw	v0,104(v0)
bfc18c76:	eb5b      	divu	zero,v1,v0
bfc18c78:	2a01      	bnez	v0,bfc18c7c <modify_asrc_chanel_decimation_ratio+0x21c>
bfc18c7a:	e8e5      	break	7
bfc18c7c:	eb12      	mflo	v1
bfc18c7e:	3278      	sll	v0,v1,6
bfc18c80:	dc51      	sw	v0,68(a0)
bfc18c82:	b30b      	lw	v1,bfc18cac <modify_asrc_chanel_decimation_ratio+0x24c>
                                                        / g_asrc_out1_record.nSampleRate) << 6;
            }
            // refresh ASRC_OUT0_DEC0
            *((REG32)(ASRC_OUT1_DEC0)) = g_asrc_out1_record.nDecimationRatio0;
bfc18c84:	b206      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18c86:	9a51      	lw	v0,68(v0)
bfc18c88:	db40      	sw	v0,0(v1)
bfc18c8a:	b30a      	lw	v1,bfc18cb0 <modify_asrc_chanel_decimation_ratio+0x250>
            // refresh ASRC_OUT0_DEC1
            *((REG32)(ASRC_OUT1_DEC1)) = g_asrc_out1_record.nDecimationRatio1;
bfc18c8c:	b204      	lw	v0,bfc18c9c <modify_asrc_chanel_decimation_ratio+0x23c>
bfc18c8e:	9a52      	lw	v0,72(v0)
bfc18c90:	db40      	sw	v0,0(v1)
bfc18c92:	65b9      	move	sp,s1

        }
    }
}
bfc18c94:	6412      	restore	16,s1
bfc18c96:	e8a0      	jrc	ra
bfc18c98:	0080      	addiu	s0,sp,512
bfc18c9a:	c016      	sb	s0,22(s0)
bfc18c9c:	92dc      	lw	v0,880(sp)
bfc18c9e:	9fc1      	lw	a2,4(a3)
bfc18ca0:	0084      	addiu	s0,sp,528
bfc18ca2:	c016      	sb	s0,22(s0)
bfc18ca4:	9350      	lw	v1,320(sp)
bfc18ca6:	9fc1      	lw	a2,4(a3)
bfc18ca8:	4dd3      	addiu	a1,-45
bfc18caa:	1062      	b	bfc18d70 <All_Descriptors_of_Configuration1+0xa0>
bfc18cac:	0064      	addiu	s0,sp,400
bfc18cae:	c016      	sb	s0,22(s0)
bfc18cb0:	0068      	addiu	s0,sp,416
bfc18cb2:	c016      	sb	s0,22(s0)

bfc18cb4 <deal_timer_process>:
bfc18cb4:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *  deal timer interrupt
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_asrc_adjust.c
 * \par
 * \note
 *******************************************************************************/
void deal_timer_process(void)
{
bfc18cb6:	0104      	addiu	s1,sp,16
bfc18cb8:	1a1f 6270 	jal	bfc189c0 <check_asrc_chanel_fifo_full>

    // timer0 interrupt
    check_asrc_chanel_fifo_full();
bfc18cbc:	6500      	nop
bfc18cbe:	1a1f 6284 	jal	bfc18a10 <check_asrc_chanel_fifo_empty>
    check_asrc_chanel_fifo_empty();
bfc18cc2:	6500      	nop
bfc18cc4:	1a1f 6298 	jal	bfc18a60 <modify_asrc_chanel_decimation_ratio>
    modify_asrc_chanel_decimation_ratio();
bfc18cc8:	6500      	nop
bfc18cca:	65b9      	move	sp,s1

}
bfc18ccc:	6451      	restore	8,ra,s1
bfc18cce:	e8a0      	jrc	ra

bfc18cd0 <All_Descriptors_of_Configuration1>:
bfc18cd0:	0209 00e7 0104 8000 0932 0004 0000 0101     ........2.......
bfc18ce0:	0000 240a 0001 4e01 0200 0201 240c 0102     ...$...N.....$..
bfc18cf0:	0101 0200 0003 0000 240c 0202 0201 0100     .........$......
bfc18d00:	0001 0000 2409 0603 0301 0900 0900 0324     .....$........$.
bfc18d10:	0107 0001 000b 2407 0b05 0a01 0a00 0624     .......$......$.
bfc18d20:	0109 0101 0202 0900 0624 020a 0301 0000     ........$.......
bfc18d30:	0409 0001 0100 0002 0900 0104 0101 0201     ................
bfc18d40:	0000 2407 0101 0101 0e00 0224 0201 1002     ...$......$.....
bfc18d50:	8002 00bb ac44 0900 0105 c809 0100 0000     ....D...........
bfc18d60:	2507 0101 0101 0900 0204 0000 0201 0000     .%..............
bfc18d70:	0409 0102 0101 0002 0700 0124 0107 0001     ..........$.....
bfc18d80:	240e 0102 0201 0210 bb80 4400 00ac 0509     .$.........D....
bfc18d90:	0581 0064 0001 0700 0125 0000 0000 0409     ..d.....%.......
bfc18da0:	0003 0301 0000 0900 0021 0001 2201 0021     ........!...."!.
bfc18db0:	0507 0382 0004 0020                         ...... .

bfc18db8 <All_Descriptors_of_Configuration2>:
bfc18db8:	0209 00e1 0104 8000 0932 0004 0000 0101     ........2.......
bfc18dc8:	0000 240a 0001 4e01 0200 0201 240c 0102     ...$...N.....$..
bfc18dd8:	0101 0200 0003 0000 240c 0202 0201 0100     .........$......
bfc18de8:	0001 0000 2409 0603 0301 0900 0900 0324     .....$........$.
bfc18df8:	0107 0001 000b 2407 0b05 0a01 0a00 0624     .......$......$.
bfc18e08:	0109 0101 0202 0900 0624 020a 0301 0000     ........$.......
bfc18e18:	0409 0001 0100 0002 0900 0104 0101 0201     ................
bfc18e28:	0000 2407 0101 0101 0b00 0224 0201 1002     ...$......$.....
bfc18e38:	8001 00bb 0509 0901 00c8 0001 0700 0125     ..............%.
bfc18e48:	0101 0001 0409 0002 0100 0002 0900 0204     ................
bfc18e58:	0101 0201 0000 2407 0701 0101 0b00 0224     .......$......$.
bfc18e68:	0101 1002 8001 00bb 0509 0581 0064 0001     ............d...
bfc18e78:	0700 0125 0000 0000 0409 0003 0301 0000     ..%.............
bfc18e88:	0900 0021 0001 2201 0021 0507 0382 0004     ..!...."!.......
bfc18e98:	0020 0000                                    ...

bfc18e9c <libc_op_entry>:
bfc18e9c:	6b10      	li	v1,16
bfc18e9e:	e805      	break	0

bfc18ea0 <sys_op_entry>:
bfc18ea0:	6b0f      	li	v1,15
bfc18ea2:	e805      	break	0
Disassembly of section BANK_B_0:

25009400 <usb_phy_setting>:
25009400:	6492      	save	16,s1
 * \par
 * \note
 *******************************************************************************/
void usb_phy_setting(uint8 bRegAdd, uint8 bValue)
{
25009402:	673d      	move	s1,sp
25009404:	6744      	move	v0,a0
25009406:	6765      	move	v1,a1
25009408:	c150      	sb	v0,16(s1)
2500940a:	c174      	sb	v1,20(s1)
2500940c:	a150      	lbu	v0,16(s1)
    unsigned char bAddLow, bAddHigh;
    unsigned char bTemp;

    bAddLow = bRegAdd & 0x0f;
2500940e:	6762      	move	v1,v0
25009410:	6a0f      	li	v0,15
25009412:	ea6c      	and	v0,v1
25009414:	c140      	sb	v0,0(s1)
25009416:	a150      	lbu	v0,16(s1)
    bAddHigh = (bRegAdd >> 4) & 0x0f;
25009418:	3252      	srl	v0,4
2500941a:	651a      	move	t8,v0
2500941c:	6778      	move	v1,t8
2500941e:	6a0f      	li	v0,15
25009420:	ea6c      	and	v0,v1
25009422:	c141      	sb	v0,1(s1)
25009424:	b22c      	lw	v0,250094d4 <KERNEL_BANK_B_ADDR_BASE+0xd4>

    bTemp = act_readb(VDCTRL);
25009426:	a240      	lbu	v0,0(v0)
25009428:	c142      	sb	v0,2(s1)
2500942a:	6c80      	li	a0,128
    bTemp &= (uint8) 0x80;
2500942c:	ec8b      	neg	a0
2500942e:	a142      	lbu	v0,2(s1)
25009430:	6762      	move	v1,v0
25009432:	6744      	move	v0,a0
25009434:	ea6c      	and	v0,v1
25009436:	c142      	sb	v0,2(s1)
25009438:	b328      	lw	v1,250094d8 <KERNEL_BANK_B_ADDR_BASE+0xd8>

    /* write vstatus: */
    act_writeb(bValue, VDSTAT);
2500943a:	a154      	lbu	v0,20(s1)
2500943c:	c340      	sb	v0,0(v1)
2500943e:	a140      	lbu	v0,0(s1)

    /* write vcontrol: */
    bAddLow |= 0x10;
25009440:	6762      	move	v1,v0
25009442:	6a10      	li	v0,16
25009444:	ea6d      	or	v0,v1
25009446:	c140      	sb	v0,0(s1)
25009448:	b523      	lw	a1,250094d4 <KERNEL_BANK_B_ADDR_BASE+0xd4>
    act_writeb((bAddLow | bTemp), VDCTRL);
2500944a:	a140      	lbu	v0,0(s1)
2500944c:	a162      	lbu	v1,2(s1)
2500944e:	6782      	move	a0,v0
25009450:	6743      	move	v0,v1
25009452:	ea8d      	or	v0,a0
25009454:	c540      	sb	v0,0(a1)
25009456:	a140      	lbu	v0,0(s1)

    bAddLow &= 0x0f;
25009458:	6762      	move	v1,v0
2500945a:	6a0f      	li	v0,15
2500945c:	ea6c      	and	v0,v1
2500945e:	c140      	sb	v0,0(s1)
25009460:	b51d      	lw	a1,250094d4 <KERNEL_BANK_B_ADDR_BASE+0xd4>
    act_writeb((bAddLow | bTemp), VDCTRL);
25009462:	a140      	lbu	v0,0(s1)
25009464:	a162      	lbu	v1,2(s1)
25009466:	6782      	move	a0,v0
25009468:	6743      	move	v0,v1
2500946a:	ea8d      	or	v0,a0
2500946c:	c540      	sb	v0,0(a1)
2500946e:	a140      	lbu	v0,0(s1)

    bAddLow |= 0x10;
25009470:	6762      	move	v1,v0
25009472:	6a10      	li	v0,16
25009474:	ea6d      	or	v0,v1
25009476:	c140      	sb	v0,0(s1)
25009478:	b517      	lw	a1,250094d4 <KERNEL_BANK_B_ADDR_BASE+0xd4>
    act_writeb((bAddLow | bTemp), VDCTRL);
2500947a:	a140      	lbu	v0,0(s1)
2500947c:	a162      	lbu	v1,2(s1)
2500947e:	6782      	move	a0,v0
25009480:	6743      	move	v0,v1
25009482:	ea8d      	or	v0,a0
25009484:	c540      	sb	v0,0(a1)
25009486:	a141      	lbu	v0,1(s1)

    bAddHigh |= 0x10;
25009488:	6762      	move	v1,v0
2500948a:	6a10      	li	v0,16
2500948c:	ea6d      	or	v0,v1
2500948e:	c141      	sb	v0,1(s1)
25009490:	b511      	lw	a1,250094d4 <KERNEL_BANK_B_ADDR_BASE+0xd4>
    act_writeb((bAddHigh | bTemp), VDCTRL);
25009492:	a141      	lbu	v0,1(s1)
25009494:	a162      	lbu	v1,2(s1)
25009496:	6782      	move	a0,v0
25009498:	6743      	move	v0,v1
2500949a:	ea8d      	or	v0,a0
2500949c:	c540      	sb	v0,0(a1)
2500949e:	a141      	lbu	v0,1(s1)

    bAddHigh &= 0x0f;
250094a0:	6762      	move	v1,v0
250094a2:	6a0f      	li	v0,15
250094a4:	ea6c      	and	v0,v1
250094a6:	c141      	sb	v0,1(s1)
250094a8:	b50b      	lw	a1,250094d4 <KERNEL_BANK_B_ADDR_BASE+0xd4>
    act_writeb((bAddHigh | bTemp), VDCTRL);
250094aa:	a141      	lbu	v0,1(s1)
250094ac:	a162      	lbu	v1,2(s1)
250094ae:	6782      	move	a0,v0
250094b0:	6743      	move	v0,v1
250094b2:	ea8d      	or	v0,a0
250094b4:	c540      	sb	v0,0(a1)
250094b6:	a141      	lbu	v0,1(s1)

    bAddHigh |= 0x10;
250094b8:	6762      	move	v1,v0
250094ba:	6a10      	li	v0,16
250094bc:	ea6d      	or	v0,v1
250094be:	c141      	sb	v0,1(s1)
250094c0:	b505      	lw	a1,250094d4 <KERNEL_BANK_B_ADDR_BASE+0xd4>
    act_writeb((bAddHigh | bTemp), VDCTRL);
250094c2:	a141      	lbu	v0,1(s1)
250094c4:	a162      	lbu	v1,2(s1)
250094c6:	6782      	move	a0,v0
250094c8:	6743      	move	v0,v1
250094ca:	ea8d      	or	v0,a0
250094cc:	c540      	sb	v0,0(a1)
250094ce:	65b9      	move	sp,s1
}
250094d0:	6412      	restore	16,s1
250094d2:	e8a0      	jrc	ra
250094d4:	0408      	addiu	a0,sp,32
250094d6:	c008      	sb	s0,8(s0)
250094d8:	0409      	addiu	a0,sp,36
250094da:	c008      	sb	s0,8(s0)

250094dc <usb_sound_init>:
250094dc:	64f5      	save	40,ra,s0-s1
//#endif

/******************************************************************************/
/*!
 * \par  Description:
 *   init usb device ,called by ap.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_init.c
 * \par
 * \note
 *******************************************************************************/
void usb_sound_init(isr_cbk *p_isr_cbk)
{
250094de:	0104      	addiu	s1,sp,16
250094e0:	d986      	sw	a0,24(s1)
250094e2:	b47e      	lw	a0,250096d8 <usb_sound_init+0x1fc>
    //uint32 irq_save;
    //#ifndef FPGA_DEBUG

    uint8 efuse_reg;
    //sys_mdelay(3);
    //#endif
    act_writel((act_readl(MULTI_USED) & (~MULTI_USED_UVDD_V_MASK)) | 0x180,
250094e4:	b27d      	lw	v0,250096d8 <usb_sound_init+0x1fc>
250094e6:	9a60      	lw	v1,0(v0)
250094e8:	6ae1      	li	v0,225
250094ea:	ea4b      	neg	v0
250094ec:	eb4c      	and	v1,v0
250094ee:	f180 6a00 	li	v0,384
250094f2:	ea6d      	or	v0,v1
250094f4:	dc40      	sw	v0,0(a0)
250094f6:	b47a      	lw	a0,250096dc <usb_sound_init+0x200>
               MULTI_USED); //vdd =1.2v vdd ldo enbale //从1.3v修改为1.2v更稳定

    //enable usb module clk CMU_DEVCLKEN
    act_writel(act_readl(CMU_DEVCLKEN) | (1 << CMU_DEVCLKEN_USBCLKEN), CMU_DEVCLKEN);
250094f8:	b279      	lw	v0,250096dc <usb_sound_init+0x200>
250094fa:	9a60      	lw	v1,0(v0)
250094fc:	f400 6a00 	li	v0,1024
25009500:	ea6d      	or	v0,v1
25009502:	dc40      	sw	v0,0(a0)
25009504:	b477      	lw	a0,250096e0 <usb_sound_init+0x204>

    //act_writel((act_readl(MULTI_USED) & 0xFFFFFF0F) | 0x1c0, MULTI_USED); //vdd =1.3v vdd ldo enbale

    //for detect cotec
    //irq_save = sys_local_irq_save();

    //reset2 usb moudule MRCR
    act_writel(act_readl(MRCR) | (1 << MRCR_USBReset2), MRCR);
25009506:	b277      	lw	v0,250096e0 <usb_sound_init+0x204>
25009508:	9a60      	lw	v1,0(v0)
2500950a:	b277      	lw	v0,250096e4 <usb_sound_init+0x208>
2500950c:	ea6d      	or	v0,v1
2500950e:	dc40      	sw	v0,0(a0)
25009510:	6c01      	li	a0,1
    //system interface

    sys_mdelay(1);
25009512:	6d00      	li	a1,0
25009514:	6e00      	li	a2,0
25009516:	6f1d      	li	a3,29
25009518:	b274      	lw	v0,250096e8 <usb_sound_init+0x20c>
2500951a:	eac0      	jalrc	v0
2500951c:	b474      	lw	a0,250096e8 <usb_sound_init+0x20c>
    //enable usb phy pll USB_PHYCTRL
    act_writeb(((uint8) 0xc0 | (act_readb(USB_PHYCTRL))), USB_PHYCTRL);
2500951e:	b274      	lw	v0,250096ec <usb_sound_init+0x210>
25009520:	a240      	lbu	v0,0(v0)
25009522:	6b40      	li	v1,64
25009524:	eb6b      	neg	v1
25009526:	ea6d      	or	v0,v1
25009528:	c440      	sb	v0,0(a0)
2500952a:	6c01      	li	a0,1
    //system interface

    sys_mdelay(1);
2500952c:	6d00      	li	a1,0
2500952e:	6e00      	li	a2,0
25009530:	6f1d      	li	a3,29
25009532:	b26e      	lw	v0,250096e8 <usb_sound_init+0x20c>
25009534:	eac0      	jalrc	v0
25009536:	b36f      	lw	v1,250096f0 <usb_sound_init+0x214>
    //set efuse
    act_writeb(0x00, USB_EFUSE_REF);
25009538:	6a00      	li	v0,0
2500953a:	c340      	sb	v0,0(v1)
2500953c:	b26d      	lw	v0,250096f0 <usb_sound_init+0x214>
    efuse_reg = act_readb(USB_EFUSE_REF);
2500953e:	a240      	lbu	v0,0(v0)
25009540:	c140      	sb	v0,0(s1)
25009542:	b36c      	lw	v1,250096f0 <usb_sound_init+0x214>
    act_writeb(0x80, USB_EFUSE_REF);
25009544:	6a80      	li	v0,128
25009546:	ea4b      	neg	v0
25009548:	c340      	sb	v0,0(v1)
2500954a:	b56a      	lw	a1,250096f0 <usb_sound_init+0x214>
    act_writeb((act_readb(USB_EFUSE_REF) | efuse_reg), USB_EFUSE_REF);
2500954c:	b269      	lw	v0,250096f0 <usb_sound_init+0x214>
2500954e:	a240      	lbu	v0,0(v0)
25009550:	a160      	lbu	v1,0(s1)
25009552:	6782      	move	a0,v0
25009554:	6743      	move	v0,v1
25009556:	ea8d      	or	v0,a0
25009558:	c540      	sb	v0,0(a1)
2500955a:	6c01      	li	a0,1
    sys_mdelay(1);
2500955c:	6d00      	li	a1,0
2500955e:	6e00      	li	a2,0
25009560:	6f1d      	li	a3,29
25009562:	b262      	lw	v0,250096e8 <usb_sound_init+0x20c>
25009564:	eac0      	jalrc	v0
25009566:	b45f      	lw	a0,250096e0 <usb_sound_init+0x204>

    //system interface usbreset
    act_writel(act_readl(MRCR) | (1 << MRCR_USBReset), MRCR);
25009568:	b25e      	lw	v0,250096e0 <usb_sound_init+0x204>
2500956a:	9a60      	lw	v1,0(v0)
2500956c:	f200 6a00 	li	v0,512
25009570:	ea6d      	or	v0,v1
25009572:	dc40      	sw	v0,0(a0)
25009574:	6c01      	li	a0,1

    sys_mdelay(1);
25009576:	6d00      	li	a1,0
25009578:	6e00      	li	a2,0
2500957a:	6f1d      	li	a3,29
2500957c:	b25b      	lw	v0,250096e8 <usb_sound_init+0x20c>
2500957e:	eac0      	jalrc	v0
25009580:	b25d      	lw	v0,250096f0 <usb_sound_init+0x214>

    //sys_local_irq_restore(irq_save);


    //wait reset complete
    while((act_readb(LINESTATUS) & (1 << LINESTATUS_otgreset)) != 0) {
25009582:	a240      	lbu	v0,0(v0)
25009584:	6762      	move	v1,v0
25009586:	eb11      	zeb	v1
25009588:	6a01      	li	v0,1
2500958a:	ea6c      	and	v0,v1
2500958c:	2201      	beqz	v0,25009590 <usb_sound_init+0xb4>
2500958e:	17f8      	b	25009580 <usb_sound_init+0xa4>
25009590:	b45a      	lw	a0,250096f8 <usb_sound_init+0x21c>
        //clear watchdog
        ;//act_writel(0x00000001 | (act_readl(WD_CTL)), WD_CTL);
    }

    //enable dp,dm DPDMCTRL
    act_writeb(0x1f | (act_readb(DPDMCTRL)), DPDMCTRL);
25009592:	b25a      	lw	v0,250096f8 <usb_sound_init+0x21c>
25009594:	a240      	lbu	v0,0(v0)
25009596:	6762      	move	v1,v0
25009598:	6a1f      	li	v0,31
2500959a:	ea6d      	or	v0,v1
2500959c:	c440      	sb	v0,0(a0)
2500959e:	6c0a      	li	a0,10

    sys_mdelay(10);
250095a0:	6d00      	li	a1,0
250095a2:	6e00      	li	a2,0
250095a4:	6f1d      	li	a3,29
250095a6:	b251      	lw	v0,250096e8 <usb_sound_init+0x20c>
250095a8:	eac0      	jalrc	v0
250095aa:	b455      	lw	a0,250096fc <usb_sound_init+0x220>

    //enbale sofeware id
    act_writeb(0x0f | (act_readb(IDVBUSCTRL)), IDVBUSCTRL);
250095ac:	b254      	lw	v0,250096fc <usb_sound_init+0x220>
250095ae:	a240      	lbu	v0,0(v0)
250095b0:	6762      	move	v1,v0
250095b2:	6a0f      	li	v0,15
250095b4:	ea6d      	or	v0,v1
250095b6:	c440      	sb	v0,0(a0)
250095b8:	6c05      	li	a0,5

    sys_mdelay(5);
250095ba:	6d00      	li	a1,0
250095bc:	6e00      	li	a2,0
250095be:	6f1d      	li	a3,29
250095c0:	b24a      	lw	v0,250096e8 <usb_sound_init+0x20c>
250095c2:	eac0      	jalrc	v0
250095c4:	b44f      	lw	a0,250096fc <usb_sound_init+0x220>

    //#ifndef FPGA_DEBUG
    //#endif

    //enable all memory clock
    act_writel(act_readl(CMU_MEMCLKEN) | 0x1ff, CMU_MEMCLKEN);
250095c6:	b24f      	lw	v0,25009700 <usb_sound_init+0x224>
250095c8:	9a60      	lw	v1,0(v0)
250095ca:	f1e0 6a1f 	li	v0,511
250095ce:	ea6d      	or	v0,v1
250095d0:	dc40      	sw	v0,0(a0)
250095d2:	b44d      	lw	a0,25009704 <usb_sound_init+0x228>

    //uram0
    act_writel((act_readl(CMU_MEMCLKSEL) & (~CMU_MEMCLKSEL_URAM0CLKSEL_MASK)) | (1 << CMU_MEMCLKSEL_URAM0CLKSEL_SHIFT),
250095d4:	b24c      	lw	v0,25009704 <usb_sound_init+0x228>
250095d6:	9a60      	lw	v1,0(v0)
250095d8:	b24c      	lw	v0,25009708 <usb_sound_init+0x22c>
250095da:	eb4c      	and	v1,v0
250095dc:	b24c      	lw	v0,2500970c <usb_sound_init+0x230>
250095de:	ea6d      	or	v0,v1
250095e0:	dc40      	sw	v0,0(a0)
250095e2:	b24c      	lw	v0,25009710 <usb_sound_init+0x234>
               CMU_MEMCLKSEL);

    //usound会使用0x30000-0x34000这一部分空间，因此要禁止这部分空间的使用
    sys_disable_mem_use(USOUND_DATA_BUFFER_ADDR, USOUND_DATA_BUFFER_ADDR + USOUND_DATA_BUFFER_SIZE);
250095e4:	b34c      	lw	v1,25009714 <usb_sound_init+0x238>
250095e6:	6782      	move	a0,v0
250095e8:	67a3      	move	a1,v1
250095ea:	6e00      	li	a2,0
250095ec:	6f53      	li	a3,83
250095ee:	b23f      	lw	v0,250096e8 <usb_sound_init+0x20c>
250095f0:	eac0      	jalrc	v0
250095f2:	b24a      	lw	v0,25009718 <usb_sound_init+0x23c>

    // pcm ram1 as buffer so it need select cpu clk
    //act_writel((act_readl(CMU_MEMCLKSEL) & (~CMU_MEMCLKSEL_PCMRAM1CLKSEL_MASK)) | (0
    //<< CMU_MEMCLKSEL_PCMRAM1CLKSEL_SHIFT), CMU_MEMCLKSEL);//pcmram1
    //register irq and enable usb isr
    sys_request_irq(IRQ_USB, usound_isr);
250095f4:	6c0a      	li	a0,10
250095f6:	67a2      	move	a1,v0
250095f8:	6e00      	li	a2,0
250095fa:	6f14      	li	a3,20
250095fc:	b23b      	lw	v0,250096e8 <usb_sound_init+0x20c>
250095fe:	eac0      	jalrc	v0
25009600:	6c84      	li	a0,132

    //#ifndef FPGA_DEBUG
    //usb_phy_setting(0xe0, 0xa3);
    //usb_phy_setting(0xe7, 0x0b);
    //usb_phy_setting(0xe7, 0x1f);
    //#endif
    usb_phy_setting(0x84, 0x1a);
25009602:	6d1a      	li	a1,26
25009604:	180a 2500 	jal	25009400 <KERNEL_BANK_B_ADDR_BASE>
25009608:	6500      	nop
2500960a:	6ce0      	li	a0,224
    usb_phy_setting(0xe0, 0xa3);
2500960c:	6da3      	li	a1,163
2500960e:	180a 2500 	jal	25009400 <KERNEL_BANK_B_ADDR_BASE>
25009612:	6500      	nop
25009614:	6ce6      	li	a0,230
    usb_phy_setting(0xe6, 0x8d);
25009616:	6d8d      	li	a1,141
25009618:	180a 2500 	jal	25009400 <KERNEL_BANK_B_ADDR_BASE>
2500961c:	6500      	nop
2500961e:	6ce7      	li	a0,231
    usb_phy_setting(0xe7, 0x2b);
25009620:	6d2b      	li	a1,43
25009622:	180a 2500 	jal	25009400 <KERNEL_BANK_B_ADDR_BASE>
25009626:	6500      	nop
25009628:	6ce7      	li	a0,231
    usb_phy_setting(0xe7, 0x3f);
2500962a:	6d3f      	li	a1,63
2500962c:	180a 2500 	jal	25009400 <KERNEL_BANK_B_ADDR_BASE>
25009630:	6500      	nop
25009632:	b43b      	lw	a0,2500971c <usb_sound_init+0x240>

    act_writeb(0x01 | act_readb(Usbirq_hcusbirq), Usbirq_hcusbirq);
25009634:	b23a      	lw	v0,2500971c <usb_sound_init+0x240>
25009636:	a240      	lbu	v0,0(v0)
25009638:	6762      	move	v1,v0
2500963a:	6a01      	li	v0,1
2500963c:	ea6d      	or	v0,v1
2500963e:	c440      	sb	v0,0(a0)
25009640:	b438      	lw	a0,25009720 <usb_sound_init+0x244>
    act_writeb(0x01 | act_readb(Usbien_hcusbien), Usbien_hcusbien);
25009642:	b238      	lw	v0,25009720 <usb_sound_init+0x244>
25009644:	a240      	lbu	v0,0(v0)
25009646:	6762      	move	v1,v0
25009648:	6a01      	li	v0,1
2500964a:	ea6d      	or	v0,v1
2500964c:	c440      	sb	v0,0(a0)
2500964e:	b436      	lw	a0,25009724 <usb_sound_init+0x248>
    act_writeb(0x02 | act_readb(OUT03TOKIEN), OUT03TOKIEN);
25009650:	b235      	lw	v0,25009724 <usb_sound_init+0x248>
25009652:	a240      	lbu	v0,0(v0)
25009654:	6762      	move	v1,v0
25009656:	6a02      	li	v0,2
25009658:	ea6d      	or	v0,v1
2500965a:	c440      	sb	v0,0(a0)
2500965c:	b433      	lw	a0,25009728 <usb_sound_init+0x24c>
    act_writeb(0x02 | act_readb(OUT03TOKIRQ), OUT03TOKIRQ);
2500965e:	b233      	lw	v0,25009728 <usb_sound_init+0x24c>
25009660:	a240      	lbu	v0,0(v0)
25009662:	6762      	move	v1,v0
25009664:	6a02      	li	v0,2
25009666:	ea6d      	or	v0,v1
25009668:	c440      	sb	v0,0(a0)
2500966a:	b431      	lw	a0,2500972c <usb_sound_init+0x250>
#ifdef _USB_RECORD_
    act_writeb(0x02 | act_readb(IN03TOKIEN), IN03TOKIEN);
2500966c:	b230      	lw	v0,2500972c <usb_sound_init+0x250>
2500966e:	a240      	lbu	v0,0(v0)
25009670:	6762      	move	v1,v0
25009672:	6a02      	li	v0,2
25009674:	ea6d      	or	v0,v1
25009676:	c440      	sb	v0,0(a0)
25009678:	b42e      	lw	a0,25009730 <usb_sound_init+0x254>
#endif
    act_writeb(0x06 | act_readb(IN03TOKIRQ), IN03TOKIRQ);
2500967a:	b22e      	lw	v0,25009730 <usb_sound_init+0x254>
2500967c:	a240      	lbu	v0,0(v0)
2500967e:	6762      	move	v1,v0
25009680:	6a06      	li	v0,6
25009682:	ea6d      	or	v0,v1
25009684:	c440      	sb	v0,0(a0)
25009686:	b42c      	lw	a0,25009734 <usb_sound_init+0x258>
    act_writeb((uint8) 0x88 | act_readb(USBEIRQ), USBEIRQ);//enable external irq USBEIRQ
25009688:	b22b      	lw	v0,25009734 <usb_sound_init+0x258>
2500968a:	a240      	lbu	v0,0(v0)
2500968c:	6b78      	li	v1,120
2500968e:	eb6b      	neg	v1
25009690:	ea6d      	or	v0,v1
25009692:	c440      	sb	v0,0(a0)
25009694:	b329      	lw	v1,25009738 <usb_sound_init+0x25c>

    act_writeb(0x00, UsbCTRL_STUS);
25009696:	6a00      	li	v0,0
25009698:	c340      	sb	v0,0(v1)
2500969a:	b329      	lw	v1,2500973c <usb_sound_init+0x260>
    act_writeb((uint8) 0x80, BKDOOR); //disable high speed
2500969c:	6a80      	li	v0,128
2500969e:	ea4b      	neg	v0
250096a0:	c340      	sb	v0,0(v1)
250096a2:	b228      	lw	v0,25009740 <usb_sound_init+0x264>

#ifdef _USB_RECORD_
    //release irq
    sys_request_irq(IRQ_DMA0, cap_adc_dma_isr);
250096a4:	6c12      	li	a0,18
250096a6:	67a2      	move	a1,v0
250096a8:	6e00      	li	a2,0
250096aa:	6f14      	li	a3,20
250096ac:	b20f      	lw	v0,250096e8 <usb_sound_init+0x20c>
250096ae:	eac0      	jalrc	v0
250096b0:	9966      	lw	v1,24(s1)
#endif
    //set asrc amd memory
    //sound_init();
    *p_isr_cbk = usound_isr_cbk;
250096b2:	b225      	lw	v0,25009744 <usb_sound_init+0x268>
250096b4:	db40      	sw	v0,0(v1)
250096b6:	b325      	lw	v1,25009748 <usb_sound_init+0x26c>
    //init is zero
    g_pagemiss_cb_bak = 0;
250096b8:	6a00      	li	v0,0
250096ba:	db40      	sw	v0,0(v1)
250096bc:	b023      	lw	s0,25009748 <usb_sound_init+0x26c>
    g_pagemiss_cb_bak = sys_set_sys_info(usound_isr_cbk, SYS_INFO_PAGEMISS_CALLBACK);
250096be:	b222      	lw	v0,25009744 <usb_sound_init+0x268>
250096c0:	6782      	move	a0,v0
250096c2:	6d02      	li	a1,2
250096c4:	6e00      	li	a2,0
250096c6:	6f36      	li	a3,54
250096c8:	b208      	lw	v0,250096e8 <usb_sound_init+0x20c>
250096ca:	eac0      	jalrc	v0
250096cc:	d840      	sw	v0,0(s0)
250096ce:	b220      	lw	v0,2500974c <usb_sound_init+0x270>
    descriptor_init();
250096d0:	eac0      	jalrc	v0
250096d2:	65b9      	move	sp,s1
}
250096d4:	6473      	restore	24,ra,s0-s1
250096d6:	e8a0      	jrc	ra
250096d8:	0004      	addiu	s0,sp,16
250096da:	c002      	sb	s0,2(s0)
250096dc:	1004      	b	250096e6 <usb_sound_init+0x20a>
250096de:	c000      	sb	s0,0(s0)
250096e0:	0000      	addiu	s0,sp,0
250096e2:	c000      	sb	s0,0(s0)
250096e4:	0000      	addiu	s0,sp,0
250096e6:	0001      	addiu	s0,sp,4
250096e8:	8ea1      	lh	a1,2(a2)
250096ea:	bfc1      	lwu	a2,4(a3)
250096ec:	041b      	addiu	a0,sp,108
250096ee:	c008      	sb	s0,8(s0)
250096f0:	0422      	addiu	a0,sp,136
250096f2:	c008      	sb	s0,8(s0)
250096f4:	0419      	addiu	a0,sp,100
250096f6:	c008      	sb	s0,8(s0)
250096f8:	041a      	addiu	a0,sp,104
250096fa:	c008      	sb	s0,8(s0)
250096fc:	0418      	addiu	a0,sp,96
250096fe:	c008      	sb	s0,8(s0)
25009700:	1040      	b	25009782 <usb_device_exit+0x32>
25009702:	c000      	sb	s0,0(s0)
25009704:	1044      	b	2500978e <usb_device_exit+0x3e>
25009706:	c000      	sb	s0,0(s0)
25009708:	ffff      	daddiu	a3,sp,124
2500970a:	ffcf      	daddiu	a2,sp,60
2500970c:	0000      	addiu	s0,sp,0
2500970e:	0010      	addiu	s0,sp,64
25009710:	0000      	addiu	s0,sp,0
25009712:	0003      	addiu	s0,sp,12
25009714:	4000      	addiu	s0,s0,0
25009716:	0003      	addiu	s0,sp,12
25009718:	80f5      	lb	a3,21(s0)
2500971a:	bfc1      	lwu	a2,4(a3)
2500971c:	018c      	addiu	s1,sp,560
2500971e:	c008      	sb	s0,8(s0)
25009720:	0198      	addiu	s1,sp,608
25009722:	c008      	sb	s0,8(s0)
25009724:	019d      	addiu	s1,sp,628
25009726:	c008      	sb	s0,8(s0)
25009728:	0191      	addiu	s1,sp,580
2500972a:	c008      	sb	s0,8(s0)
2500972c:	019c      	addiu	s1,sp,624
2500972e:	c008      	sb	s0,8(s0)
25009730:	0190      	addiu	s1,sp,576
25009732:	c008      	sb	s0,8(s0)
25009734:	0400      	addiu	a0,sp,0
25009736:	c008      	sb	s0,8(s0)
25009738:	01a3      	addiu	s1,sp,652
2500973a:	c008      	sb	s0,8(s0)
2500973c:	040b      	addiu	a0,sp,44
2500973e:	c008      	sb	s0,8(s0)
25009740:	7c35      	sd	s1,168(a0)
25009742:	bfc1      	lwu	a2,4(a3)
25009744:	81b9      	lb	a1,25(s1)
25009746:	bfc1      	lwu	a2,4(a3)
25009748:	94c0      	lw	a0,768(sp)
2500974a:	9fc1      	lw	a2,4(a3)
2500974c:	95c5      	lw	a1,788(sp)
2500974e:	2504      	beqz	a1,25009758 <usb_device_exit+0x8>

25009750 <usb_device_exit>:
25009750:	64d4      	save	32,ra,s1
 * \par
 * \note
 *******************************************************************************/
void usb_device_exit(void)
{
25009752:	0104      	addiu	s1,sp,16
25009754:	6c12      	li	a0,18
    //close usb isr
    //#ifndef FPGA_DEBUG
    uint8 efuse_reg;
    //sys_mdelay(40);
    //#endif
#ifdef _USB_RECORD_
    sys_free_irq(IRQ_DMA0);
25009756:	6d00      	li	a1,0
25009758:	6e00      	li	a2,0
2500975a:	6f15      	li	a3,21
2500975c:	b24c      	lw	v0,2500988c <usb_device_exit+0x13c>
2500975e:	eac0      	jalrc	v0
25009760:	b24c      	lw	v0,2500988c <usb_device_exit+0x13c>
#endif

    sys_set_sys_info(g_pagemiss_cb_bak, SYS_INFO_PAGEMISS_CALLBACK);
25009762:	9a40      	lw	v0,0(v0)
25009764:	6782      	move	a0,v0
25009766:	6d02      	li	a1,2
25009768:	6e00      	li	a2,0
2500976a:	6f36      	li	a3,54
2500976c:	b248      	lw	v0,2500988c <usb_device_exit+0x13c>
2500976e:	eac0      	jalrc	v0
25009770:	6c0a      	li	a0,10
    sys_free_irq(IRQ_USB);
25009772:	6d00      	li	a1,0
25009774:	6e00      	li	a2,0
25009776:	6f15      	li	a3,21
25009778:	b245      	lw	v0,2500988c <usb_device_exit+0x13c>
2500977a:	eac0      	jalrc	v0
2500977c:	b446      	lw	a0,25009890 <usb_device_exit+0x140>

    //sound_deinit();

    //reset usb moudule
    act_writel((~(1 << MRCR_USBReset2)) & act_readl(MRCR), MRCR);
2500977e:	b246      	lw	v0,25009894 <usb_device_exit+0x144>
25009780:	9a60      	lw	v1,0(v0)
25009782:	b246      	lw	v0,25009898 <usb_device_exit+0x148>
25009784:	ea6c      	and	v0,v1
25009786:	dc40      	sw	v0,0(a0)
25009788:	6c01      	li	a0,1
    sys_mdelay(1);
2500978a:	6d00      	li	a1,0
2500978c:	6e00      	li	a2,0
2500978e:	6f1d      	li	a3,29
25009790:	b23f      	lw	v0,2500988c <usb_device_exit+0x13c>
25009792:	eac0      	jalrc	v0
25009794:	b440      	lw	a0,25009890 <usb_device_exit+0x140>

    act_writel((1 << MRCR_USBReset2) | act_readl(MRCR), MRCR);
25009796:	b240      	lw	v0,25009894 <usb_device_exit+0x144>
25009798:	9a60      	lw	v1,0(v0)
2500979a:	b241      	lw	v0,2500989c <usb_device_exit+0x14c>
2500979c:	ea6d      	or	v0,v1
2500979e:	dc40      	sw	v0,0(a0)
250097a0:	6c02      	li	a0,2

    sys_mdelay(2);
250097a2:	6d00      	li	a1,0
250097a4:	6e00      	li	a2,0
250097a6:	6f1d      	li	a3,29
250097a8:	b239      	lw	v0,2500988c <usb_device_exit+0x13c>
250097aa:	eac0      	jalrc	v0
250097ac:	b43a      	lw	a0,25009890 <usb_device_exit+0x140>

    act_writel((~(1 << MRCR_USBReset)) & act_readl(MRCR), MRCR);
250097ae:	b23a      	lw	v0,25009894 <usb_device_exit+0x144>
250097b0:	9a60      	lw	v1,0(v0)
250097b2:	f200 6a01 	li	v0,513
250097b6:	ea4b      	neg	v0
250097b8:	ea6c      	and	v0,v1
250097ba:	dc40      	sw	v0,0(a0)
250097bc:	6c01      	li	a0,1
    //system interface
    sys_mdelay(1);
250097be:	6d00      	li	a1,0
250097c0:	6e00      	li	a2,0
250097c2:	6f1d      	li	a3,29
250097c4:	b232      	lw	v0,2500988c <usb_device_exit+0x13c>
250097c6:	eac0      	jalrc	v0
250097c8:	b433      	lw	a0,25009890 <usb_device_exit+0x140>

    //set usb moudule to normal state
    act_writel((1 << MRCR_USBReset) | act_readl(MRCR), MRCR);
250097ca:	b233      	lw	v0,25009894 <usb_device_exit+0x144>
250097cc:	9a60      	lw	v1,0(v0)
250097ce:	f200 6a00 	li	v0,512
250097d2:	ea6d      	or	v0,v1
250097d4:	dc40      	sw	v0,0(a0)
250097d6:	b433      	lw	a0,250098a0 <usb_device_exit+0x150>

    //enable usb phy pll USB_PHYCTRL
    act_writeb(((uint8) 0xc0 | (act_readb(USB_PHYCTRL))), USB_PHYCTRL);
250097d8:	b232      	lw	v0,250098a0 <usb_device_exit+0x150>
250097da:	a240      	lbu	v0,0(v0)
250097dc:	6b40      	li	v1,64
250097de:	eb6b      	neg	v1
250097e0:	ea6d      	or	v0,v1
250097e2:	c440      	sb	v0,0(a0)
250097e4:	6c01      	li	a0,1
    sys_mdelay(1);
250097e6:	6d00      	li	a1,0
250097e8:	6e00      	li	a2,0
250097ea:	6f1d      	li	a3,29
250097ec:	b228      	lw	v0,2500988c <usb_device_exit+0x13c>
250097ee:	eac0      	jalrc	v0
250097f0:	b32d      	lw	v1,250098a0 <usb_device_exit+0x150>

    //#ifndef FPGA_DEBUG
    //set efuse
    act_writeb(0x00, USB_EFUSE_REF);
250097f2:	6a00      	li	v0,0
250097f4:	c340      	sb	v0,0(v1)
250097f6:	b22c      	lw	v0,250098a4 <usb_device_exit+0x154>
    efuse_reg = act_readb(USB_EFUSE_REF);
250097f8:	a240      	lbu	v0,0(v0)
250097fa:	c140      	sb	v0,0(s1)
250097fc:	b32a      	lw	v1,250098a4 <usb_device_exit+0x154>
    act_writeb(0x80, USB_EFUSE_REF);
250097fe:	6a80      	li	v0,128
25009800:	ea4b      	neg	v0
25009802:	c340      	sb	v0,0(v1)
25009804:	b528      	lw	a1,250098a4 <usb_device_exit+0x154>
    act_writeb((act_readb(USB_EFUSE_REF) | efuse_reg), USB_EFUSE_REF);
25009806:	b228      	lw	v0,250098a4 <usb_device_exit+0x154>
25009808:	a240      	lbu	v0,0(v0)
2500980a:	a160      	lbu	v1,0(s1)
2500980c:	6782      	move	a0,v0
2500980e:	6743      	move	v0,v1
25009810:	ea8d      	or	v0,a0
25009812:	c540      	sb	v0,0(a1)
25009814:	6c01      	li	a0,1
    //#endif

    sys_mdelay(1);
25009816:	6d00      	li	a1,0
25009818:	6e00      	li	a2,0
2500981a:	6f1d      	li	a3,29
2500981c:	b21c      	lw	v0,2500988c <usb_device_exit+0x13c>
2500981e:	eac0      	jalrc	v0
25009820:	b222      	lw	v0,250098a4 <usb_device_exit+0x154>

    //wait reset complete
    while(0 != ((act_readb(LINESTATUS)) & 0x01)) {
25009822:	a240      	lbu	v0,0(v0)
25009824:	6762      	move	v1,v0
25009826:	eb11      	zeb	v1
25009828:	6a01      	li	v0,1
2500982a:	ea6c      	and	v0,v1
2500982c:	2201      	beqz	v0,25009830 <usb_device_exit+0xe0>
2500982e:	17f8      	b	25009820 <usb_device_exit+0xd0>
25009830:	6c0a      	li	a0,10
        //clear watchdog
        ;//act_writel(0x00000001 | (act_readl(WD_CTL)), WD_CTL);
    }

    //disable dp,dm DPDMCTRL
    //act_writeb(0xe0 & (act_readb(DPDMCTRL)), DPDMCTRL);

    sys_mdelay(10);
25009832:	6d00      	li	a1,0
25009834:	6e00      	li	a2,0
25009836:	6f1d      	li	a3,29
25009838:	b215      	lw	v0,2500988c <usb_device_exit+0x13c>
2500983a:	eac0      	jalrc	v0
2500983c:	b51c      	lw	a1,250098a8 <usb_device_exit+0x158>

    //disable sofeware id
    act_writeb((uint8) 0xfb & (act_readb(IDVBUSCTRL)), IDVBUSCTRL);
2500983e:	b21c      	lw	v0,250098ac <usb_device_exit+0x15c>
25009840:	6c05      	li	a0,5
25009842:	ec8b      	neg	a0
25009844:	a240      	lbu	v0,0(v0)
25009846:	6762      	move	v1,v0
25009848:	6744      	move	v0,a0
2500984a:	ea6c      	and	v0,v1
2500984c:	c540      	sb	v0,0(a1)
2500984e:	6c05      	li	a0,5

    sys_mdelay(5);
25009850:	6d00      	li	a1,0
25009852:	6e00      	li	a2,0
25009854:	6f1d      	li	a3,29
25009856:	b20e      	lw	v0,2500988c <usb_device_exit+0x13c>
25009858:	eac0      	jalrc	v0
2500985a:	b316      	lw	v1,250098b0 <usb_device_exit+0x160>

    //usb disconnect
    act_writeb(0x40, UsbCTRL_STUS);
2500985c:	6a40      	li	v0,64
2500985e:	c340      	sb	v0,0(v1)
25009860:	b415      	lw	a0,250098b4 <usb_device_exit+0x164>

    //switch memory to MCU
    act_writel(act_readl(CMU_MEMCLKSEL) & (~CMU_MEMCLKSEL_URAM0CLKSEL_MASK), CMU_MEMCLKSEL);
25009862:	b215      	lw	v0,250098b4 <usb_device_exit+0x164>
25009864:	9a60      	lw	v1,0(v0)
25009866:	b215      	lw	v0,250098b8 <usb_device_exit+0x168>
25009868:	ea6c      	and	v0,v1
2500986a:	dc40      	sw	v0,0(a0)
2500986c:	b412      	lw	a0,250098b4 <usb_device_exit+0x164>
    act_writel(act_readl(CMU_MEMCLKSEL) & (~CMU_MEMCLKSEL_URAM1CLKSEL_MASK), CMU_MEMCLKSEL);
2500986e:	b212      	lw	v0,250098b4 <usb_device_exit+0x164>
25009870:	9a60      	lw	v1,0(v0)
25009872:	b213      	lw	v0,250098bc <usb_device_exit+0x16c>
25009874:	ea6c      	and	v0,v1
25009876:	dc40      	sw	v0,0(a0)
25009878:	b40a      	lw	a0,250098a0 <usb_device_exit+0x150>

    //disable usb phy pll USB_PHYCTRL
    act_writeb(0x3f & act_readb(USB_PHYCTRL), USB_PHYCTRL);
2500987a:	b20a      	lw	v0,250098a0 <usb_device_exit+0x150>
2500987c:	a240      	lbu	v0,0(v0)
2500987e:	6762      	move	v1,v0
25009880:	6a3f      	li	v0,63
25009882:	ea6c      	and	v0,v1
25009884:	c440      	sb	v0,0(a0)
25009886:	65b9      	move	sp,s1

}
25009888:	6452      	restore	16,ra,s1
2500988a:	e8a0      	jrc	ra
2500988c:	8ea1      	lh	a1,2(a2)
2500988e:	bfc1      	lwu	a2,4(a3)
25009890:	94c0      	lw	a0,768(sp)
25009892:	9fc1      	lw	a2,4(a3)
25009894:	0000      	addiu	s0,sp,0
25009896:	c000      	sb	s0,0(s0)
25009898:	ffff      	daddiu	a3,sp,124
2500989a:	fffe      	daddiu	a3,sp,120
2500989c:	0000      	addiu	s0,sp,0
2500989e:	0001      	addiu	s0,sp,4
250098a0:	041b      	addiu	a0,sp,108
250098a2:	c008      	sb	s0,8(s0)
250098a4:	0422      	addiu	a0,sp,136
250098a6:	c008      	sb	s0,8(s0)
250098a8:	0419      	addiu	a0,sp,100
250098aa:	c008      	sb	s0,8(s0)
250098ac:	0418      	addiu	a0,sp,96
250098ae:	c008      	sb	s0,8(s0)
250098b0:	01a3      	addiu	s1,sp,652
250098b2:	c008      	sb	s0,8(s0)
250098b4:	1044      	b	2500993e <cleanup_module+0x5a>
250098b6:	c000      	sb	s0,0(s0)
250098b8:	ffff      	daddiu	a3,sp,124
250098ba:	ffcf      	daddiu	a2,sp,60
250098bc:	ffff      	daddiu	a3,sp,124
250098be:	fcff      	ld	a3,250099b0 <cleanup_module+0xcc>

250098c0 <init_module>:
250098c0:	64d3      	save	24,ra,s1
 * \par
 * \note
 *******************************************************************************/
int usb_init(void *null1, void *null2, void *null3)
{
250098c2:	0104      	addiu	s1,sp,16
250098c4:	d982      	sw	a0,8(s1)
250098c6:	d9a3      	sw	a1,12(s1)
250098c8:	d9c4      	sw	a2,16(s1)
250098ca:	6c02      	li	a0,2
    sys_set_mem_use_info(MEM_USE_USOUND);
250098cc:	6d0c      	li	a1,12
250098ce:	6e00      	li	a2,0
250098d0:	6f36      	li	a3,54
250098d2:	b204      	lw	v0,250098e0 <init_module+0x20>
250098d4:	eac0      	jalrc	v0
250098d6:	6a00      	li	v0,0
    return 0;
250098d8:	65b9      	move	sp,s1
}
250098da:	6451      	restore	8,ra,s1
250098dc:	e8a0      	jrc	ra
250098de:	0000      	addiu	s0,sp,0
250098e0:	8ea1      	lh	a1,2(a2)
250098e2:	bfc1      	lwu	a2,4(a3)

250098e4 <cleanup_module>:
250098e4:	64d3      	save	24,ra,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   init usb
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_init.c
 * \par
 * \note
 *******************************************************************************/
int usb_exit(void *null1, void *null2, void *null3)
{
250098e6:	0104      	addiu	s1,sp,16
250098e8:	d982      	sw	a0,8(s1)
250098ea:	d9a3      	sw	a1,12(s1)
250098ec:	d9c4      	sw	a2,16(s1)
250098ee:	6c02      	li	a0,2
    sys_set_mem_use_info(MEM_USE_USOUND);
250098f0:	6d0c      	li	a1,12
250098f2:	6e00      	li	a2,0
250098f4:	6f36      	li	a3,54
250098f6:	b204      	lw	v0,25009904 <cleanup_module+0x20>
250098f8:	eac0      	jalrc	v0
250098fa:	6a00      	li	v0,0
    return 0;
250098fc:	65b9      	move	sp,s1
}
250098fe:	6451      	restore	8,ra,s1
25009900:	e8a0      	jrc	ra
25009902:	0000      	addiu	s0,sp,0
25009904:	8ea1      	lh	a1,2(a2)
25009906:	bfc1      	lwu	a2,4(a3)
Disassembly of section BANK_B_1:

25049400 <set_usb_cfg_param>:
25049400:	64d4      	save	32,ra,s1
 * \par
 * \note
 *******************************************************************************/
int set_usb_cfg_param(uint32 index, uint32 *cfg_info, uint32 cfg_len)
{
25049402:	0104      	addiu	s1,sp,16
25049404:	d984      	sw	a0,16(s1)
25049406:	d9a5      	sw	a1,20(s1)
25049408:	d9c6      	sw	a2,24(s1)
2504940a:	6a00      	li	v0,0
    uint32 *set_p = NULL;
2504940c:	d940      	sw	v0,0(s1)
2504940e:	6a01      	li	v0,1
    int32 ret_val = -1;
25049410:	ea4b      	neg	v0
25049412:	d941      	sw	v0,4(s1)
25049414:	9944      	lw	v0,16(s1)
    switch(index) {
25049416:	5a08      	sltiu	v0,8
25049418:	602a      	bteqz	2504946e <set_usb_cfg_param+0x6e>
2504941a:	9944      	lw	v0,16(s1)
2504941c:	3344      	sll	v1,v0,1
2504941e:	0a05      	la	v0,25049430 <set_usb_cfg_param+0x30>
25049420:	e349      	addu	v0,v1,v0
25049422:	aa40      	lhu	v0,0(v0)
25049424:	6762      	move	v1,v0
25049426:	ebb1      	seh	v1
25049428:	b223      	lw	v0,250494b4 <set_usb_cfg_param+0xb4>
2504942a:	e349      	addu	v0,v1,v0
2504942c:	ea80      	jrc	v0
2504942e:	0000      	addiu	s0,sp,0
25049430:	0011      	addiu	s0,sp,68
25049432:	0017      	addiu	s0,sp,92
25049434:	001d      	addiu	s0,sp,116
25049436:	0023      	addiu	s0,sp,140
25049438:	0029      	addiu	s0,sp,164
2504943a:	002f      	addiu	s0,sp,188
2504943c:	0035      	addiu	s0,sp,212
2504943e:	003b      	addiu	s0,sp,236
25049440:	b215      	lw	v0,25049494 <set_usb_cfg_param+0x94>
        case 0:
            set_p = (uint32 *) g_usb_vid;
25049442:	d940      	sw	v0,0(s1)
25049444:	1014      	b	2504946e <set_usb_cfg_param+0x6e>
            break;
25049446:	b215      	lw	v0,25049498 <set_usb_cfg_param+0x98>
        case 1:
            set_p = (uint32 *) g_usb_pid;
25049448:	d940      	sw	v0,0(s1)
2504944a:	1011      	b	2504946e <set_usb_cfg_param+0x6e>
            break;
2504944c:	b214      	lw	v0,2504949c <set_usb_cfg_param+0x9c>
        case 2:
            set_p = (uint32 *) &manufacure_string.wManufacturerName;
2504944e:	d940      	sw	v0,0(s1)
25049450:	100e      	b	2504946e <set_usb_cfg_param+0x6e>
            break;
25049452:	b214      	lw	v0,250494a0 <set_usb_cfg_param+0xa0>
        case 3:
            set_p = (uint32 *) &device_name_string.wProductName;
25049454:	d940      	sw	v0,0(s1)
25049456:	100b      	b	2504946e <set_usb_cfg_param+0x6e>
            break;
25049458:	b213      	lw	v0,250494a4 <set_usb_cfg_param+0xa4>
        case 4:
            set_p = &g_volume_flag;
2504945a:	d940      	sw	v0,0(s1)
2504945c:	1008      	b	2504946e <set_usb_cfg_param+0x6e>
            break;
2504945e:	b213      	lw	v0,250494a8 <set_usb_cfg_param+0xa8>
        case 5:
            set_p = (uint32 *) g_usb_bcd;
25049460:	d940      	sw	v0,0(s1)
25049462:	1005      	b	2504946e <set_usb_cfg_param+0x6e>
            break;
25049464:	b212      	lw	v0,250494ac <set_usb_cfg_param+0xac>
        case 6:
            set_p = (uint32 *) &SerialNumber.wManufacturerName;
25049466:	d940      	sw	v0,0(s1)
25049468:	1002      	b	2504946e <set_usb_cfg_param+0x6e>
            break;
2504946a:	b212      	lw	v0,250494b0 <set_usb_cfg_param+0xb0>
        case 7:
            set_p = &g_audio_sample_set;
2504946c:	d940      	sw	v0,0(s1)
2504946e:	9940      	lw	v0,0(s1)
            break;
        default:
            break;
    }

    if(set_p != NULL) {
25049470:	220a      	beqz	v0,25049486 <set_usb_cfg_param+0x86>
25049472:	9940      	lw	v0,0(s1)
        libc_memcpy((uint8 *) set_p, (uint8 *) cfg_info, cfg_len);
25049474:	9965      	lw	v1,20(s1)
25049476:	99c6      	lw	a2,24(s1)
25049478:	6782      	move	a0,v0
2504947a:	67a3      	move	a1,v1
2504947c:	6f00      	li	a3,0
2504947e:	b20f      	lw	v0,250494b8 <set_usb_cfg_param+0xb8>
25049480:	eac0      	jalrc	v0
25049482:	6a00      	li	v0,0
        ret_val = 0;
25049484:	d941      	sw	v0,4(s1)
25049486:	9941      	lw	v0,4(s1)
    }

    return ret_val;
25049488:	651a      	move	t8,v0
2504948a:	6758      	move	v0,t8
}
2504948c:	65b9      	move	sp,s1
2504948e:	6452      	restore	16,ra,s1
25049490:	e8a0      	jrc	ra
25049492:	0000      	addiu	s0,sp,0
25049494:	939c      	lw	v1,624(sp)
25049496:	9fc1      	lw	a2,4(a3)
25049498:	93a4      	lw	v1,656(sp)
2504949a:	9fc1      	lw	a2,4(a3)
2504949c:	9286      	lw	v0,536(sp)
2504949e:	9fc1      	lw	a2,4(a3)
250494a0:	9262      	lw	v0,392(sp)
250494a2:	9fc1      	lw	a2,4(a3)
250494a4:	94b8      	lw	a0,736(sp)
250494a6:	9fc1      	lw	a2,4(a3)
250494a8:	93ac      	lw	v1,688(sp)
250494aa:	9fc1      	lw	a2,4(a3)
250494ac:	929a      	lw	v0,616(sp)
250494ae:	9fc1      	lw	a2,4(a3)
250494b0:	94b4      	lw	a0,720(sp)
250494b2:	9fc1      	lw	a2,4(a3)
250494b4:	9430      	lw	a0,192(sp)
250494b6:	2504      	beqz	a1,250494c0 <count_string_charlngth+0x4>
250494b8:	8e9d      	lh	a0,58(a2)
250494ba:	bfc1      	lwu	a2,4(a3)

250494bc <count_string_charlngth>:
250494bc:	6492      	save	16,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   count string lenth.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
uint8 count_string_charlngth(uint8 *pstraddr, uint8 strlgth)
{
250494be:	673d      	move	s1,sp
250494c0:	d984      	sw	a0,16(s1)
250494c2:	6745      	move	v0,a1
250494c4:	c154      	sb	v0,20(s1)
250494c6:	6a00      	li	v0,0
    unsigned char charcounter = 0x00;
250494c8:	c140      	sb	v0,0(s1)
250494ca:	6a00      	li	v0,0
    unsigned char i;
    for(i = 0; i < strlgth; i++) {
250494cc:	c141      	sb	v0,1(s1)
250494ce:	a141      	lbu	v0,1(s1)
250494d0:	a174      	lbu	v1,20(s1)
250494d2:	ea63      	sltu	v0,v1
250494d4:	600e      	bteqz	250494f2 <count_string_charlngth+0x36>
250494d6:	9944      	lw	v0,16(s1)
        if(*pstraddr == 0) {
250494d8:	a240      	lbu	v0,0(v0)
250494da:	2a01      	bnez	v0,250494de <count_string_charlngth+0x22>
250494dc:	100a      	b	250494f2 <count_string_charlngth+0x36>
            break;
250494de:	a140      	lbu	v0,0(s1)
        }
        charcounter++;
250494e0:	4241      	addiu	v0,v0,1
250494e2:	c140      	sb	v0,0(s1)
250494e4:	9944      	lw	v0,16(s1)
        pstraddr++;
250494e6:	4241      	addiu	v0,v0,1
250494e8:	d944      	sw	v0,16(s1)
250494ea:	a141      	lbu	v0,1(s1)
250494ec:	4241      	addiu	v0,v0,1
250494ee:	c141      	sb	v0,1(s1)
250494f0:	17ee      	b	250494ce <count_string_charlngth+0x12>
250494f2:	a140      	lbu	v0,0(s1)
    }
    return charcounter;
250494f4:	651a      	move	t8,v0
250494f6:	6758      	move	v0,t8
}
250494f8:	65b9      	move	sp,s1
250494fa:	6412      	restore	16,s1
250494fc:	e8a0      	jrc	ra
	...

25049500 <cnvrt_ascii_to_uni16>:
25049500:	6492      	save	16,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   ASCII code to unique code.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
void cnvrt_ascii_to_uni16(uint8 *pstraddr, uint8 strlgth)
{
25049502:	673d      	move	s1,sp
25049504:	d984      	sw	a0,16(s1)
25049506:	6745      	move	v0,a1
25049508:	c154      	sb	v0,20(s1)
2504950a:	a174      	lbu	v1,20(s1)
    uint8 *data_p1;
    uint8 *data_p2;

    //数组的下标从0开始
    data_p1 = pstraddr + (strlgth - 1); //The last byte address
2504950c:	9944      	lw	v0,16(s1)
2504950e:	e349      	addu	v0,v1,v0
25049510:	424f      	addiu	v0,v0,-1
25049512:	d940      	sw	v0,0(s1)
25049514:	a154      	lbu	v0,20(s1)
    data_p2 = pstraddr + (strlgth - 1) * 2 + 1; //the data address to be load
25049516:	3344      	sll	v1,v0,1
25049518:	9944      	lw	v0,16(s1)
2504951a:	e349      	addu	v0,v1,v0
2504951c:	424f      	addiu	v0,v0,-1
2504951e:	d941      	sw	v0,4(s1)
25049520:	a154      	lbu	v0,20(s1)

    //当ASCII码长度为0或1时作下面的转换会覆盖地址指向memory之前的数据
    while(strlgth != 0x00) {
25049522:	2214      	beqz	v0,2504954c <cnvrt_ascii_to_uni16+0x4c>
25049524:	9961      	lw	v1,4(s1)
        *data_p2 = 0x00;
25049526:	6a00      	li	v0,0
25049528:	c340      	sb	v0,0(v1)
2504952a:	9941      	lw	v0,4(s1)
        data_p2--;
2504952c:	424f      	addiu	v0,v0,-1
2504952e:	d941      	sw	v0,4(s1)
25049530:	9961      	lw	v1,4(s1)
        *data_p2 = *data_p1; //Original ASCII char
25049532:	9940      	lw	v0,0(s1)
25049534:	a240      	lbu	v0,0(v0)
25049536:	c340      	sb	v0,0(v1)
25049538:	9940      	lw	v0,0(s1)

        data_p1--;
2504953a:	424f      	addiu	v0,v0,-1
2504953c:	d940      	sw	v0,0(s1)
2504953e:	9941      	lw	v0,4(s1)
        data_p2--;
25049540:	424f      	addiu	v0,v0,-1
25049542:	d941      	sw	v0,4(s1)
25049544:	a154      	lbu	v0,20(s1)
        strlgth--;
25049546:	424f      	addiu	v0,v0,-1
25049548:	c154      	sb	v0,20(s1)
2504954a:	17ea      	b	25049520 <cnvrt_ascii_to_uni16+0x20>
2504954c:	65b9      	move	sp,s1
    }
}
2504954e:	6412      	restore	16,s1
25049550:	e8a0      	jrc	ra
	...

25049554 <atoi>:
25049554:	6492      	save	16,s1

/******************************************************************************/
/*!
 * \par  Description:
 *   string to int
 * \param[in]
 * \param[in]
 * \return
 * \retval
 * \ingroup enumerate.c
 * \par
 * \note
 *******************************************************************************/
uint32 atoi(const char *src, int lenth)
{
25049556:	673d      	move	s1,sp
25049558:	d984      	sw	a0,16(s1)
2504955a:	d9a5      	sw	a1,20(s1)
2504955c:	6a00      	li	v0,0
    int total = 0;
2504955e:	d940      	sw	v0,0(s1)
25049560:	9945      	lw	v0,20(s1)
    int temp_value;

    while(lenth != 0) {
25049562:	222a      	beqz	v0,250495b8 <atoi+0x64>
25049564:	9944      	lw	v0,16(s1)
        if((*src >= 'a') && (*src <= 'f')) {
25049566:	8240      	lb	v0,0(v0)
25049568:	5261      	slti	v0,97
2504956a:	6109      	btnez	2504957e <atoi+0x2a>
2504956c:	9944      	lw	v0,16(s1)
2504956e:	8240      	lb	v0,0(v0)
25049570:	5267      	slti	v0,103
25049572:	6005      	bteqz	2504957e <atoi+0x2a>
25049574:	9944      	lw	v0,16(s1)
            temp_value = 10 + *src - 'a';
25049576:	8240      	lb	v0,0(v0)
25049578:	4aa9      	addiu	v0,-87
2504957a:	d941      	sw	v0,4(s1)
2504957c:	1011      	b	250495a0 <atoi+0x4c>
2504957e:	9944      	lw	v0,16(s1)
        } else if((*src >= 'A') && (*src <= 'F')) {
25049580:	8240      	lb	v0,0(v0)
25049582:	5241      	slti	v0,65
25049584:	6109      	btnez	25049598 <atoi+0x44>
25049586:	9944      	lw	v0,16(s1)
25049588:	8240      	lb	v0,0(v0)
2504958a:	5247      	slti	v0,71
2504958c:	6005      	bteqz	25049598 <atoi+0x44>
2504958e:	9944      	lw	v0,16(s1)
            temp_value = 10 + *src - 'A';
25049590:	8240      	lb	v0,0(v0)
25049592:	4ac9      	addiu	v0,-55
25049594:	d941      	sw	v0,4(s1)
25049596:	1004      	b	250495a0 <atoi+0x4c>
25049598:	9944      	lw	v0,16(s1)
        } else {
            temp_value = *src - '0';
2504959a:	8240      	lb	v0,0(v0)
2504959c:	4ad0      	addiu	v0,-48
2504959e:	d941      	sw	v0,4(s1)
250495a0:	9940      	lw	v0,0(s1)
        }
        total = total * 16 + temp_value;
250495a2:	3350      	sll	v1,v0,4
250495a4:	9941      	lw	v0,4(s1)
250495a6:	e349      	addu	v0,v1,v0
250495a8:	d940      	sw	v0,0(s1)
250495aa:	9944      	lw	v0,16(s1)
        src++;
250495ac:	4241      	addiu	v0,v0,1
250495ae:	d944      	sw	v0,16(s1)
250495b0:	9945      	lw	v0,20(s1)
        lenth--;
250495b2:	424f      	addiu	v0,v0,-1
250495b4:	d945      	sw	v0,20(s1)
250495b6:	17d4      	b	25049560 <atoi+0xc>
250495b8:	9940      	lw	v0,0(s1)
    }

    return total;
250495ba:	651a      	move	t8,v0
250495bc:	6758      	move	v0,t8
}
250495be:	65b9      	move	sp,s1
250495c0:	6412      	restore	16,s1
250495c2:	e8a0      	jrc	ra

250495c4 <descriptor_init>:
250495c4:	64f7      	save	56,ra,s0-s1

/******************************************************************************/
/*!
 * \par  Description:
 *   deal descriptor.
 * \param[in]   none
 * \return  none
 * \retval  none
 * \ingroup ud_setup.c
 * \par
 * \note
 *******************************************************************************/
void descriptor_init(void)
{
250495c6:	0104      	addiu	s1,sp,16
250495c8:	b290      	lw	v0,25049808 <descriptor_init+0x244>
    uint8 string_len;
    uint8 ret_type;

    if(0 != g_usb_vid[2]) {
250495ca:	a242      	lbu	v0,2(v0)
250495cc:	2224      	beqz	v0,25049616 <descriptor_init+0x52>
250495ce:	b090      	lw	s0,2504980c <descriptor_init+0x248>
        Device_Descriptor.idVendor = (unsigned short) atoi((char *) &g_usb_vid[2], 4);
250495d0:	b290      	lw	v0,25049810 <descriptor_init+0x24c>
250495d2:	6782      	move	a0,v0
250495d4:	6d04      	li	a1,4
250495d6:	182a 2555 	jal	25049554 <atoi>
250495da:	6500      	nop
250495dc:	6782      	move	a0,v0
250495de:	6764      	move	v1,a0
250495e0:	eb31      	zeh	v1
250495e2:	6aff      	li	v0,255
250495e4:	67a3      	move	a1,v1
250495e6:	ed4c      	and	a1,v0
250495e8:	a048      	lbu	v0,8(s0)
250495ea:	6762      	move	v1,v0
250495ec:	6a00      	li	v0,0
250495ee:	ea6c      	and	v0,v1
250495f0:	651a      	move	t8,v0
250495f2:	6745      	move	v0,a1
250495f4:	6778      	move	v1,t8
250495f6:	ea6d      	or	v0,v1
250495f8:	c048      	sb	v0,8(s0)
250495fa:	6744      	move	v0,a0
250495fc:	ea31      	zeh	v0
250495fe:	3242      	srl	v0,8
25049600:	6782      	move	a0,v0
25049602:	ec31      	zeh	a0
25049604:	a049      	lbu	v0,9(s0)
25049606:	6762      	move	v1,v0
25049608:	6a00      	li	v0,0
2504960a:	ea6c      	and	v0,v1
2504960c:	651a      	move	t8,v0
2504960e:	6744      	move	v0,a0
25049610:	6778      	move	v1,t8
25049612:	ea6d      	or	v0,v1
25049614:	c049      	sb	v0,9(s0)
25049616:	b280      	lw	v0,25049814 <descriptor_init+0x250>
    }

    if(0 != g_usb_pid[2]) {
25049618:	a242      	lbu	v0,2(v0)
2504961a:	2224      	beqz	v0,25049664 <descriptor_init+0xa0>
2504961c:	b07c      	lw	s0,2504980c <descriptor_init+0x248>
        Device_Descriptor.idProduct = (unsigned short) atoi((char *) &g_usb_pid[2], 4);
2504961e:	b27f      	lw	v0,25049818 <descriptor_init+0x254>
25049620:	6782      	move	a0,v0
25049622:	6d04      	li	a1,4
25049624:	182a 2555 	jal	25049554 <atoi>
25049628:	6500      	nop
2504962a:	6782      	move	a0,v0
2504962c:	6764      	move	v1,a0
2504962e:	eb31      	zeh	v1
25049630:	6aff      	li	v0,255
25049632:	67a3      	move	a1,v1
25049634:	ed4c      	and	a1,v0
25049636:	a04a      	lbu	v0,10(s0)
25049638:	6762      	move	v1,v0
2504963a:	6a00      	li	v0,0
2504963c:	ea6c      	and	v0,v1
2504963e:	651a      	move	t8,v0
25049640:	6745      	move	v0,a1
25049642:	6778      	move	v1,t8
25049644:	ea6d      	or	v0,v1
25049646:	c04a      	sb	v0,10(s0)
25049648:	6744      	move	v0,a0
2504964a:	ea31      	zeh	v0
2504964c:	3242      	srl	v0,8
2504964e:	6782      	move	a0,v0
25049650:	ec31      	zeh	a0
25049652:	a04b      	lbu	v0,11(s0)
25049654:	6762      	move	v1,v0
25049656:	6a00      	li	v0,0
25049658:	ea6c      	and	v0,v1
2504965a:	651a      	move	t8,v0
2504965c:	6744      	move	v0,a0
2504965e:	6778      	move	v1,t8
25049660:	ea6d      	or	v0,v1
25049662:	c04b      	sb	v0,11(s0)
25049664:	b26e      	lw	v0,2504981c <descriptor_init+0x258>
    }

    if(0 != g_usb_bcd[2]) {
25049666:	a242      	lbu	v0,2(v0)
25049668:	2224      	beqz	v0,250496b2 <descriptor_init+0xee>
2504966a:	b069      	lw	s0,2504980c <descriptor_init+0x248>
        Device_Descriptor.bcdDevice = (unsigned short) atoi((char *) &g_usb_bcd[2], 4);
2504966c:	b26d      	lw	v0,25049820 <descriptor_init+0x25c>
2504966e:	6782      	move	a0,v0
25049670:	6d04      	li	a1,4
25049672:	182a 2555 	jal	25049554 <atoi>
25049676:	6500      	nop
25049678:	6782      	move	a0,v0
2504967a:	6764      	move	v1,a0
2504967c:	eb31      	zeh	v1
2504967e:	6aff      	li	v0,255
25049680:	67a3      	move	a1,v1
25049682:	ed4c      	and	a1,v0
25049684:	a04c      	lbu	v0,12(s0)
25049686:	6762      	move	v1,v0
25049688:	6a00      	li	v0,0
2504968a:	ea6c      	and	v0,v1
2504968c:	651a      	move	t8,v0
2504968e:	6745      	move	v0,a1
25049690:	6778      	move	v1,t8
25049692:	ea6d      	or	v0,v1
25049694:	c04c      	sb	v0,12(s0)
25049696:	6744      	move	v0,a0
25049698:	ea31      	zeh	v0
2504969a:	3242      	srl	v0,8
2504969c:	6782      	move	a0,v0
2504969e:	ec31      	zeh	a0
250496a0:	a04d      	lbu	v0,13(s0)
250496a2:	6762      	move	v1,v0
250496a4:	6a00      	li	v0,0
250496a6:	ea6c      	and	v0,v1
250496a8:	651a      	move	t8,v0
250496aa:	6744      	move	v0,a0
250496ac:	6778      	move	v1,t8
250496ae:	ea6d      	or	v0,v1
250496b0:	c04d      	sb	v0,13(s0)
250496b2:	b25d      	lw	v0,25049824 <descriptor_init+0x260>
    }

    string_len = count_string_charlngth((uint8 *) &manufacure_string.wManufacturerName, 0x08);
250496b4:	6782      	move	a0,v0
250496b6:	6d08      	li	a1,8
250496b8:	182a 252f 	jal	250494bc <count_string_charlngth>
250496bc:	6500      	nop
250496be:	c140      	sb	v0,0(s1)
250496c0:	b35a      	lw	v1,25049828 <descriptor_init+0x264>
    manufacure_string.bLength = 0x02 + string_len * 2;
250496c2:	a140      	lbu	v0,0(s1)
250496c4:	3244      	sll	v0,1
250496c6:	4242      	addiu	v0,v0,2
250496c8:	c340      	sb	v0,0(v1)
250496ca:	b358      	lw	v1,25049828 <descriptor_init+0x264>
    manufacure_string.bDescriptorType = 0x03;
250496cc:	6a03      	li	v0,3
250496ce:	c341      	sb	v0,1(v1)
250496d0:	b255      	lw	v0,25049824 <descriptor_init+0x260>
    cnvrt_ascii_to_uni16((uint8 *) &manufacure_string.wManufacturerName, string_len);
250496d2:	a160      	lbu	v1,0(s1)
250496d4:	6782      	move	a0,v0
250496d6:	67a3      	move	a1,v1
250496d8:	182a 2540 	jal	25049500 <cnvrt_ascii_to_uni16>
250496dc:	6500      	nop
250496de:	b254      	lw	v0,2504982c <descriptor_init+0x268>

    string_len = count_string_charlngth((uint8 *) &device_name_string.wProductName, 0x10);
250496e0:	6782      	move	a0,v0
250496e2:	6d10      	li	a1,16
250496e4:	182a 252f 	jal	250494bc <count_string_charlngth>
250496e8:	6500      	nop
250496ea:	c140      	sb	v0,0(s1)
250496ec:	b351      	lw	v1,25049830 <descriptor_init+0x26c>
    device_name_string.bLength = 0x02 + string_len * 2;
250496ee:	a140      	lbu	v0,0(s1)
250496f0:	3244      	sll	v0,1
250496f2:	4242      	addiu	v0,v0,2
250496f4:	c340      	sb	v0,0(v1)
250496f6:	b34f      	lw	v1,25049830 <descriptor_init+0x26c>
    device_name_string.bDescriptorType = 0x03;
250496f8:	6a03      	li	v0,3
250496fa:	c341      	sb	v0,1(v1)
250496fc:	b24c      	lw	v0,2504982c <descriptor_init+0x268>
    cnvrt_ascii_to_uni16((uint8 *) &device_name_string.wProductName, string_len);
250496fe:	a160      	lbu	v1,0(s1)
25049700:	6782      	move	a0,v0
25049702:	67a3      	move	a1,v1
25049704:	182a 2540 	jal	25049500 <cnvrt_ascii_to_uni16>
25049708:	6500      	nop
2504970a:	b24b      	lw	v0,25049834 <descriptor_init+0x270>

    //sys_get_fw_info((uint8 *) &ret_type, FW_INFO_USB_SN_TYPE_ADDR, 1);
    //if (((2 == ret_type) || (1 == ret_type))&&(g_default_sn == 1))
    {
        //sys_get_fw_info((uint8 *) &SerialNumber.wManufacturerName, FW_INFO_USB_ID_ADDR, 16);
        string_len = count_string_charlngth((uint8 *) &SerialNumber.wManufacturerName, 0x30);
2504970c:	6782      	move	a0,v0
2504970e:	6d30      	li	a1,48
25049710:	182a 252f 	jal	250494bc <count_string_charlngth>
25049714:	6500      	nop
25049716:	c140      	sb	v0,0(s1)
25049718:	a140      	lbu	v0,0(s1)
        if(string_len != 0) {
2504971a:	2210      	beqz	v0,2504973c <descriptor_init+0x178>
2504971c:	b347      	lw	v1,25049838 <descriptor_init+0x274>
            SerialNumber.bLength = 0x02 + string_len * 2;
2504971e:	a140      	lbu	v0,0(s1)
25049720:	3244      	sll	v0,1
25049722:	4242      	addiu	v0,v0,2
25049724:	c340      	sb	v0,0(v1)
25049726:	b345      	lw	v1,25049838 <descriptor_init+0x274>
            SerialNumber.bDescriptorType = 0x03;
25049728:	6a03      	li	v0,3
2504972a:	c341      	sb	v0,1(v1)
2504972c:	b242      	lw	v0,25049834 <descriptor_init+0x270>
            cnvrt_ascii_to_uni16((uint8 *) &SerialNumber.wManufacturerName, string_len);
2504972e:	a160      	lbu	v1,0(s1)
25049730:	6782      	move	a0,v0
25049732:	67a3      	move	a1,v1
25049734:	182a 2540 	jal	25049500 <cnvrt_ascii_to_uni16>
25049738:	6500      	nop
2504973a:	1003      	b	25049742 <descriptor_init+0x17e>
2504973c:	b334      	lw	v1,2504980c <descriptor_init+0x248>
        } else {
            Device_Descriptor.iSerialNumber = 0x00;
2504973e:	6a00      	li	v0,0
25049740:	c350      	sb	v0,16(v1)
25049742:	b23f      	lw	v0,2504983c <descriptor_init+0x278>
        }
    }
    //序列号一致且同为UNICODE编码时，连两台小机到同一PC会死机，所以这里不转换成unicode编码
    //    string_len = count_string_charlngth((uint8 *) &SerialNumber.wManufacturerName, 0x10);
    //    SerialNumber.bLength = 0x02 + string_len * 2;
    //    SerialNumber.bDescriptorType = 0x03;
    //    cnvrt_ascii_to_uni16((uint8 *) &SerialNumber.wManufacturerName, string_len);
    //config data set
    if(g_audio_sample_set == 0) {
25049744:	a240      	lbu	v0,0(v0)
25049746:	2a0d      	bnez	v0,25049762 <descriptor_init+0x19e>
25049748:	b23e      	lw	v0,25049840 <descriptor_init+0x27c>
        libc_memcpy(audio_descriptors_of_configuration, (uint8 *)&All_Descriptors_of_Configuration1, \
2504974a:	b33f      	lw	v1,25049844 <descriptor_init+0x280>
2504974c:	6782      	move	a0,v0
2504974e:	67a3      	move	a1,v1
25049750:	6ee7      	li	a2,231
25049752:	6f00      	li	a3,0
25049754:	b23d      	lw	v0,25049848 <descriptor_init+0x284>
25049756:	eac0      	jalrc	v0
25049758:	b33d      	lw	v1,25049848 <descriptor_init+0x284>
                    sizeof(device_audio_configuration_t));
        //g_audio_config_data_ptr = (device_audio_configuration_t*)audio_descriptors_of_configuration;
        g_audio_config_data_size = sizeof(device_audio_configuration_t);
2504975a:	6a19      	li	v0,25
2504975c:	ea4b      	neg	v0
2504975e:	c340      	sb	v0,0(v1)
25049760:	101f      	b	250497a0 <descriptor_init+0x1dc>
25049762:	b238      	lw	v0,25049840 <descriptor_init+0x27c>
    } else {
        libc_memcpy(audio_descriptors_of_configuration, (uint8 *)&All_Descriptors_of_Configuration2, \
25049764:	b33b      	lw	v1,25049850 <descriptor_init+0x28c>
25049766:	6782      	move	a0,v0
25049768:	67a3      	move	a1,v1
2504976a:	6ee1      	li	a2,225
2504976c:	6f00      	li	a3,0
2504976e:	b237      	lw	v0,25049848 <descriptor_init+0x284>
25049770:	eac0      	jalrc	v0
25049772:	b337      	lw	v1,2504984c <descriptor_init+0x288>
                    sizeof(device_audio_configuration_sub_t));
        //g_audio_config_data_ptr = (device_audio_configuration_sub_t*)audio_descriptors_of_configuration;
        g_audio_config_data_size = sizeof(device_audio_configuration_sub_t);
25049774:	6a1f      	li	v0,31
25049776:	ea4b      	neg	v0
25049778:	c340      	sb	v0,0(v1)
2504977a:	b231      	lw	v0,2504983c <descriptor_init+0x278>
        //for sample set
        if(g_audio_sample_set == 2) {
2504977c:	a240      	lbu	v0,0(v0)
2504977e:	7202      	cmpi	v0,2
25049780:	6758      	move	v0,t8
25049782:	5a01      	sltiu	v0,1
25049784:	600d      	bteqz	250497a0 <descriptor_init+0x1dc>
25049786:	b32f      	lw	v1,25049840 <descriptor_init+0x27c>
            ((device_audio_configuration_sub_t *)audio_descriptors_of_configuration)\
25049788:	6a44      	li	v0,68
2504978a:	f080 c341 	sb	v0,129(v1)
2504978e:	b32d      	lw	v1,25049840 <descriptor_init+0x27c>
            ->Audio_Class_Format_Setting1.tSamFreq1[0] = 0x44;
            ((device_audio_configuration_sub_t *)audio_descriptors_of_configuration)\
25049790:	6a54      	li	v0,84
25049792:	ea4b      	neg	v0
25049794:	f080 c342 	sb	v0,130(v1)
25049798:	b32a      	lw	v1,25049840 <descriptor_init+0x27c>
            ->Audio_Class_Format_Setting1.tSamFreq1[1] = 0xac;
            ((device_audio_configuration_sub_t *)audio_descriptors_of_configuration)\
2504979a:	6a00      	li	v0,0
2504979c:	f080 c343 	sb	v0,131(v1)
250497a0:	b227      	lw	v0,2504983c <descriptor_init+0x278>
            ->Audio_Class_Format_Setting1.tSamFreq1[2] = 0x00;
        }
    }

    /*if ((g_volume_flag & 0x02) != 0)
    {
        //All_Descriptors_of_Configuration.Audio_Class_Feature1.bmaControls0 = 0x03;
        g_audio_config_data_ptr->Audio_Class_Feature1.bmaControls0 = 0x03;
    }
    else
    {
        //All_Descriptors_of_Configuration.Audio_Class_Feature1.bmaControls0 = 0x01;
        g_audio_config_data_ptr->Audio_Class_Feature1.bmaControls0 = 0x01;
    }*/
    if(g_audio_sample_set == 0) {
250497a2:	a240      	lbu	v0,0(v0)
250497a4:	2a11      	bnez	v0,250497c8 <descriptor_init+0x204>
250497a6:	b327      	lw	v1,25049840 <descriptor_init+0x27c>
        ((device_audio_configuration_t *)audio_descriptors_of_configuration)\
250497a8:	d961      	sw	v1,4(s1)
250497aa:	b22b      	lw	v0,25049854 <descriptor_init+0x290>
250497ac:	9a60      	lw	v1,0(v0)
250497ae:	6a02      	li	v0,2
250497b0:	ea6c      	and	v0,v1
250497b2:	2203      	beqz	v0,250497ba <descriptor_init+0x1f6>
250497b4:	6a03      	li	v0,3
250497b6:	c148      	sb	v0,8(s1)
250497b8:	1002      	b	250497be <descriptor_init+0x1fa>
250497ba:	6b01      	li	v1,1
250497bc:	c168      	sb	v1,8(s1)
250497be:	a168      	lbu	v1,8(s1)
250497c0:	9941      	lw	v0,4(s1)
250497c2:	f040 c273 	sb	v1,83(v0)
250497c6:	1010      	b	250497e8 <descriptor_init+0x224>
250497c8:	b21e      	lw	v0,25049840 <descriptor_init+0x27c>
        ->Audio_Class_Feature1.bmaControls0 = (uint8)(((g_volume_flag & 0x02) != 0) ? 0x03 : 0x01);
    } else {
        ((device_audio_configuration_sub_t *)audio_descriptors_of_configuration)\
250497ca:	d943      	sw	v0,12(s1)
250497cc:	b222      	lw	v0,25049854 <descriptor_init+0x290>
250497ce:	9a60      	lw	v1,0(v0)
250497d0:	6a02      	li	v0,2
250497d2:	ea6c      	and	v0,v1
250497d4:	2203      	beqz	v0,250497dc <descriptor_init+0x218>
250497d6:	6b03      	li	v1,3
250497d8:	c170      	sb	v1,16(s1)
250497da:	1002      	b	250497e0 <descriptor_init+0x21c>
250497dc:	6a01      	li	v0,1
250497de:	c150      	sb	v0,16(s1)
250497e0:	a150      	lbu	v0,16(s1)
250497e2:	9963      	lw	v1,12(s1)
250497e4:	f040 c353 	sb	v0,83(v1)
250497e8:	0b06      	la	v1,25049800 <descriptor_init+0x23c>
        ->Audio_Class_Feature1.bmaControls0 = (uint8)(((g_volume_flag & 0x02) != 0) ? 0x03 : 0x01);
    }
    libc_print("pcctrl", g_volume_flag, 2);
250497ea:	b21b      	lw	v0,25049854 <descriptor_init+0x290>
250497ec:	9a40      	lw	v0,0(v0)
250497ee:	6783      	move	a0,v1
250497f0:	67a2      	move	a1,v0
250497f2:	6e02      	li	a2,2
250497f4:	6f4b      	li	a3,75
250497f6:	b219      	lw	v0,25049858 <descriptor_init+0x294>
250497f8:	eac0      	jalrc	v0
250497fa:	65b9      	move	sp,s1
}
250497fc:	6475      	restore	40,ra,s0-s1
250497fe:	e8a0      	jrc	ra
25049800:	6370      	addiu	sp,896
25049802:	7463      	cmpi	a0,99
25049804:	6c72      	li	a0,114
25049806:	0000      	addiu	s0,sp,0
25049808:	939c      	lw	v1,624(sp)
2504980a:	9fc1      	lw	a2,4(a3)
2504980c:	9248      	lw	v0,288(sp)
2504980e:	9fc1      	lw	a2,4(a3)
25049810:	939e      	lw	v1,632(sp)
25049812:	9fc1      	lw	a2,4(a3)
25049814:	93a4      	lw	v1,656(sp)
25049816:	9fc1      	lw	a2,4(a3)
25049818:	93a6      	lw	v1,664(sp)
2504981a:	9fc1      	lw	a2,4(a3)
2504981c:	93ac      	lw	v1,688(sp)
2504981e:	9fc1      	lw	a2,4(a3)
25049820:	93ae      	lw	v1,696(sp)
25049822:	9fc1      	lw	a2,4(a3)
25049824:	9286      	lw	v0,536(sp)
25049826:	9fc1      	lw	a2,4(a3)
25049828:	9284      	lw	v0,528(sp)
2504982a:	9fc1      	lw	a2,4(a3)
2504982c:	9262      	lw	v0,392(sp)
2504982e:	9fc1      	lw	a2,4(a3)
25049830:	9260      	lw	v0,384(sp)
25049832:	9fc1      	lw	a2,4(a3)
25049834:	929a      	lw	v0,616(sp)
25049836:	9fc1      	lw	a2,4(a3)
25049838:	9298      	lw	v0,608(sp)
2504983a:	9fc1      	lw	a2,4(a3)
2504983c:	94b4      	lw	a0,720(sp)
2504983e:	9fc1      	lw	a2,4(a3)
25049840:	93cc      	lw	v1,816(sp)
25049842:	9fc1      	lw	a2,4(a3)
25049844:	8cd0      	lh	a2,32(a0)
25049846:	bfc1      	lwu	a2,4(a3)
25049848:	8e9d      	lh	a0,58(a2)
2504984a:	bfc1      	lwu	a2,4(a3)
2504984c:	94b3      	lw	a0,716(sp)
2504984e:	9fc1      	lw	a2,4(a3)
25049850:	8db8      	lh	a1,48(a1)
25049852:	bfc1      	lwu	a2,4(a3)
25049854:	94b8      	lw	a0,736(sp)
25049856:	9fc1      	lw	a2,4(a3)
25049858:	8ea1      	lh	a1,2(a2)
2504985a:	bfc1      	lwu	a2,4(a3)
